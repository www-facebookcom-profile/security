if (self.CavalryLogger) { CavalryLogger.start_js(["NqMGf"]); }

__d("MTypeaheadStaticSource",["TypeaheadSource"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,h);j=i&&i.prototype;function k(l,m){"use strict";j.constructor.call(this);if(m)this.getTransformer=m;for(var n=0;n<l.length;++n)this.addResult(l[n])}k.prototype.didChange=function(l){"use strict";this.matchResults(l)};f.exports=k}),null);
__d("MRegClientLoggingEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({STARTED:"started",NEXT:"next",ACQUIRED:"acquired",SUBMIT:"submit"})}),null);
__d("MRegMultiStepConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BACK_BUTTON:"reg_back_button",FORM:"multi_step_form",LEGAL_TEXT:"legal_text",SUBMIT:"multi_step_submit",NEXT:"multi_step_next",HIDDEN:"hidden_elem",WRAPPER:"multi_step_input_wrapper",DISPLAYED_STEP:"multi_step_displayed_step",FOCUS_ME:"focus_me",PROGRESS_BAR_STEP:"progress_bar_step",GENDER_RADIO:"multi_step_gender_radio",GENDER_RADIO_WITH_NEXT:"multi_step_gender_radio_with_next",PASSWORD:"multi_step_password",SAVE_PASSWORD:"multi_step_save_password",SKIP_PASSWORD:"multi_step_skip_password",SKIP_PASSWORD_INPUT:"multi_step_skip_password_input",SKIP_PW_GO_BACK:"multi_step_skip_pw_go_back",SKIP_PW_SIGN_UP:"multi_step_skip_pw_sign_up",REG_IMPRESSION_ID:"reg_impression_id"})}),null);
__d("MRegStepContainer",["CSS","DOM","MRegMultiStepConstants","Stratcom","idx","invariant"],(function a(b,c,d,e,f,g,h,i,j,k,l,m){"use strict";function n(o){var p=arguments.length<=1||arguments[1]===undefined?0:arguments[1];this.$MRegStepController1=p;this.$MRegStepController2=o.map(function(r,s){var t=i.find(r,"div",j.WRAPPER);return{node:r,completed:false,name:t.id,index:s}});var q=this.$MRegStepController2[this.$MRegStepController1];this.$MRegStepController3.apply(this,o);this.$MRegStepController4(q.node);k.invoke("MRegMultiStep-start",[q.name],{key:q.name,root:q.node})}n.prototype.getIncompleteNumSteps=function(){return this.$MRegStepController2.filter(function(o){return!o.completed}).length};n.prototype.getTotalNumSteps=function(){return this.$MRegStepController2.length};n.prototype.getIncompleteCurrentStep=function(){return this.$MRegStepController2.slice(0,this.$MRegStepController1).reduce(function(o,p){return o+(p.completed?0:1)},0)};n.prototype.getCurrentStep=function(){return this.$MRegStepController1};n.prototype.getCurrentNode=function(){return this.$MRegStepController2[this.$MRegStepController1].node};n.prototype.getCurrentStepName=function(){return this.$MRegStepController2[this.$MRegStepController1].name};n.prototype.goToNext=function(){var o=this.$MRegStepController2.slice(this.$MRegStepController1+1),p=o.find(function(q){return!q.completed});if(p!==undefined)this.$MRegStepController5(p.index);return this.$MRegStepController2[this.$MRegStepController1].node};n.prototype.goToPrev=function(){var o=this.$MRegStepController2.slice(0,this.$MRegStepController1),p=o.reverse().find(function(q){return!q.completed});if(p!==undefined)this.$MRegStepController5(p.index);return this.$MRegStepController2[this.$MRegStepController1].node};n.prototype.goToFirst=function(){var o=this.$MRegStepController2.find(function(o){return!o.completed});o!==undefined||m(0);this.$MRegStepController5(o.index);return this.$MRegStepController2[this.$MRegStepController1].node};n.prototype.goToLast=function(){var o=[].concat(this.$MRegStepController2).reverse().find(function(o){return!o.completed});o!==undefined||m(0);this.$MRegStepController5(o.index);return this.$MRegStepController2[this.$MRegStepController1].node};n.prototype.isFirst=function(){var o=this.$MRegStepController2.slice(0,this.$MRegStepController1);return!o.some(function(p){return!p.completed})};n.prototype.isLast=function(){var o=this.$MRegStepController2.slice(this.$MRegStepController1+1);return!o.some(function(p){return!p.completed})};n.prototype.isOnlyOneStep=function(){return this.$MRegStepController2.filter(function(o){return!o.completed}).length===1};n.prototype.getStepNumber=function(o){var p,q=this.$MRegStepController6(o);return(p=q)!=null?p.index:p};n.prototype.getStep=function(o){var p,q=this.$MRegStepController6(o);return(p=q)!=null?p.node:p};n.prototype.setCompleted=function(o){var p=this.$MRegStepController6(o);if(p==null)return;p.completed=true};n.prototype.setIncomplete=function(o){var p=this.$MRegStepController6(o);if(p==null)return;p.completed=false};n.prototype.goToStep=function(o){var p=this.$MRegStepController6(o);if(p==null)return;this.$MRegStepController5(p.index)};n.prototype.$MRegStepController3=function(){for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];p.forEach(function(r){return h.addClass(r,"hidden_elem")})};n.prototype.$MRegStepController4=function(){for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];p.forEach(function(r){return h.removeClass(r,"hidden_elem")})};n.prototype.$MRegStepController5=function(o){if(o>=this.$MRegStepController2.length||o<0)return;var p=this.$MRegStepController2[this.$MRegStepController1],q=this.$MRegStepController2[o];if(p===q){k.invoke("MRegMultiStep-refresh",[q.name],{key:p.name,root:p.node});return}this.$MRegStepController3(p.node);this.$MRegStepController4(q.node);k.invoke("MRegMultiStep-end",[p.name],{key:p.name,root:p.node});k.invoke("MRegMultiStep-start",[q.name],{key:q.name,root:q.node});this.$MRegStepController1=o};n.prototype.$MRegStepController6=function(o){return this.$MRegStepController2.find(function(p){return p.name===o})};f.exports=n}),null);
__d("MRegistrationContactPhoneUI",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FORM_INPUT_LABEL:"m_registration_input_label",PUSH_TO_PHONE_SIGIL:"push_to_phone_link",CONTACT_STEP_TITLE_SIGIL:"enter_phone_title_contact_step",SIGNUP_BY_EMAIL_LINK_ID:"signup_by_email_link"})}),null);
__d("MRegClientLoggingStep",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NAME:"name",CONTACTPOINT:"contactpoint",BIRTHDAY:"birthday",GENDER:"gender",PASSWORD:"password"})}),null);
__d("RegLoggerSteps",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({STEP_FORM_LOAD:"form_load",STEP_CLIENT_FORM_LOAD:"client_form_load",STEP_INFO_PREVALIDATION:"info_prevalidation",STEP_INFO_VALIDATION:"info_validation",STEP_EMAIL_CONFIRMATION:"email_confirmation",STEP_FORM_FOCUS:"form_focus",STEP_FORM_POST_LOAD_FOCUS:"postload_focus",STEP_NEXT_BUTTON:"next_button",STEP_BACK_BUTTON:"back_button",STEP_BIRTHDAY_DIALOG_SHOWN:"birthday_dialog_shown",STEP_BIRTHDAY_DIALOG_CONFIRM:"birthday_dialog_confirm",STEP_BIRTHDAY_DIALOG_CANCEL:"birthday_dialog_cancel"})}),null);
__d("XRegistrationFormLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/reg/log/",{action:{type:"String"},reg_instance:{type:"String"},category:{type:"Enum",enumType:1},type:{type:"Enum",enumType:1},field:{type:"Enum",enumType:1}})}),null);
__d("MRegistrationFormLogger",["Banzai","BanzaiLogger","DOM","EventListener","Map","MRegClientLoggingStep","MRegClientLoggingEvent","MRegistrationClientConfig","MRequest","RegLoggerSteps","XRegistrationFormLoggingController"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";var s=new l([[o.fields.FIRSTNAME,m.NAME],[o.fields.CP,m.CONTACTPOINT],[o.fields.BIRTHDAY,m.BIRTHDAY],[o.fields.GENDER,m.GENDER],[o.fields.PASSWORD,m.PASSWORD]]);function t(u,v,w){this.reg_instance=v;this.hasFocusedAlready=false;this.reg_impression_id=w;k.listen(window,"load",function(){var y=new l();y.set("action",q.STEP_CLIENT_FORM_LOAD);this.log(y);this.$MRegistrationFormLogger1(n.STARTED)}.bind(this));var x=j.scry(u,"input",null);x.forEach(function(y){k.listen(y,"focus",this.logFormFocus.bind(this))}.bind(this))}t.prototype.$MRegistrationFormLogger1=function(event){i.create(h.VITAL).log("MtouchRegClientEventsLoggerConfig",{event:event,reg_instance:this.reg_instance,reg_impression_id:this.reg_impression_id})};t.prototype.logStepEvent=function(u,event){if(event==n.SUBMIT)this.$MRegistrationFormLogger1(event);var v=s.get(u);if(v==null||event==null)return;var w=v+"_"+event;this.$MRegistrationFormLogger1(w)};t.prototype.logFormFocus=function(){if(this.hasFocusedAlready)return;this.hasFocusedAlready=true;var u=new l();u.set("action",q.STEP_FORM_FOCUS);this.log(u)};t.prototype.log=function(u){var v=r.getURIBuilder().setString("reg_instance",this.reg_instance);u.forEach(function(x,y){v.setString(y,x)});var w=v.getURI();new p(w.toString()).send()};f.exports=t}),null);
__d("MTypeaheadEmailDomainSource",["MTypeaheadStaticSource"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,h);j=i&&i.prototype;k.prototype.getQueryExtractor=function(){return function(l){var m=l.toLowerCase().split("@"),n=m[0],o=m[1];if(o==null)return"";this.$MTypeaheadEmailDomainSource1=n;return"@"+o}.bind(this)};k.prototype.createNode=function(l){return j.createNode.call(this,babelHelpers["extends"]({},l,{name:""+this.$MTypeaheadEmailDomainSource1+l.name,display:""+this.$MTypeaheadEmailDomainSource1+l.name}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("MRegMultiStepController",["$","CSS","DeferredCookie","DOM","MAjaxify","Map","MOverlay","MRequest","Stratcom","cx","fbt","ge","goURI","idx","MRegistrationClientConfig","MRegistrationFormLogger","MRegMultiStepConstants","MRegStepContainer","RegLoggerSteps","MRegClientLoggingEvent","MRegistrationContactPhoneUI","Typeahead","MTypeaheadEmailDomainSource","Style"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E){"use strict";function F(G,H,I,J,K,L){this.$MRegMultiStepController11=function(){return this.submitting?null:r._("\u78ba\u5b9a\u8981\u53d6\u6d88\u5efa\u7acb\u5e33\u865f\uff1f\u9019\u6a23\u6703\u6368\u68c4\u4f60\u76ee\u524d\u8f38\u5165\u7684\u6240\u6709\u8cc7\u6599\u3002")}.bind(this);this.root=G;this.autofocus=J;this.hasSignUpByEmailLink=K;this.nextButton=k.find(G,"button",x.NEXT);this.submitButton=k.find(G,"button",x.SUBMIT);this.progressBar=L.progressBar;var M=k.scry(G,"div",x.DISPLAYED_STEP);this.stepContainer=new y(M,I);this.keep_async_reg_form_disabled=false;this.blockNextStep=false;this.shouldShowConfirmationOverlay=false;this.numCompletedSteps=0;this.passwordOverlay=L.passwordOverlay;this.passwordlessListenersSetup=false;this.submitting=false;this.persistURI=L.persistURI;this.loginLink=L.loginLink;this.hideLoginLinkStep=L.hideLoginLinkStep;L.topEmailDomains&&this.$MRegMultiStepController1(L.topEmailDomains);var N=k.scry(this.root,"input",x.GENDER_RADIO);this.hasGenderGlyph=N.length!==0;this.backButton=h(x.BACK_BUTTON);this.legal=k.find(G,"div",x.LEGAL_TEXT);p.listen("click",[x.FORM,x.NEXT],this.$MRegMultiStepController2.bind(this));p.listen("click",[x.FORM,x.GENDER_RADIO],this.$MRegMultiStepController3.bind(this));p.listen("click",[x.FORM,x.GENDER_RADIO_WITH_NEXT],this.$MRegMultiStepController3.bind(this));p.listen("click",[x.FORM,x.SUBMIT],this.$MRegMultiStepController2.bind(this));p.listen("click",[x.BACK_BUTTON],this.$MRegMultiStepController4.bind(this));p.listen("keydown",[x.FORM],this.$MRegMultiStepController5.bind(this));p.listen("click",[[x.FORM,v.fields.BIRTHDAY_DAY],[x.FORM,v.fields.BIRTHDAY_MONTH],[x.FORM,v.fields.BIRTHDAY_YEAR]],function(){return this.shouldShowConfirmationOverlay=false}.bind(this));p.listen("MRegMultiStep-next",null,function(P){if(p.pass())return;if(this.stepContainer.isLast())this.$MRegMultiStepController6(P);else{setTimeout(function(){return this.$MRegMultiStepController7()}.bind(this),30);this.$MRegMultiStepController8();this.$MRegMultiStepController9(z.STEP_NEXT_BUTTON)}this.logger.logStepEvent(P.getData().key,A.ACQUIRED)}.bind(this));p.listen("MRegMultiStep-start",null,function(P){if(p.pass())return;p.invoke("MRegMultiStep-refresh",[P.getData().key],P.getData())});var O=k.scry(this.root,"input",x.REG_IMPRESSION_ID)[0];this.logger=new w(G,H,O.value);this.inlineValidation=false;i.removeClass(this.root,"_w36");this.nextButton.disabled=false;this.$MRegMultiStepController10();if(L.confirmOnBack)window.onbeforeunload=this.$MRegMultiStepController11}F.prototype.getNextButton=function(){return this.nextButton};F.prototype.removeStep=function(G){this.progressBar.deleteSteps(1);this.stepContainer.setCompleted(G)};F.prototype.addStep=function(G){this.stepContainer.setIncomplete(G)};F.prototype.getCurrentStep=function(){return this.stepContainer.getCurrentStep()};F.prototype.getNumSteps=function(){return this.stepContainer.getIncompleteNumSteps()};F.prototype.getStep=function(G){return this.stepContainer.getStep(G)};F.prototype.isLast=function(){return this.stepContainer.isLast()};F.forceRedirectTo=function(G){t(G,true,false)};F.keepAsyncRegForm=function(G,H){G.keep_async_reg_form_disabled=H};F.registerBirthdayConfirmationOverlay=function(G,H,I,J,K){G.shouldShowConfirmationOverlay=true;G.birthdayConfirmationOverlay=H;G.prefilledBirthday=K;k.listen(I,"click",null,function(){G.birthdayConfirmationOverlay.hide();G.blockNextStep=false;G.shouldShowConfirmationOverlay=false;G.$MRegMultiStepController9(z.STEP_BIRTHDAY_DIALOG_CONFIRM);p.invoke("MRegMultiStep-next",G.stepContainer.getCurrentStepName(),{key:G.stepContainer.getCurrentStepName(),root:G.stepContainer.getCurrentNode()})});k.listen(J,"click",null,function(){G.birthdayConfirmationOverlay.hide();G.blockNextStep=false;G.$MRegMultiStepController9(z.STEP_BIRTHDAY_DIALOG_CANCEL)})};F.prototype.$MRegMultiStepController2=function(G){var H=arguments.length<=1||arguments[1]===undefined?true:arguments[1];if(H)G.prevent();var I=this.stepContainer.getCurrentNode(),J=this.stepContainer.getCurrentStepName();this.logger.logStepEvent(J,A.NEXT);this.blockNextStep=false;if(this.shouldShowConfirmationOverlay&&this.$MRegMultiStepController12())this.$MRegMultiStepController13();if(this.blockNextStep)return;p.invoke("MRegMultiStep-next",J,{key:J,root:I})};F.prototype.$MRegMultiStepController7=function(){var G,H=this.stepContainer.goToNext();this.$MRegMultiStepController10();if(!this.autofocus)return;var I=k.scry(H,"input",x.FOCUS_ME),J=(G=I)!=null?G[0]:G;if(J instanceof HTMLElement)J.focus()};F.prototype.$MRegMultiStepController4=function(G){G.prevent();this.stepContainer.goToPrev();this.$MRegMultiStepController10();this.$MRegMultiStepController9(z.STEP_BACK_BUTTON)};F.prototype.$MRegMultiStepController10=function(){if(this.stepContainer.isOnlyOneStep()){this.$MRegMultiStepController14(this.backButton,this.nextButton);this.$MRegMultiStepController15(this.submitButton,this.legal)}else if(this.stepContainer.isFirst()){this.$MRegMultiStepController14(this.backButton,this.legal,this.submitButton);this.$MRegMultiStepController15(this.nextButton)}else if(this.stepContainer.isLast()){this.$MRegMultiStepController14(this.nextButton);this.$MRegMultiStepController15(this.legal,this.backButton,this.submitButton)}else{this.$MRegMultiStepController15(this.backButton,this.nextButton);this.$MRegMultiStepController14(this.legal,this.submitButton)}this.progressBar.setStep(this.stepContainer.getIncompleteCurrentStep());if(this.hasSignUpByEmailLink&&this.$MRegMultiStepController16())this.$MRegMultiStepController15(s(B.SIGNUP_BY_EMAIL_LINK_ID));else this.$MRegMultiStepController14(s(B.SIGNUP_BY_EMAIL_LINK_ID));if(this.hasGenderGlyph&&this.$MRegMultiStepController17())this.$MRegMultiStepController14(this.nextButton);if(this.hideLoginLinkStep>0&&this.stepContainer.getCurrentStep()>=this.hideLoginLinkStep-1)this.$MRegMultiStepController14(this.loginLink);else this.$MRegMultiStepController15(this.loginLink)};F.prototype.$MRegMultiStepController9=function(G){var H=new m();H.set("action",G);this.logger.log(H)};F.prototype.$MRegMultiStepController8=function(){if(this.persistURI==null||!(this.root instanceof HTMLFormElement))return;var G={},H=k.convertFormToDictionary(this.root),I=new o(this.persistURI);v.persisted.forEach(function(J){if(H[J])G[J]=H[J]});if(this.$MRegMultiStepController18()){delete G[v.fields.BIRTHDAY_DAY];delete G[v.fields.BIRTHDAY_MONTH];delete G[v.fields.BIRTHDAY_YEAR]}I.setData(G);I.send()};F.prototype.$MRegMultiStepController6=function(G){G.prevent();this.logger.logStepEvent(null,A.SUBMIT);j.flushAllCookies();l.form(null,this.root,"async_elem","nocache",null,this.keep_async_reg_form_disabled,[{response:this.$MRegMultiStepController19.bind(this)}],null);this.submitting=true;if(this.keep_async_reg_form_disabled){i.addClass(this.root,"async_elem_saving");if(this.submitButton instanceof HTMLButtonElement)this.submitButton.disabled=true}};F.prototype.$MRegMultiStepController19=function(G){var H=G.payload;if(H==null)return;this.submitting=false;if(this.keep_async_reg_form_disabled){if(this.submitButton instanceof HTMLButtonElement)this.submitButton.disabled=false;i.removeClass(this.root,"async_elem_saving")}if(H.form_error){this.stepContainer.goToFirst();this.$MRegMultiStepController10();return}var I=this.stepContainer.getTotalNumSteps()-1,J=H.errors,K=J[I];J.forEach(function(L){var M=this.stepContainer.getStepNumber(L);if(M==null)return;if(M<=I){I=M;K=L}}.bind(this));H.finished.forEach(function(L){this.stepContainer.setCompleted(L)}.bind(this));if(H.finished.length>0)this.progressBar.hide();this.numCompletedSteps=H.finished.length;if(H.allowSkipPassword&&!this.passwordlessListenersSetup)this.$MRegMultiStepController20(H.showPasswordConfirmation);this.stepContainer.goToStep(K);this.$MRegMultiStepController10()};F.prototype.$MRegMultiStepController15=function(){for(var G=arguments.length,H=Array(G),I=0;I<G;I++)H[I]=arguments[I];H.forEach(function(J){return i.removeClass(J,"hidden_elem")})};F.prototype.$MRegMultiStepController14=function(){for(var G=arguments.length,H=Array(G),I=0;I<G;I++)H[I]=arguments[I];H.forEach(function(J){return i.addClass(J,"hidden_elem")})};F.prototype.$MRegMultiStepController3=function(G){var H=false,I=k.scry(this.stepContainer.getCurrentNode(),"input",x.GENDER_RADIO);if(I.length===0){I=k.scry(this.stepContainer.getCurrentNode(),"input",x.GENDER_RADIO_WITH_NEXT);H=true}for(var J=0;J<I.length;J++){var K=I[J];if(K.checked)i.addClass(K.parentNode,"_2qkb");else i.removeClass(K.parentNode,"_2qkb")}if(!H)this.$MRegMultiStepController2(G,false)};F.prototype.$MRegMultiStepController18=function(){var G=this.stepContainer.getStep(v.fields.BIRTHDAY),H=k.scry(G,"select",null);if(H.length!==3)return false;var I=H.find(function(L){return L.name==v.fields.BIRTHDAY_DAY}).value,J=H.find(function(L){return L.name==v.fields.BIRTHDAY_MONTH}).value,K=H.find(function(L){return L.name==v.fields.BIRTHDAY_YEAR}).value;if(this.prefilledBirthday.day!==I||this.prefilledBirthday.month!==J||this.prefilledBirthday.year!==K)return false;return true};F.prototype.$MRegMultiStepController13=function(){if(this.$MRegMultiStepController18()){this.birthdayConfirmationOverlay.show();this.blockNextStep=true;this.$MRegMultiStepController9(z.STEP_BIRTHDAY_DIALOG_SHOWN)}};F.prototype.$MRegMultiStepController5=function(G){if(G.getSpecialKey()!=="return")return;this.$MRegMultiStepController2(G)};F.prototype.$MRegMultiStepController17=function(){return this.stepContainer.getCurrentStepName()===v.fields.GENDER};F.prototype.$MRegMultiStepController16=function(){return this.stepContainer.getCurrentStepName()===v.fields.CP};F.prototype.$MRegMultiStepController12=function(){return this.stepContainer.getCurrentStepName()===v.fields.BIRTHDAY};F.prototype.$MRegMultiStepController1=function(G){var H,I=this;try{(function(){var K=k.find(I.getStep(v.fields.CP),"div",v.fields.CP),L=k.find(K,"input"),M=L.parentNode.parentNode,N=new C(M,L),O=0;N.setDatasource(new D(G,function(){return function(Q){return{name:"@"+Q,display:"@"+Q,uri:"#",id:O++}}}));var P=null;N.listen("keydown",function(J){P=J});N.listen("choose",function(){if(P!==null){P.kill();P=null}});N.listen("rendered",function(){try{var Q=k.find(K,"div","jx-typeahead-results"),R=L.parentNode.style.width;if(R)E.set(Q,"width",R)}catch(J){}})})()}catch(J){}};F.prototype.$MRegMultiStepController20=function(G){this.passwordlessListenersSetup=true;var H=this.passwordOverlay;if(H==null)return;var I=k.find(this.root,"button",x.SKIP_PASSWORD),J=k.find(this.root,"input",x.SKIP_PASSWORD_INPUT);if(G){p.listen("click",x.SKIP_PW_GO_BACK,function(){H&&H.finishHide()});p.listen("click",x.SKIP_PW_SIGN_UP,function(K){J.value="true";this.$MRegMultiStepController6(K);H&&H.finishHide()}.bind(this))}p.listen("click",x.SKIP_PASSWORD,function(K){if(G){H&&H.show();K.prevent()}else{J.value="true";this.$MRegMultiStepController6(K)}}.bind(this));p.listen("MRegMultiStep-refresh",[v.fields.PASSWORD],function(){if(I==null)return;this.$MRegMultiStepController15(I)}.bind(this));p.listen("MRegMultiStep-end",[v.fields.PASSWORD],function(){if(I==null)return;this.$MRegMultiStepController14(I)}.bind(this))};f.exports=F}),null);
__d("MRegProgressBarController",["CSS","DOM","cx","MRegMultiStepConstants"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";function l(m){this.root=m;this.steps=i.scry(m,"div",k.PROGRESS_BAR_STEP);this.current=0}l.prototype.setStep=function(m){for(var n=0;n<this.steps.length;n++)if(n<=m)h.removeClass(this.steps[n],"_11sy");else h.addClass(this.steps[n],"_11sy")};l.prototype.hide=function(){h.hide(this.root)};l.prototype.deleteSteps=function(m){if(m<=0||m>this.steps.length||this.steps.length===1)return;for(var n=0;n<m;n++)h.hide(this.steps.pop())};f.exports=l}),null);
__d("MRegistrationPushToPhone",["Stratcom","DOM","fbt","MViewport","ge","CSS","MRegistrationContactPhoneUI","MRegistrationClientConfig"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){f.exports={init:function p(q){h.listen("click",n.PUSH_TO_PHONE_SIGIL,function(r){var s=l(o.fields.CP),t=i.find(s,"input"),u=i.find(s,"div",n.FORM_INPUT_LABEL);m.hide(q);i.setContent(u,j._("\u96fb\u5b50\u90f5\u4ef6\u6216\u96fb\u8a71\u865f\u78bc"));t.setAttribute("type","text");t.focus();var v=i.find(l("mobile-reg-form"),"div",n.CONTACT_STEP_TITLE_SIGIL);i.setContent(v.firstChild,j._("\u8f38\u5165\u96fb\u8a71\u865f\u78bc\u6216\u96fb\u5b50\u90f5\u4ef6"));k.scrollToHeader()})}}}),null);
__d("MRegMultiStepValidators",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EMPTY_FIELD:"MRegEmptyFieldValidator",NO_GENDER:"MRegNoGenderValidator",PASSWORD_SHORT:"MRegPasswordValidator",CONTACTPOINT:"MRegContactpointValidator"})}),null);
__d("regeneratorRuntime",["Promise"],(function a(b,c,d,e,f,g,h){"use strict";var i=Object.prototype.hasOwnProperty,j=typeof Symbol==="function"&&(typeof Symbol==="function"?Symbol.iterator:"@@iterator")||"@@iterator",k=f.exports;function l(F,G,H,I){var J=Object.create((G||s).prototype),K=new C(I||[]);J._invoke=z(F,H,K);return J}k.wrap=l;function m(F,G,H){try{return{type:"normal",arg:F.call(G,H)}}catch(I){return{type:"throw",arg:I}}}var n="suspendedStart",o="suspendedYield",p="executing",q="completed",r={};function s(){}function t(){}function u(){}var v=u.prototype=s.prototype;t.prototype=v.constructor=u;u.constructor=t;t.displayName="GeneratorFunction";function w(F){["next","throw","return"].forEach(function(G){F[G]=function(H){return this._invoke(G,H)}})}k.isGeneratorFunction=function(F){var G=typeof F==="function"&&F.constructor;return G?G===t||(G.displayName||G.name)==="GeneratorFunction":false};k.mark=function(F){if(Object.setPrototypeOf)Object.setPrototypeOf(F,u);else Object.assign(F,u);F.prototype=Object.create(v);return F};k.awrap=function(F){return new x(F)};function x(F){this.arg=F}function y(F){function G(M,N){var O=F[M](N),P=O.value;return P instanceof x?h.resolve(P.arg).then(H,I):h.resolve(P).then(function(Q){O.value=Q;return O})}if(typeof process==="object"&&process.domain)G=process.domain.bind(G);var H=G.bind(F,"next"),I=G.bind(F,"throw"),J=G.bind(F,"return"),K;function L(M,N){var O=K?K.then(function(){return G(M,N)}):new h(function(P){P(G(M,N))});K=O["catch"](function(P){});return O}this._invoke=L}w(y.prototype);k.async=function(F,G,H,I){var J=new y(l(F,G,H,I));return k.isGeneratorFunction(G)?J:J.next().then(function(K){return K.done?K.value:J.next()})};function z(F,G,H){var I=n;return function J(K,L){if(I===p)throw new Error("Generator is already running");if(I===q){if(K==="throw")throw L;return E()}while(true){var M=H.delegate;if(M){if(K==="return"||K==="throw"&&M.iterator[K]===undefined){H.delegate=null;var N=M.iterator["return"];if(N){var O=m(N,M.iterator,L);if(O.type==="throw"){K="throw";L=O.arg;continue}}if(K==="return")continue}var O=m(M.iterator[K],M.iterator,L);if(O.type==="throw"){H.delegate=null;K="throw";L=O.arg;continue}K="next";L=undefined;var P=O.arg;if(P.done){H[M.resultName]=P.value;H.next=M.nextLoc}else{I=o;return P}H.delegate=null}if(K==="next")if(I===o)H.sent=L;else H.sent=undefined;else if(K==="throw"){if(I===n){I=q;throw L}if(H.dispatchException(L)){K="next";L=undefined}}else if(K==="return")H.abrupt("return",L);I=p;var O=m(F,G,H);if(O.type==="normal"){I=H.done?q:o;var P={value:O.arg,done:H.done};if(O.arg===r){if(H.delegate&&K==="next")L=undefined}else return P}else if(O.type==="throw"){I=q;K="throw";L=O.arg}}}}w(v);v[j]=function(){return this};v.toString=function(){return"[object Generator]"};function A(F){var G={tryLoc:F[0]};if(1 in F)G.catchLoc=F[1];if(2 in F){G.finallyLoc=F[2];G.afterLoc=F[3]}this.tryEntries.push(G)}function B(F){var G=F.completion||{};G.type="normal";delete G.arg;F.completion=G}function C(F){this.tryEntries=[{tryLoc:"root"}];F.forEach(A,this);this.reset(true)}k.keys=function(F){var G=[];for(var H in F)G.push(H);G.reverse();return function I(){while(G.length){var H=G.pop();if(H in F){I.value=H;I.done=false;return I}}I.done=true;return I}};function D(F){if(F){var G=F[j];if(G)return G.call(F);if(typeof F.next==="function")return F;if(!isNaN(F.length)){var H=-1,I=function I(){while(++H<F.length)if(i.call(F,H)){I.value=F[H];I.done=false;return I}I.value=undefined;I.done=true;return I};return I.next=I}}return{next:E}}k.values=D;function E(){return{value:undefined,done:true}}C.prototype={constructor:C,reset:function F(G){this.prev=0;this.next=0;this.sent=undefined;this.done=false;this.delegate=null;this.tryEntries.forEach(B);if(!G)for(var H in this)if(H.charAt(0)==="t"&&i.call(this,H)&&!isNaN(+H.slice(1)))this[H]=undefined},stop:function F(){this.done=true;var G=this.tryEntries[0],H=G.completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function F(G){if(this.done)throw G;var H=this;function I(O,P){L.type="throw";L.arg=G;H.next=O;return!!P}for(var J=this.tryEntries.length-1;J>=0;--J){var K=this.tryEntries[J],L=K.completion;if(K.tryLoc==="root")return I("end");if(K.tryLoc<=this.prev){var M=i.call(K,"catchLoc"),N=i.call(K,"finallyLoc");if(M&&N){if(this.prev<K.catchLoc)return I(K.catchLoc,true);else if(this.prev<K.finallyLoc)return I(K.finallyLoc)}else if(M){if(this.prev<K.catchLoc)return I(K.catchLoc,true)}else if(N){if(this.prev<K.finallyLoc)return I(K.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function F(G,H){for(var I=this.tryEntries.length-1;I>=0;--I){var J=this.tryEntries[I];if(J.tryLoc<=this.prev&&i.call(J,"finallyLoc")&&this.prev<J.finallyLoc){var K=J;break}}if(K&&(G==="break"||G==="continue")&&K.tryLoc<=H&&H<=K.finallyLoc)K=null;var L=K?K.completion:{};L.type=G;L.arg=H;if(K)this.next=K.finallyLoc;else this.complete(L);return r},complete:function F(G,H){if(G.type==="throw")throw G.arg;if(G.type==="break"||G.type==="continue")this.next=G.arg;else if(G.type==="return"){this.rval=G.arg;this.next="end"}else if(G.type==="normal"&&H)this.next=H},finish:function F(G){for(var H=this.tryEntries.length-1;H>=0;--H){var I=this.tryEntries[H];if(I.finallyLoc===G){this.complete(I.completion,I.afterLoc);B(I);return r}}},"catch":function F(G){for(var H=this.tryEntries.length-1;H>=0;--H){var I=this.tryEntries[H];if(I.tryLoc===G){var J=I.completion;if(J.type==="throw"){var K=J.arg;B(I)}return K}}throw new Error("illegal catch attempt")},delegateYield:function F(G,H,I){this.delegate={iterator:D(G),resultName:H,nextLoc:I};return r}}}),null);
__d("MRegValidationController",["regeneratorRuntime","Promise","Bootloader","CSS","DOM","Map","MRegMultiStepValidators","Set","Stratcom","$","cx"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";var s={registerListeners:function t(u){var v,w,x;return h.async(function y(z){while(1)switch(z.prev=z.next){case 0:v=s._getUniqueValidators(u);w=[];x=new m();v.forEach(function(A){if(A===n.EMPTY_FIELD)w.push(new i(function(B){return j.loadModules(["MRegEmptyFieldValidator"],function(f){x.set("MRegEmptyFieldValidator",f);B()},"MRegValidationController")}));else if(A===n.NO_GENDER)w.push(new i(function(B){return j.loadModules(["MRegNoGenderValidator"],function(f){x.set("MRegNoGenderValidator",f);B()},"MRegValidationController")}));else if(A===n.PASSWORD_SHORT)w.push(new i(function(B){return j.loadModules(["MRegPasswordValidator"],function(f){x.set("MRegPasswordValidator",f);B()},"MRegValidationController")}));else if(A===n.CONTACTPOINT)w.push(new i(function(B){return j.loadModules(["MRegContactpointValidator"],function(f){x.set("MRegContactpointValidator",f);B()},"MRegValidationController")}))});z.next=6;return h.awrap(i.all(w));case 6:u.forEach(function(A,B){p.listen("MRegMultiStep-next",B,function(C){A.forEach(function(D){this._runValidator(C,D,x)}.bind(this))}.bind(this))}.bind(this));case 7:case"end":return z.stop()}},null,this)},_runValidator:function t(u,v,w){if(u.getPrevented())return;var x=w.get(v);if(x==null)return;var y=s._buildListenerParams(u.getData());if(y==null)return;var z=new x(y);z.validate();var A=s._getErrorDiv(y);if(z.passed())setTimeout(function(){s._hideErrorBorder(y);l.setContent(A,null)},30);else{setTimeout(function(){s._showErrorBorder(y);l.setContent(A,z.getError())},30);u.prevent()}},_buildListenerParams:function t(u){if(Object.prototype.hasOwnProperty.call(u,"key")&&typeof u.key==="string"&&Object.prototype.hasOwnProperty.call(u,"root")&&u.root instanceof HTMLElement)return{key:u.key,root:u.root};return null},_getUniqueValidators:function t(u){var v=[];u.forEach(function(w){return v.push.apply(v,w)});return new o(v)},_getErrorDiv:function t(u){return q(u.key+"_error")},_showErrorBorder:function t(u){var v=l.find(u.root,"div",u.key);k.addClass(v,"_82d")},_hideErrorBorder:function t(u){var v=l.find(u.root,"div",u.key);k.removeClass(v,"_82d")}};f.exports=s}),null);
__d("IOS7PasswordHack",["Stratcom"],(function a(b,c,d,e,f,g,h){var i="password-plaintext",j=false;function k(){if(j)return;j=true;var l=h.listen(["keypress","keydown"],i,function(event){var n=event.getNode(i);n.type="text"}),m=h.listen("blur",i,function(event){var n=event.getNode(i);if(n.value==="")n.type="password"});h.listen("m:page:unload",null,function(event){l.remove();m.remove();j=false})}f.exports={init:k}}),null);