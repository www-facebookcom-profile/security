if (self.CavalryLogger) { CavalryLogger.start_js(["WxcxK"]); }

__d("MButton",["CSSCore","DOM","cx","invariant"],(function a(b,c,d,e,f,g,h,i,j,k){var l="_2347";function m(o){i.isType(o,"button")||i.isType(o,"a")||k(0)}var n={isEnabled:function o(p){m(p);return p.disabled===false||i.isType(p,"a")&&!h.hasClass(p,l)},setEnabled:function o(p,q){m(p);if(n.isEnabled(p)===q)return;if(i.isType(p,"button"))p.disabled=!q;else{h.conditionClass(p,l,!q);if(q){p.removeAttribute("tabindex");p.removeAttribute("aria-disabled")}else{p.setAttribute("tabindex","-1");p.setAttribute("aria-disabled","true")}}}};f.exports=n}),null);
__d("MLoginFormError",["CSS","DOM","Stratcom","cx","invariant"],(function a(b,c,d,e,f,g,h,i,j,k,l){"use strict";var m="_3qsy",n="_3qs-",o={set:function p(q,r){r!==null||l(0);h.addClass(q,m);h.addClass(q,n);i.listen(q,"input",null,function(s){h.removeClass(q,n)})},unset:function p(q){h.removeClass(q,m);h.removeClass(q,n)}};f.exports=o}),null);
__d("MLoginFormSigils",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FORM:"m_login_form",BUTTON:"m_login_button",BUTTON_ALT:"m_login_button_alt",NOTICE:"m_login_notice",UPSELL:"m_login_upsell",EMAIL_INPUT:"m_login_email",PASSWORD_INPUT:"m_login_password",TRY_NUMBER:"m_login_try_number",UNRECOGNIZED_TRIES_COUNT:"m_login_unrecognized_tries",MORE_LINKS:"m_login_more_links",NEXT_BUTTON:"m_login_next_btn",CP_TEXT:"m_login_cp_text",LANGUAGE_SELECTOR:"language_selector",LOGIN_IDENTIFY_STEP_ELEMENT:"login_identify_step_element",LOGIN_IDENTIFY_STEP_PROGRESS_BAR:"login_identify_step_progress_bar",LOGIN_PASSWORD_STEP_ELEMENT:"login_password_step_element",CHANGE_CP_LINK:"m_login_change_cp_link",REG_BUTTON:"m_reg_button",CONTACTPOINT_EXISTS:"contactpoint_exists"})}),null);
__d("MPasswordPlainTextToggleSigils",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INPUT:"password-plain-text-toggle-input",TOGGLE:"password-plain-text-toggle"})}),null);
__d("XLoginCheckContactpointController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/login/v/",{contactpoint:{type:"String",required:true}})}),null);
__d("MLoginController",["BanzaiLogger","CSS","cx","DataStore","DOM","DeferredCookie","fbt","ge","goURI","LoginFormKeys","MAjaxify","MButton","MHistory","MLoginFormError","MLoginFormSigils","MPasswordPlainTextToggleSigils","MRequest","Keys","Stratcom","SubscriptionsHandler","XLoginCheckContactpointController","URI"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){"use strict";var D="_pg8",E="stepOneIdentification",F="stepTwoAuthenticaiton",G="auth",H="reduce_redundant_work_universe",I={_initTwoStepsListeners:function J(){var K=new A();K.addSubscriptions(z.listen("click",v.CHANGE_CP_LINK,function(event){if(history.length>1){event.prevent();history.go(-1)}}),z.listen("m:history:change",null,function(event){var L=event.getData();if(L.path){var M=new C(L.path);if(this._initialURI.getPath()===M.getPath()){event.prevent();if(event.getData().soft===G)this._onEnteringCP();else this._onBackToCP()}}}.bind(this)),z.listen("click",v.NEXT_BUTTON,this._handleNextButtonClick.bind(this)));z.listen("m:page:unload",null,function(){z.removeCurrentListener();K.release()})},initRegButton:function J(K){var L=K.root;this.regURI=K.regURI;this.regButton=l.find(L,"a",v.REG_BUTTON);this.regButton.removeAttribute("href");l.listen(this.regButton,"click",null,this._sendLoginRequestFromReg.bind(this))},initLoginForm:function J(K){var L=K.root;this.isTwoStepsLogin=K.isTwoStepsLogin;this.isActionLoggingEnabled=K.isActionLoggingEnabled;this.loginForm=l.find(L,"form",v.FORM);this.loginForm.action=K.ajaxURI;this.loginButton=l.find(L,"button",v.BUTTON);var M=l.scry(L,"a",v.BUTTON_ALT);M=M.pop();this.loginButtonAlt=null;if(M!==undefined)this.loginButtonAlt=M;if(this.isTwoStepsLogin){this._initialURI=C.getRequestURI();this.onErrorRegURI=K.onErrorRegURI;this.isEarlyCPCheckEnabled=K.isEarlyCPCheckEnabled;this.shouldAutoSubmitWhenPrefilledStep1=K.shouldAutoSubmitWhenPrefilledStep1;this.shouldAutoSubmitWhenPrefilledStep2=K.shouldAutoSubmitWhenPrefilledStep2;this.shouldNotAutoFocusPasswordField=K.shouldNotAutoFocusPasswordField;this.shouldAutoLandOnStep2=K.shouldAutoLandOnStep2;this.prefillContactpointHiddenInput=o(q.PREFILL_CONTACT_POINT);this.passwordStepDelayMilliSeconds=K.passwordStepDelayMilliSeconds;this.nextButton=l.find(L,"button",v.NEXT_BUTTON);this.cpText=l.find(L,"span",v.CP_TEXT);this.moreLinks=l.scry(L,"div",v.MORE_LINKS).pop();this.progressBar=l.find(L.ownerDocument,"div",v.LOGIN_IDENTIFY_STEP_PROGRESS_BAR);this.languageSelector=l.find(L.ownerDocument,"div",v.LANGUAGE_SELECTOR);this.identifyStepElements=l.scry(L.ownerDocument,"div",v.LOGIN_IDENTIFY_STEP_ELEMENT);this.identifyStepElements.push(this.languageSelector);this.passwordStepElements=l.scry(L.ownerDocument,"div",v.LOGIN_PASSWORD_STEP_ELEMENT);this._initTwoStepsListeners();k.set(this.loginForm,"step",E)}this.loginButton.type="button";this.notice=l.find(L,"div",v.NOTICE);this.emailInput=this._getElem(L,"input",v.EMAIL_INPUT);this.passwordInput=this._getElem(L,"div",v.PASSWORD_INPUT);this.passwordInputDOM=l.find(this.passwordInput,"input");this.tryNumber=this._getElem(L,"input",v.TRY_NUMBER);this.unrecognizedTriesCountInput=this._getElem(L,"input",v.UNRECOGNIZED_TRIES_COUNT);this.upsell=this._getElem(L,"div",v.UPSELL);this.numPasswordErrorAttempts=0;this.unrecognizedContactpointErrorCount=0;this.rapidFeedbackUri=K.rapidFeedbackUri;l.listen(this.loginButton,"click",null,this._handleSubmitButtonClick.bind(this));if(this.loginButtonAlt!==null)l.listen(this.loginButtonAlt,"click",null,this._handleSubmitButtonClick.bind(this));var N=K.listenKeyDown?"keydown":"keyup";if(this.isTwoStepsLogin){this.nextButton.setAttribute("type","button");this.passwordInputDOM.setAttribute("tabindex",-1);l.listen(this.loginForm,"keydown",null,function(P){if(P.getRawEvent().keyCode===y.RETURN)if(k.get(this.loginForm,"step","")===E)this._handleNextButtonClick();else this._handleSubmitButtonClick()}.bind(this))}else l.listen(this.loginForm,N,null,function(P){if(P.getRawEvent().keyCode===y.RETURN)this._handleSubmitButtonClick()}.bind(this));if(K.clearOnDelete)l.listen(this.emailInput,N,null,function(P){if(P.getRawEvent().keyCode===y.BACKSPACE)this.emailInput.value=""}.bind(this));if(this.isActionLoggingEnabled){z.listen("change",v.EMAIL_INPUT,function(P){this._logAction("changed_user_identifier")}.bind(this));z.listen("change",v.PASSWORD_INPUT,function(P){this._logAction("changed_password")}.bind(this));z.listen("click",v.REG_BUTTON,function(P){if(this.emailInput.value==="")this._logAction("clicked_reg_identifier_blank");else this._logAction("clicked_reg_identifier_filled")}.bind(this));this.hasFocusedAlready=false;window.addEventListener("load",function(P){this._logAction("form_load_client")}.bind(this),false);var O=l.scry(L,"input",null);O.forEach(function(P){l.listen(P,"focus",null,this._logFormFocus.bind(this))}.bind(this))}if(this.shouldAutoLandOnStep2&&this.emailInput.value.trim()!=="")t.pushSoftState(G)},_logFormFocus:function J(){if(this.hasFocusedAlready)return;this.hasFocusedAlready=true;this._logAction("form_focus")},_getElem:function J(K,L,M){var N=l.scry(K,L,M);if(N.length===0)return null;return N[0]},_autoFocusIfNeeded:function J(K){if(!this.emailInput||!this.passwordInput)return;if(!this.passwordInputDOM)return;var L=this.emailInput.value===""||K[v.EMAIL_INPUT].error,M=this.passwordInputDOM.value===""||K[v.PASSWORD_INPUT].error;if(L||M)if(L)this.emailInput.focus();else if(M)this.passwordInputDOM.focus()},_sendLoginRequest:function J(){m.flushAllCookies();i.hide(this.notice);s.setEnabled(this.loginButton,false);if(this.isTwoStepsLogin)s.setEnabled(this.nextButton,false);setTimeout(s.setEnabled.bind(null,this.loginButton,true),15e3);if(this.loginButtonAlt!==null){s.setEnabled(this.loginButtonAlt,false);setTimeout(s.setEnabled.bind(null,this.loginButtonAlt,true),15e3)}if(this.tryNumber!==null)this.tryNumber.setAttribute("value",this.numPasswordErrorAttempts);if(this.unrecognizedTriesCountInput!==null)this.unrecognizedTriesCountInput.value=this.unrecognizedContactpointErrorCount;r.form(null,this.loginForm,null,"nocache",null,true,[{response:this._onLoginResponse.bind(this)}])},_sendLoginRequestFromReg:function J(){m.flushAllCookies();if(this.emailInput.value===""||this.passwordInput.value===""){p(this.regURI);return}i.hide(this.notice);s.setEnabled(this.loginButton,false);setTimeout(s.setEnabled.bind(null,this.loginButton,true),15e3);if(this.loginButtonAlt!==null){s.setEnabled(this.loginButtonAlt,false);setTimeout(s.setEnabled.bind(null,this.loginButtonAlt,true),15e3)}r.form(null,this.loginForm,null,"nocache",null,true,[{response:this._onLoginFromRegResponse.bind(this)}])},_logActionIfEnabled:function J(K){if(this.isActionLoggingEnabled)this._logAction(K)},_logAction:function J(K){h.create({signal:true}).log("LoginEventsLoggerConfig",{event:K})},_handleSubmitButtonClick:function J(){this._logActionIfEnabled("clicked_submit");if(this.passwordInputDOM.value==="")this._logActionIfEnabled("clicked_submit_password_blank");else this._logActionIfEnabled("clicked_submit_password_filled");this._sendLoginRequest()},_checkContactPoint:function J(){var K=B.getURIBuilder().setString("contactpoint",this.emailInput.value).getURI();r.ajaxify(null,null,new x(K).setMethod("POST"),null,[{response:function(L){this.nextButton.disabled=false;if(!L.payload)return;var M=L.payload;if(this.emailInput!==null&&M[v.CONTACTPOINT_EXISTS]===false){if(M[v.EMAIL_INPUT]&&M[v.EMAIL_INPUT].error){u.set(this.emailInput,"error");k.set(this.emailInput,"error",true);this.emailInput.value="";this._resetProgressBar()}if(M[v.NOTICE]){l.setContent(this.notice,M[v.NOTICE]);i.show(this.notice)}t.popSoftState(G)}else this._goToPasswordStep()}.bind(this)}])},_getBlankEmailErrorFBT:function J(){var K=n._("\u8a3b\u518a\u5e33\u865f\u3002"),L=l.create("a");L.setAttribute("href",this.onErrorRegURI);l.setContent(L,K);return n._("\u7121\u6cd5\u900f\u904e\u4f60\u8f38\u5165\u7684\u96fb\u5b50\u90f5\u4ef6\u6216\u96fb\u8a71\u865f\u78bc\u627e\u5230\u8cc7\u6599\u76f8\u7b26\u7684\u5e33\u865f\u3002{reg_uri}",[n.param("reg_uri",L)])},_onEnteringCP:function J(){this._logActionIfEnabled("clicked_next");if(this.emailInput.value.trim()===""){this._logActionIfEnabled("clicked_next_user_identifier_blank");l.setContent(this.notice,this._getBlankEmailErrorFBT());i.show(this.notice);u.set(this.emailInput,"error");k.set(this.emailInput,"error",true);t.popSoftState(G);return}this._logActionIfEnabled("clicked_next_user_identifier_filled");u.unset(this.emailInput);k.set(this.emailInput,"error",false);if(!k.get(this.passwordInput,"error",false))i.hide(this.notice);this.nextButton.disabled=true;this._enableProgressBar();if(this.isEarlyCPCheckEnabled)this._checkContactPoint();else setTimeout(function(){this._goToPasswordStep();this.nextButton.disabled=false}.bind(this),this.passwordStepDelayMilliSeconds)},_onBackToCP:function J(){if(k.get(this.passwordInput,"error",false)){i.hide(this.notice);k.set(this.passwordInput,"error",false);i.removeClass(this.passwordInput,D)}this._goToIdentificationStep()},_hideAll:function J(K){K.forEach(function(L){return i.hide(L)})},_showAll:function J(K){K.forEach(function(L){return i.show(L)})},_goToPasswordStep:function J(){k.set(this.loginForm,"step",F);this._hideAll(this.identifyStepElements);this._showAll(this.passwordStepElements);this._logActionIfEnabled("password_entry_viewed");if(this.moreLinks)i.addClass(this.moreLinks,"_2pie");i.removeClass(this.passwordInput,"_1-z5");this.passwordInputDOM.removeAttribute("tabindex");l.setContent(this.cpText,this.emailInput.value);if(this.shouldAutoSubmitWhenPrefilledStep2&&this.passwordInputDOM.value.trim()!==""&&this.prefillContactpointHiddenInput&&this.prefillContactpointHiddenInput.value===this.emailInput.value){this.shouldAutoSubmitWhenPrefilledStep2=false;this._sendLoginRequest()}else if(!this.shouldNotAutoFocusPasswordField)this.passwordInputDOM.focus()},_resetProgressBar:function J(){this.progressBar.style.transitionDuration="0ms";this.progressBar.style["-webkit-transition-duration"]="0ms";this.progressBar.style["-moz-transition-duration"]="0ms";this.progressBar.style.transform="translateX(0%)";this.progressBar.style["-webkit-transform"]="translateX(0%)";this.progressBar.style["-moz-transform"]="translateX(0%)"},_enableProgressBar:function J(){this.progressBar.style.transitionDuration=this.passwordStepDelayMilliSeconds+"ms";this.progressBar.style["-webkit-transition-duration"]=this.passwordStepDelayMilliSeconds+"ms";this.progressBar.style["-moz-transition-duration"]=this.passwordStepDelayMilliSeconds+"ms";this.progressBar.style.transform="translateX(100%)";this.progressBar.style["-webkit-transform"]="translateX(100%)";this.progressBar.style["-moz-transform"]="translateX(100%)"},_goToIdentificationStep:function J(){k.set(this.loginForm,"step",E);this._resetProgressBar();i.addClass(this.passwordInput,"_1-z5");this.passwordInputDOM.setAttribute("tabindex",-1);this._hideAll(this.passwordStepElements);this._showAll(this.identifyStepElements);if(!k.get(this.emailInput,"error",false))this._logActionIfEnabled("clicked_back");if(this.moreLinks)i.removeClass(this.moreLinks,"_2pie");this.emailInput.focus()},_handleNextButtonClick:function J(){if(this.shouldAutoSubmitWhenPrefilledStep1&&this.passwordInputDOM.value.trim()!==""&&this.prefillContactpointHiddenInput&&this.prefillContactpointHiddenInput.value===this.emailInput.value){this.shouldAutoSubmitWhenPrefilledStep1=false;this._sendLoginRequest();return}t.pushSoftState(G)},_onLoginResponse:function J(K){s.setEnabled(this.loginButton,true);if(this.isTwoStepsLogin)s.setEnabled(this.nextButton,true);if(this.loginButtonAlt!==null)s.setEnabled(this.loginButtonAlt,true);if(!K.payload)return;var L=K.payload;if(L[v.PASSWORD_INPUT].error)this.numPasswordErrorAttempts++;else this.numPasswordErrorAttempts=0;if(L[v.EMAIL_INPUT].unrecognized)this.unrecognizedContactpointErrorCount++;if(this.rapidFeedbackUri&&this.numPasswordErrorAttempts==2)p(this.rapidFeedbackUri);if(L[v.NOTICE]){l.setContent(this.notice,L[v.NOTICE]);i.show(this.notice)}if(this.emailInput!==null){if(L[v.EMAIL_INPUT].error){u.set(this.emailInput,"error");k.set(this.emailInput,"error",true);if(this.isTwoStepsLogin)t.popSoftState(G)}else{u.unset(this.emailInput);k.set(this.emailInput,"error",false)}var M=L[v.EMAIL_INPUT].value;if(M){this.emailInput.value=M;if(this.isTwoStepsLogin)l.setContent(this.cpText,M)}else this.emailInput.value=""}if(this.passwordInput!==null){l.find(this.passwordInput,"input").value="";z.invoke("m:passwordinput:autoclear",w.INPUT);if(L[v.PASSWORD_INPUT].error){k.set(this.passwordInput,"error",true);i.addClass(this.passwordInput,D);if(this.isTwoStepsLogin&&k.get(this.loginForm,"step","")===E)t.pushSoftState(G)}else{k.set(this.passwordInput,"error",false);i.removeClass(this.passwordInput,D)}}this._autoFocusIfNeeded(K.payload);if(this.upsell!==null)l.hide(this.upsell)},_onLoginFromRegResponse:function J(K){p(this.regURI)},redirect:function J(K){window.location.replace(K)}};f.exports=I}),null);
__d("MLoginView",["DOM","DeferredCookie","MButton","ge","CSS","cx"],(function a(b,c,d,e,f,g,h,i,j,k,l,m){var n={disableOnSubmit:function o(p,q){h.listen(p,"submit",null,function(){i.flushAllCookies();j.setEnabled(q,false);setTimeout(j.setEnabled.bind(null,q,true),15e3)})},showForm:function o(p,q){h.listen(p,"click",null,function(r){h.remove(p);l.removeClass(q,"_7tb")})}};f.exports=n}),null);
__d("MPasswordPlainTextToggle",["CSS","MPasswordPlainTextToggleSigils","Stratcom","invariant"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";var l={init:function m(n,o,p,q){p!==null&&q!==null||k(0);j.listen("click",i.TOGGLE,function(r){if(n.type=="password"){n.type="text";h.hide(p);h.show(q)}else{n.type="password";h.hide(q);h.show(p)}r.kill()});j.listen(["m:passwordinput:autoclear","input"],i.INPUT,function(r){if(n.value=="")h.hide(o);else h.show(o)})}};f.exports=l}),null);
__d("BrowserPrefillSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BROWSER_DROPDOWN:"browser_dropdown",BROWSER_ONLOAD:"browser_onload",SERVER_PREFILL:"server_prefill",ATTEMPT_USER:"attempt_user",EMAIL_NOTIFICATION:"email_notification",HEADER:"header",IDENTIFIED_USER:"identified_user",LAST_LOGIN:"last_login",MOBILE_SUBNO_KEY:"mobile_subno_key",PROVIDED_OR_SOFT_MATCHED:"provided_or_soft_matched",TYPO_CORRECTED:"typo_corrected"})}),null);
__d("BrowserPrefillType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CONTACT_POINT:"contact_point",PASSWORD:"password"})}),null);
__d("LoginEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LOGIN_FAILURE:"login_failure",LOGIN_SUCCESS:"login_success",SESSION_TERMINATION:"session_termination",SESSION_UPDATE:"session_update",SESSION_VALIDATION:"session_validation",CHANGED_USER_IDENTIFIER:"changed_user_identifier",CLICKED_NEXT:"clicked_next",CLICKED_NEXT_USER_IDENTIFIER_BLANK:"clicked_next_user_identifier_blank",CLICKED_NEXT_USER_IDENTIFIER_FILLED:"clicked_next_user_identifier_filled",PASSWORD_ENTRY_VIEWED:"password_entry_viewed",CHANGED_PASSWORD:"changed_password",CLICKED_BACK:"clicked_back",CLICKED_SUBMIT:"clicked_submit",CLICKED_SUBMIT_PASSWORD_BLANK:"clicked_submit_password_blank",CLICKED_SUBMIT_PASSWORD_FILLED:"clicked_submit_password_filled",FORM_LOAD_CLIENT:"form_load_client",FORM_LOAD:"form_load",FORM_FOCUS:"form_focus",CLICKED_REG_IDENTIFIER_BLANK:"clicked_reg_identifier_blank",CLICKED_REG_IDENTIFIER_FILLED:"clicked_reg_identifier_filled",BROWSER_AUTOCOMPLETE:"browser_autocomplete",INVALID_CONTACTPOINT:"invalid_contactpoint",VALID_CONTACTPOINT:"valid_contactpoint"})}),null);
__d("LoginFormKeys",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BUTTON_KEY:"loginbutton",CUID:"cuid",EMAIL_FIELD_CONTAINER:"email_container",EMAIL_FIELD_KEY:"email",ERROR_BOX_KEY:"error_box",HEADER_BLOCK:"header_block",LOGIN_LINK:"login_link",NOT_ME_LINK:"not_me_link",PASSWORD_FIELD_KEY:"pass",PREFILL_CONTACT_POINT:"prefill_contact_point",PREFILL_SOURCE:"prefill_source",PREFILL_TYPE:"prefill_type"})}),null);
__d("DamerauLevenshtein",[],(function a(b,c,d,e,f,g){var h={DamerauLevenshteinDistance:function i(j,k){if(j.length===0)return k.length;if(k.length===0)return j.length;if(j===k)return 0;var l,m,n=[];n[0]=[];n[1]=[];n[2]=[];for(m=0;m<=k.length;m++)n[0][m]=m;for(l=1;l<=j.length;l++)for(m=1;m<=k.length;m++){n[l%3][0]=l;var o=j.charAt(l-1)===k.charAt(m-1)?0:1;n[l%3][m]=Math.min(n[(l-1)%3][m]+1,n[l%3][m-1]+1,n[(l-1)%3][m-1]+o);if(l>1&&m>1&&j.charAt(l-1)==k.charAt(m-2)&&j.charAt(l-2)==k.charAt(m-1))n[l%3][m]=Math.min(n[l%3][m],n[(l-2)%3][m-2]+o)}return n[j.length%3][k.length]}};f.exports=h}),null);
__d("BrowserPrefillLogging",["BanzaiLogger","BrowserPrefillSource","BrowserPrefillType","DamerauLevenshtein","LoginEvent","LoginFormKeys","ge"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";var o={initContactpointFieldLogging:function p(q){this.contactpointFieldID=q.contactpointFieldID;this._updateContactpoint();this.serverPrefillContactpoint=q.serverPrefill;var r=n(this.contactpointFieldID);if(r==null)return;r.addEventListener("input",this._mayLogContactpointPrefillViaDropdown.bind(this));window.addEventListener("load",this._mayLogContactpointPrefillOnload.bind(this));return},initPasswordFieldLogging:function p(q){this.passwordFieldID=q.passwordFieldID;this._updatePassword();var r=n(this.passwordFieldID);if(r==null)return;r.addEventListener("input",this._mayLogPasswordPrefillViaDropdown.bind(this));window.addEventListener("load",this._mayLogPasswordPrefillOnload.bind(this))},updatePrefill:function p(q,r,s){var t=n(m.PREFILL_SOURCE),u=n(m.PREFILL_TYPE),v=n(m.PREFILL_CONTACT_POINT);if(t!=null)t.value=r;if(u!=null)u.value=s;if(v!=null)v.value=q},_mayLogContactpointPrefillOnload:function p(){this._updateContactpoint();if(this.previousContactpoint==null||this.previousContactpoint==="")return;var q=this.previousContactpoint===this.serverPrefillContactpoint?i.SERVER_PREFILL:i.BROWSER_ONLOAD;this._logBrowserPrefill(q,j.CONTACT_POINT)},_mayLogPasswordPrefillOnload:function p(){this._updatePassword();if(this.previousPassword==null||this.previousPassword==="")return;this._logBrowserPrefill(i.BROWSER_ONLOAD,j.PASSWORD)},_mayLogContactpointPrefillViaDropdown:function p(){var q=n(this.contactpointFieldID);if(q==null||q.value==null)return;if(this._isBrowserPrefill(this.previousContactpoint,q.value)===false){this._updateContactpoint();return}this._updateContactpoint();this._logBrowserPrefill(i.BROWSER_DROPDOWN,j.CONTACT_POINT)},_mayLogPasswordPrefillViaDropdown:function p(){var q=n(this.passwordFieldID);if(q==null||q.value==null)return;if(this._isBrowserPrefill(this.previousPassword,q.value)===false){this._updatePassword();return}this._updatePassword();this._logBrowserPrefill(i.BROWSER_DROPDOWN,j.PASSWORD)},_isBrowserPrefill:function p(q,r){if(r==="")return false;if(r===q)return false;if(r.length===1||q.length===r.length+1||r.length===q.length+1)return false;var s=k.DamerauLevenshteinDistance(r,q);if(s===q.length-r.length)return false;return true},_updateContactpoint:function p(){var q=n(this.contactpointFieldID);this.previousContactpoint=q!=null&&q.value!=null?q.value:""},_updatePassword:function p(){var q=n(this.passwordFieldID);this.previousPassword=q!=null&&q.value!=null?q.value:""},_logBrowserPrefill:function p(q,r){if(q!==i.SERVER_PREFILL)this.updatePrefill(this.previousContactpoint,q,r);h.create({signal:true}).log("LoginEventsLoggerConfig",{event:l.BROWSER_AUTOCOMPLETE,prefill_contact_point:this.previousContactpoint,prefill_source:q,prefill_type:r})}};f.exports=o}),null);