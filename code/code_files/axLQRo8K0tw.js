if (self.CavalryLogger) { CavalryLogger.start_js(["EY6cU"]); }

__d("MSearchKeywordsConst",[],(function a(b,c,d,e,f,g){f.exports={keywordType:"keyword",keywordTypes:{celebrity:"celebrity",trending:"trending",keyword:"keyword",football:"am_football",photos:"photos",videos:"videos",hashtag:"hashtag",local:"local",localCategory:"local_category",company:"company",movie:"movie",happeningNow:"happening_now",link:"link",specialIntentGeneric:"special_intent_gener"},intentKeys:["isTrending","isCelebrity","isFootball","isPhotos","isVideos","isHashtag","isLocal","isCompany","isMovie","isHappeningNow","isSpecialIntentGeneric","isLink"],keywordBootstrapTypes:{recent:"recent_search_suggestion",popular:"popular_search_suggestion",trending:"trending_search_suggestion",serp_first:"serp_first_suggestion",people:"people_suggestion",null_state:"null_state_suggestion",awareness:"awareness_suggestion",interest:"interest_suggestion",cf_search:"collaborative_filtered_search_suggestion"}}}),null);
__d("BrowseWebSLRPELoggerClickType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ITEM_IN_MODULE_TAPPED:"graph_search_results_item_in_module_tapped",ITEM_TAPPED:"graph_search_results_item_tapped",SEE_MORE_TAPPED:"graph_search_results_see_more_on_module_tapped",INLINE_FRIEND_REQUEST:"inline_friend_request",INLINE_PAGE_LIKE_REQUEST:"inline_page_like_request",MODULE_TAPPED:"graph_search_results_module_tapped",TAP_MODULE:"graph_search_results_module_tapped",VIEW_PORT_VIEWS_ON_SEARCH_RESULTS:"view_port_views_on_search_results"})}),null);
__d("mSearchSimplificationResultTransformer",["MSearchSimplificationUtils","URI"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){var l=k.type==="keyword",m=k.display,n=k.path,o=k.id,p=k.type;m=(k.display||k.text).toLowerCase();o=h.getKeywordSemantic(m);var q=new i(n);if(!l){q=h.getKeywordURI(m).toString();p="keyword"}return{boldedSubtext:k.boldedSubtext,cost:k.cost,display:m,id:o,idx:k.idx,isScoped:k.is_scoped,isVerified:k.is_verified,keyword_type:k.keyword_type,keywordBoldedSubtext:k.keywordBoldedSubtext,keywordRenderType:k.keywordRenderType,logInfo:k.logInfo,name:k.text,photo:k.photo,showGrayCheck:k.show_gray_check,subtext:k.subtext,tokens:k.tokens,type:p,uri:q,verticalType:k.vertical_type,keywordSource:k.keywordSource}}f.exports=j}),null);
__d("MGraphSearchTypeaheadTouchSource",["MTypeaheadTouchSource","SearchMTouchGlobalOptions","createArrayFromMixed","mSearchSimplificationResultTransformer"],(function a(b,c,d,e,f,g,h,i,j,k){var l,m;l=babelHelpers.inherits(n,h);m=l&&l.prototype;n.prototype.ondata=function(o){"use strict";if(Array.isArray(o.payload))o=o.payload;if(!Array.isArray(o))o=[];this.setNormalizer(function(p){return p.toLowerCase()});m.ondata.call(this,j(o.payload||o))};n.prototype.renderNodes=function(o,p){"use strict";if(i.prefixMatchEntityBootstrap){var q=[];for(var r=p,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u,w=this._raw[v];if(w.display.toLowerCase().indexOf(o.toLowerCase())===0)q.push(v)}p=q}return m.renderNodes.call(this,o,p)};n.prototype.checkFragmentMatches=function(o,p,q,r){"use strict";if(o.substr(0,p.length)!==p)return false;var s=q[q.length-1]!==" ";if(!s||p!==r)return o==p;return true};n.prototype.tokenize=function(o){"use strict";var p=m.tokenize.call(this,o);if(p[p.length-1]==="")p.pop();return p};n.prototype.setConvertEntityToKeyword=function(o){"use strict";this.convertEntityToKeyword=o};n.prototype.getTransformer=function(){"use strict";return function(o){if(this.convertEntityToKeyword)return babelHelpers["extends"]({},k(o),{bootstrapped:true});return{name:o.text,uri:o.path,id:o.uid,display:o.display||o.text,photo:o.photo,category:o.category,cost:o.cost,idx:o.idx,tokens:o.tokens,type:o.untranslated_type||o.type,verticalType:o.vertical_type,subtext:o.text_only_subtext||o.subtext,logInfo:o.logInfo,bootstrapped:true,saved_context:o.saved_context,render_type:o.render_type}}.bind(this)};function n(){"use strict";l.apply(this,arguments)}f.exports=n}),null);
__d("BrowseWebSLRPELoggerAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SEARCH:"search",CLICK:"click",MODULE_IMPRESSION:"module_impression",TIME_SPENT:"time_spent"})}),null);
__d("XSearchBEMClientDataLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/log_bem_client_data/",{session_id:{type:"String",required:true},logging_unit_id:{type:"String",required:true},event_name:{type:"String",required:true}})}),null);
__d("XSearchBEMUnitDataLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/log_bem_unit_data/",{session_id:{type:"String",required:true},logging_unit_id:{type:"String",required:true},query:{type:"String",required:true},query_function:{type:"String",required:true},results_module_role:{type:"String",required:true},tapped_results_entity_id:{type:"String"},entity_ids:{type:"StringSet"}})}),null);
__d("memoizeWithArgs",[],(function a(b,c,d,e,f,g){var h=Object.prototype.hasOwnProperty;function i(j,k){var l=void 0;return function(){if(!l)l={};var m=k.apply(undefined,arguments);if(!h.call(l,m))l[m]=j.apply(undefined,arguments);return l[m]}}f.exports=i}),null);
__d("MSearchBootstrapEntityModuleLoggingUtils",["BrowseWebSLRPELoggerAction","MRequest","MViewableImpressionTracking","SearchEntityModuleServerConstants","SearchMSiteTrackableClientViewConfig","XSearchBEMClientDataLoggingController","XSearchBEMUnitDataLoggingController","invariant","md5","memoizeWithArgs","randomInt"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";var s=412378670482,t="mtouch_bem",u="mtouch_bem_res",v={getModuleTrackingData:q(function(w,x){var y=k.SEARCH_RESULTS_TRACKABLE,z=y+JSON.stringify({session_id:w,unit_id:v._getModuleUnitID(w),unit_id_click_type:x});return{"data-xt":z,"data-xt-vimp":JSON.stringify(l)}},function(w,x){return w+(x!=null?x:"")}),getSerializedResultTrackingData:q(function(w,x,y,z){var A=x.type,B=k.SEARCH_RESULTS_TRACKABLE,C=k.MTOUCH_BEM_CLICK_TYPE,D=k.RESULT_TYPE_TO_MODULE_ROLE,E=k.TYPE_TO_BROWSE_TYPE,F=v._getResultUnitID(w,x);return B+JSON.stringify({browse_result_type:E[A],click_type:C,module_result_position:y.indexOf(x),module_role:D[A],result_id:x.id,sid:w,unit_id:F,unit_id_click_type:z,unit_id_result_id:x.id})},function(w,x,y,z){return w+x.id+y.map(function(x){return x.id}).join(",")+(z!=null?z:"")}),logUnitData:function w(x,y,z){var A=v._getModuleUnitID(x),B=y.first();B!=null||o(0);var C=B.type,D=k.RESULT_TYPE_TO_MODULE_ROLE,E=k.BROWSE_EDGE_KEYWORDS_SEARCH,F=E+"("+z+")",G=D[C],H=m.getURIBuilder().setString("logging_unit_id",A).setString("session_id",x).setString("event_name",h.MODULE_IMPRESSION);new i(H.getURI()).send();var I=n.getURIBuilder().setString("session_id",x).setString("query",z).setString("query_function",F).setString("results_module_role",G).setString("logging_unit_id",A).setStringSet("entity_ids",y.map(function(N){return N.id}).toArray());new i(I.getURI()).send();for(var J=y,K=Array.isArray(J),L=0,J=K?J:J[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var M;if(K){if(L>=J.length)break;M=J[L++]}else{L=J.next();if(L.done)break;M=L.value}var N=M,O=v._getResultUnitID(x,N);I=n.getURIBuilder().setString("session_id",x).setString("query",z).setString("query_function",F).setString("results_module_role",G).setString("logging_unit_id",O).setString("tapped_results_entity_id",String(N.id));new i(I.getURI()).send()}},initVPVDLogging:function w(){j.init()},_getModuleUnitID:q(function(w){return v._generateUnitID(t)},function(w){return w}),_getResultUnitID:q(function(w,x){return v._generateUnitID(u)},function(w,x){return w+x.id}),_generateUnitID:function w(x){return x+":"+p(String(r(0,Number.MAX_SAFE_INTEGER)))}};f.exports=v}),null);
__d("XSearchEntityPrimaryActionsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/entity_primary_actions/",{container_id:{type:"String",required:true},ent_id:{type:"FBID",required:true},result_type:{type:"String",required:true}})}),null);
__d("XSearchProfilePictureController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/profile_picture/",{fbid:{type:"FBID",required:true},width:{type:"Int",required:true},height:{type:"Int",required:true}})}),null);
__d("MSearchEntityResult",["DOM","MRequest","MRequestTypes","SearchResultPageExperiments","XSearchEntityPrimaryActionsController","XSearchProfilePictureController","cx","setImmediateAcrossTransitions"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";var p=64;function q(u){var v=u.result.photo,w=k.useUncachedBootstrapEntityModulePictures&&u.result.type==="user";if(w)v=m.getURIBuilder().setFBID("fbid",String(u.result.id)).setInt("width",p).setInt("height",p).getURI().toString();if(v==null)return null;return h.create("a",{href:u.result.uri,touchable:true},h.create("img",{className:"_uod",src:v}))}function r(u){var v=u.result,w=v.name,x=v.subtext,y=v.isVerified,z=v.showGrayCheck,A=void 0;if(y)A=h.create("i",{className:"_uoe"});var B=void 0;if(z)B=h.create("i",{className:"_uog"});return h.create("a",{className:"_uoh touchable",href:u.result.uri},[h.create("div",{className:"_uoi"},h.create("div",{className:"_uok"},w),[A,B]),h.create("div",{className:"_1e8d"},x)])}function s(u){var v=u.result,w="bem_"+v.id,x=h.create("div",{id:w,className:"_5_fr"},h.create("div",{className:"_55ym _55yq"}));o(function(){var y=l.getURIBuilder().setString("container_id",w).setFBID("ent_id",String(v.id)).setString("result_type","browse_type_"+v.type).getURI();new i(y).setMethod("GET").setType(j.INDEPENDENT).send()});return x}function t(u){return h.create("div",{className:"_uoq _3o0d"},[q(u),r(u),s(u)])}f.exports=t}),null);
__d("XTrackableImpressionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/xt/i/",{xt:{type:"String",required:true},isv:{type:"Int"},cts:{type:"Int"},csp:{type:"Int"}})}),null);
__d("generateBrowseSessionID",["CurrentUser","md5"],(function a(b,c,d,e,f,g,h,i){var j={mtouch:"412378670482",www:"256281040558"},k="keywords_search";function l(m){var n=m.appName,o=m.edge;return i([j[n],h.getID(),o,Math.floor(Date.now()/30)].join(":"))}f.exports=l}),null);
__d("immutable",[],(function aa(ba,ca,da,ea,fa,ga){(function(ba,a){typeof ga==="object"&&typeof fa!=="undefined"?fa.exports=a():typeof define==="function"&&define.amd?define(a):ba.Immutable=a()})(this,function(){"use strict";var a=Array.prototype.slice;function b(L,M){if(M)L.prototype=Object.create(M.prototype);L.prototype.constructor=L}var ha="delete",c=5,d=1<<c,e=d-1,f={},ia={value:false},ja={value:false};function ka(L){L.value=false;return L}function g(L){L&&(L.value=true)}function la(){}function ma(L,M){M=M||0;var N=Math.max(0,L.length-M),O=new Array(N);for(var P=0;P<N;P++)O[P]=L[P+M];return O}function na(L){if(L.size===undefined)L.size=L.__iterate(pa);return L.size}function oa(L,M){return M>=0?+M:na(L)+ +M}function pa(){return true}function qa(L,M,N){return(L===0||N!==undefined&&L<=-N)&&(M===undefined||N!==undefined&&M>=N)}function ra(L,M){return ta(L,M,0)}function sa(L,M){return ta(L,M,M)}function ta(L,M,N){return L===undefined?N:L<0?Math.max(0,M+L):M===undefined?L:Math.min(M,L)}function h(L){return k(L)?L:r(L)}b(i,h);function i(L){return l(L)?L:s(L)}b(ua,h);function ua(L){return m(L)?L:t(L)}b(j,h);function j(L){return k(L)&&!va(L)?L:La(L)}function k(L){return!!(L&&L[xa])}function l(L){return!!(L&&L[ya])}function m(L){return!!(L&&L[za])}function va(L){return l(L)||m(L)}function wa(L){return!!(L&&L[Aa])}h.isIterable=k;h.isKeyed=l;h.isIndexed=m;h.isAssociative=va;h.isOrdered=wa;h.Keyed=i;h.Indexed=ua;h.Set=j;var xa="@@__IMMUTABLE_ITERABLE__@@",ya="@@__IMMUTABLE_KEYED__@@",za="@@__IMMUTABLE_INDEXED__@@",Aa="@@__IMMUTABLE_ORDERED__@@",Ba=0,n=1,Ca=2,Da=typeof Symbol==="function"&&Symbol.iterator,Ea="@@iterator",Fa=Da||Ea;function o(L){this.next=L}o.prototype.toString=function(){return"[Iterator]"};o.KEYS=Ba;o.VALUES=n;o.ENTRIES=Ca;o.prototype.inspect=o.prototype.toSource=function(){return this.toString()};o.prototype[Fa]=function(){return this};function p(L,M,N,O){var P=L===0?M:L===1?N:[M,N];O?O.value=P:O={value:P,done:false};return O}function q(){return{value:undefined,done:true}}function Ga(L){return!!Ja(L)}function Ha(L){return L&&typeof L.next==="function"}function Ia(L){var M=Ja(L);return M&&M.call(L)}function Ja(L){var M=L&&(Da&&L[Da]||L[Ea]);if(typeof M==="function")return M}function Ka(L){return L&&typeof L.length==="number"}b(r,h);function r(L){return L===null||L===undefined?Ta():k(L)?L.toSeq():Wa(L)}r.of=function(){return r(arguments)};r.prototype.toSeq=function(){return this};r.prototype.toString=function(){return this.__toString("Seq {","}")};r.prototype.cacheResult=function(){if(!this._cache&&this.__iterateUncached){this._cache=this.entrySeq().toArray();this.size=this._cache.length}return this};r.prototype.__iterate=function(L,M){return Ya(this,L,M,true)};r.prototype.__iterator=function(L,M){return Za(this,L,M,true)};b(s,r);function s(L){return L===null||L===undefined?Ta().toKeyedSeq():k(L)?l(L)?L.toSeq():L.fromEntrySeq():Ua(L)}s.prototype.toKeyedSeq=function(){return this};b(t,r);function t(L){return L===null||L===undefined?Ta():!k(L)?Va(L):l(L)?L.entrySeq():L.toIndexedSeq()}t.of=function(){return t(arguments)};t.prototype.toIndexedSeq=function(){return this};t.prototype.toString=function(){return this.__toString("Seq [","]")};t.prototype.__iterate=function(L,M){return Ya(this,L,M,false)};t.prototype.__iterator=function(L,M){return Za(this,L,M,false)};b(La,r);function La(L){return(L===null||L===undefined?Ta():!k(L)?Va(L):l(L)?L.entrySeq():L).toSetSeq()}La.of=function(){return La(arguments)};La.prototype.toSetSeq=function(){return this};r.isSeq=Ra;r.Keyed=s;r.Set=La;r.Indexed=t;var Ma="@@__IMMUTABLE_SEQ__@@";r.prototype[Ma]=true;b(Na,t);function Na(L){this._array=L;this.size=L.length}Na.prototype.get=function(L,M){return this.has(L)?this._array[oa(this,L)]:M};Na.prototype.__iterate=function(L,M){var N=this._array,O=N.length-1;for(var P=0;P<=O;P++)if(L(N[M?O-P:P],P,this)===false)return P+1;return P};Na.prototype.__iterator=function(L,M){var N=this._array,O=N.length-1,P=0;return new o(function(){return P>O?q():p(L,P,N[M?O-P++:P++])})};b(Oa,s);function Oa(L){var M=Object.keys(L);this._object=L;this._keys=M;this.size=M.length}Oa.prototype.get=function(L,M){if(M!==undefined&&!this.has(L))return M;return this._object[L]};Oa.prototype.has=function(L){return this._object.hasOwnProperty(L)};Oa.prototype.__iterate=function(L,M){var N=this._object,O=this._keys,P=O.length-1;for(var Q=0;Q<=P;Q++){var R=O[M?P-Q:Q];if(L(N[R],R,this)===false)return Q+1}return Q};Oa.prototype.__iterator=function(L,M){var N=this._object,O=this._keys,P=O.length-1,Q=0;return new o(function(){var R=O[M?P-Q:Q];return Q++>P?q():p(L,R,N[R])})};Oa.prototype[Aa]=true;b(Pa,t);function Pa(L){this._iterable=L;this.size=L.length||L.size}Pa.prototype.__iterateUncached=function(L,M){if(M)return this.cacheResult().__iterate(L,M);var N=this._iterable,O=Ia(N),P=0;if(Ha(O)){var Q;while(!(Q=O.next()).done)if(L(Q.value,P++,this)===false)break}return P};Pa.prototype.__iteratorUncached=function(L,M){if(M)return this.cacheResult().__iterator(L,M);var N=this._iterable,O=Ia(N);if(!Ha(O))return new o(q);var P=0;return new o(function(){var Q=O.next();return Q.done?Q:p(L,P++,Q.value)})};b(Qa,t);function Qa(L){this._iterator=L;this._iteratorCache=[]}Qa.prototype.__iterateUncached=function(L,M){if(M)return this.cacheResult().__iterate(L,M);var N=this._iterator,O=this._iteratorCache,P=0;while(P<O.length)if(L(O[P],P++,this)===false)return P;var Q;while(!(Q=N.next()).done){var R=Q.value;O[P]=R;if(L(R,P++,this)===false)break}return P};Qa.prototype.__iteratorUncached=function(L,M){if(M)return this.cacheResult().__iterator(L,M);var N=this._iterator,O=this._iteratorCache,P=0;return new o(function(){if(P>=O.length){var Q=N.next();if(Q.done)return Q;O[P]=Q.value}return p(L,P,O[P++])})};function Ra(L){return!!(L&&L[Ma])}var Sa;function Ta(){return Sa||(Sa=new Na([]))}function Ua(L){var M=Array.isArray(L)?new Na(L).fromEntrySeq():Ha(L)?new Qa(L).fromEntrySeq():Ga(L)?new Pa(L).fromEntrySeq():typeof L==="object"?new Oa(L):undefined;if(!M)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+L);return M}function Va(L){var M=Xa(L);if(!M)throw new TypeError("Expected Array or iterable object of values: "+L);return M}function Wa(L){var M=Xa(L)||typeof L==="object"&&new Oa(L);if(!M)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+L);return M}function Xa(L){return Ka(L)?new Na(L):Ha(L)?new Qa(L):Ga(L)?new Pa(L):undefined}function Ya(L,M,N,O){var P=L._cache;if(P){var Q=P.length-1;for(var R=0;R<=Q;R++){var S=P[N?Q-R:R];if(M(S[1],O?S[0]:R,L)===false)return R+1}return R}return L.__iterateUncached(M,N)}function Za(L,M,N,O){var P=L._cache;if(P){var Q=P.length-1,R=0;return new o(function(){var S=P[N?Q-R:R];return R++>Q?q():p(M,O?S[0]:R-1,S[1])})}return L.__iteratorUncached(M,N)}b($a,h);function $a(){throw TypeError("Abstract")}b(ab,$a);function ab(){}b(bb,$a);function bb(){}b(cb,$a);function cb(){}$a.Keyed=ab;$a.Indexed=bb;$a.Set=cb;function u(L,M){if(L===M||L!==L&&M!==M)return true;if(!L||!M)return false;if(typeof L.valueOf==="function"&&typeof M.valueOf==="function"){L=L.valueOf();M=M.valueOf();if(L===M||L!==L&&M!==M)return true;if(!L||!M)return false}if(typeof L.equals==="function"&&typeof M.equals==="function"&&L.equals(M))return true;return false}function db(L,M){return M?eb(M,L,"",{"":L}):fb(L)}function eb(L,M,N,O){if(Array.isArray(M))return L.call(O,N,t(M).map(function(P,Q){return eb(L,P,Q,M)}));if(gb(M))return L.call(O,N,s(M).map(function(P,Q){return eb(L,P,Q,M)}));return M}function fb(L){if(Array.isArray(L))return t(L).map(fb).toList();if(gb(L))return s(L).map(fb).toMap();return L}function gb(L){return L&&(L.constructor===Object||L.constructor===undefined)}var hb=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function L(M,N){M=M|0;N=N|0;var O=M&65535,P=N&65535;return O*P+((M>>>16)*P+O*(N>>>16)<<16>>>0)|0};function ib(L){return L>>>1&1073741824|L&3221225471}function v(L){if(L===false||L===null||L===undefined)return 0;if(typeof L.valueOf==="function"){L=L.valueOf();if(L===false||L===null||L===undefined)return 0}if(L===true)return 1;var M=typeof L;if(M==="number"){var N=L|0;if(N!==L)N^=L*4294967295;while(L>4294967295){L/=4294967295;N^=L}return ib(N)}if(M==="string")return L.length>tb?jb(L):kb(L);if(typeof L.hashCode==="function")return L.hashCode();return lb(L)}function jb(L){var v=wb[L];if(v===undefined){v=kb(L);if(vb===ub){vb=0;wb={}}vb++;wb[L]=v}return v}function kb(L){var v=0;for(var M=0;M<L.length;M++)v=31*v+L.charCodeAt(M)|0;return ib(v)}function lb(L){var v;if(pb){v=qb.get(L);if(v!==undefined)return v}v=L[sb];if(v!==undefined)return v;if(!nb){v=L.propertyIsEnumerable&&L.propertyIsEnumerable[sb];if(v!==undefined)return v;v=ob(L);if(v!==undefined)return v}v=++rb;if(rb&1073741824)rb=0;if(pb)qb.set(L,v);else if(mb!==undefined&&mb(L)===false)throw new Error("Non-extensible objects are not allowed as keys.");else if(nb)Object.defineProperty(L,sb,{enumerable:false,configurable:false,writable:false,value:v});else if(L.propertyIsEnumerable!==undefined&&L.propertyIsEnumerable===L.constructor.prototype.propertyIsEnumerable){L.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)};L.propertyIsEnumerable[sb]=v}else if(L.nodeType!==undefined)L[sb]=v;else throw new Error("Unable to set a non-enumerable property on object.");return v}var mb=Object.isExtensible,nb=function(){try{Object.defineProperty({},"@",{});return true}catch(L){return false}}();function ob(L){if(L&&L.nodeType>0)switch(L.nodeType){case 1:return L.uniqueID;case 9:return L.documentElement&&L.documentElement.uniqueID}}var pb=typeof WeakMap==="function",qb;if(pb)qb=new WeakMap();var rb=0,sb="__immutablehash__";if(typeof Symbol==="function")sb=Symbol(sb);var tb=16,ub=255,vb=0,wb={};function xb(L,M){if(!L)throw new Error(M)}function w(L){xb(L!==Infinity,"Cannot perform this action with an infinite size.")}b(yb,s);function yb(L,M){this._iter=L;this._useKeys=M;this.size=L.size}yb.prototype.get=function(L,M){return this._iter.get(L,M)};yb.prototype.has=function(L){return this._iter.has(L)};yb.prototype.valueSeq=function(){return this._iter.valueSeq()};yb.prototype.reverse=function(){var L=this,M=Eb(this,true);if(!this._useKeys)M.valueSeq=function(){return L._iter.toSeq().reverse()};return M};yb.prototype.map=function(L,M){var N=this,O=Db(this,L,M);if(!this._useKeys)O.valueSeq=function(){return N._iter.toSeq().map(L,M)};return O};yb.prototype.__iterate=function(L,M){var N=this,O;return this._iter.__iterate(this._useKeys?function(P,Q){return L(P,Q,N)}:(O=M?Ub(this):0,function(P){return L(P,M?--O:O++,N)}),M)};yb.prototype.__iterator=function(L,M){if(this._useKeys)return this._iter.__iterator(L,M);var N=this._iter.__iterator(n,M),O=M?Ub(this):0;return new o(function(){var P=N.next();return P.done?P:p(L,M?--O:O++,P.value,P)})};yb.prototype[Aa]=true;b(zb,t);function zb(L){this._iter=L;this.size=L.size}zb.prototype.includes=function(L){return this._iter.includes(L)};zb.prototype.__iterate=function(L,M){var N=this,O=0;return this._iter.__iterate(function(P){return L(P,O++,N)},M)};zb.prototype.__iterator=function(L,M){var N=this._iter.__iterator(n,M),O=0;return new o(function(){var P=N.next();return P.done?P:p(L,O++,P.value,P)})};b(Ab,La);function Ab(L){this._iter=L;this.size=L.size}Ab.prototype.has=function(L){return this._iter.includes(L)};Ab.prototype.__iterate=function(L,M){var N=this;return this._iter.__iterate(function(O){return L(O,O,N)},M)};Ab.prototype.__iterator=function(L,M){var N=this._iter.__iterator(n,M);return new o(function(){var O=N.next();return O.done?O:p(L,O.value,O.value,O)})};b(Bb,s);function Bb(L){this._iter=L;this.size=L.size}Bb.prototype.entrySeq=function(){return this._iter.toSeq()};Bb.prototype.__iterate=function(L,M){var N=this;return this._iter.__iterate(function(O){if(O){Tb(O);var P=k(O);return L(P?O.get(1):O[1],P?O.get(0):O[0],N)}},M)};Bb.prototype.__iterator=function(L,M){var N=this._iter.__iterator(n,M);return new o(function(){while(true){var O=N.next();if(O.done)return O;var P=O.value;if(P){Tb(P);var Q=k(P);return p(L,Q?P.get(0):P[0],Q?P.get(1):P[1],O)}}})};zb.prototype.cacheResult=yb.prototype.cacheResult=Ab.prototype.cacheResult=Bb.prototype.cacheResult=Xb;function Cb(L){var M=Wb(L);M._iter=L;M.size=L.size;M.flip=function(){return L};M.reverse=function(){var N=L.reverse.apply(this);N.flip=function(){return L.reverse()};return N};M.has=function(N){return L.includes(N)};M.includes=function(N){return L.has(N)};M.cacheResult=Xb;M.__iterateUncached=function(N,O){var P=this;return L.__iterate(function(Q,R){return N(R,Q,P)!==false},O)};M.__iteratorUncached=function(N,O){if(N===Ca){var P=L.__iterator(N,O);return new o(function(){var Q=P.next();if(!Q.done){var R=Q.value[0];Q.value[0]=Q.value[1];Q.value[1]=R}return Q})}return L.__iterator(N===n?Ba:n,O)};return M}function Db(L,M,N){var O=Wb(L);O.size=L.size;O.has=function(P){return L.has(P)};O.get=function(P,Q){var R=L.get(P,f);return R===f?Q:M.call(N,R,P,L)};O.__iterateUncached=function(P,Q){var R=this;return L.__iterate(function(S,T,U){return P(M.call(N,S,T,U),T,R)!==false},Q)};O.__iteratorUncached=function(P,Q){var R=L.__iterator(Ca,Q);return new o(function(){var S=R.next();if(S.done)return S;var T=S.value,U=T[0];return p(P,U,M.call(N,T[1],U,L),S)})};return O}function Eb(L,M){var N=Wb(L);N._iter=L;N.size=L.size;N.reverse=function(){return L};if(L.flip)N.flip=function(){var O=Cb(L);O.reverse=function(){return L.flip()};return O};N.get=function(O,P){return L.get(M?O:-1-O,P)};N.has=function(O){return L.has(M?O:-1-O)};N.includes=function(O){return L.includes(O)};N.cacheResult=Xb;N.__iterate=function(O,P){var Q=this;return L.__iterate(function(R,S){return O(R,S,Q)},!P)};N.__iterator=function(O,P){return L.__iterator(O,!P)};return N}function Fb(L,M,N,O){var P=Wb(L);if(O){P.has=function(Q){var R=L.get(Q,f);return R!==f&&!!M.call(N,R,Q,L)};P.get=function(Q,R){var S=L.get(Q,f);return S!==f&&M.call(N,S,Q,L)?S:R}}P.__iterateUncached=function(Q,R){var S=this,T=0;L.__iterate(function(U,V,W){if(M.call(N,U,V,W)){T++;return Q(U,O?V:T-1,S)}},R);return T};P.__iteratorUncached=function(Q,R){var S=L.__iterator(Ca,R),T=0;return new o(function(){while(true){var U=S.next();if(U.done)return U;var V=U.value,W=V[0],X=V[1];if(M.call(N,X,W,L))return p(Q,O?W:T++,X,U)}})};return P}function Gb(L,M,N){var O=y().asMutable();L.__iterate(function(P,Q){O.update(M.call(N,P,Q,L),0,function(R){return R+1})});return O.asImmutable()}function Hb(L,M,N){var O=l(L),P=(wa(L)?C():y()).asMutable();L.__iterate(function(R,S){P.update(M.call(N,R,S,L),function(T){return T=T||[],T.push(O?[S,R]:R),T})});var Q=Vb(L);return P.map(function(R){return x(L,Q(R))})}function Ib(L,M,N,O){var P=L.size;if(qa(M,N,P))return L;var Q=ra(M,P),R=sa(N,P);if(Q!==Q||R!==R)return Ib(L.toSeq().cacheResult(),M,N,O);var S=R-Q,T;if(S===S)T=S<0?0:S;var U=Wb(L);U.size=T;if(!O&&Ra(L)&&T>=0)U.get=function(V,W){V=oa(this,V);return V>=0&&V<T?L.get(V+Q,W):W};U.__iterateUncached=function(V,W){var X=this;if(T===0)return 0;if(W)return this.cacheResult().__iterate(V,W);var Y=0,Z=true,$=0;L.__iterate(function(Jd,Kd){if(!(Z&&(Z=Y++<Q))){$++;return V(Jd,O?Kd:$-1,X)!==false&&$!==T}});return $};U.__iteratorUncached=function(V,W){if(T!==0&&W)return this.cacheResult().__iterator(V,W);var X=T!==0&&L.__iterator(V,W),Y=0,Z=0;return new o(function(){while(Y++<Q)X.next();if(++Z>T)return q();var $=X.next();if(O||V===n)return $;else if(V===Ba)return p(V,Z-1,undefined,$);else return p(V,Z-1,$.value[1],$)})};return U}function Jb(L,M,N){var O=Wb(L);O.__iterateUncached=function(P,Q){var R=this;if(Q)return this.cacheResult().__iterate(P,Q);var S=0;L.__iterate(function(T,U,V){return M.call(N,T,U,V)&&++S&&P(T,U,R)});return S};O.__iteratorUncached=function(P,Q){var R=this;if(Q)return this.cacheResult().__iterator(P,Q);var S=L.__iterator(Ca,Q),T=true;return new o(function(){if(!T)return q();var U=S.next();if(U.done)return U;var V=U.value,W=V[0],X=V[1];if(!M.call(N,X,W,R)){T=false;return q()}return P===Ca?U:p(P,W,X,U)})};return O}function Kb(L,M,N,O){var P=Wb(L);P.__iterateUncached=function(Q,R){var S=this;if(R)return this.cacheResult().__iterate(Q,R);var T=true,U=0;L.__iterate(function(V,W,X){if(!(T&&(T=M.call(N,V,W,X)))){U++;return Q(V,O?W:U-1,S)}});return U};P.__iteratorUncached=function(Q,R){var S=this;if(R)return this.cacheResult().__iterator(Q,R);var T=L.__iterator(Ca,R),U=true,V=0;return new o(function(){var W,X,Y;do{W=T.next();if(W.done)if(O||Q===n)return W;else if(Q===Ba)return p(Q,V++,undefined,W);else return p(Q,V++,W.value[1],W);var Z=W.value;X=Z[0];Y=Z[1];U&&(U=M.call(N,Y,X,S))}while(U);return Q===Ca?W:p(Q,X,Y,W)})};return P}function Lb(L,M){var N=l(L),O=[L].concat(M).map(function(R){if(!k(R))R=N?Ua(R):Va(Array.isArray(R)?R:[R]);else if(N)R=i(R);return R}).filter(function(R){return R.size!==0});if(O.length===0)return L;if(O.length===1){var P=O[0];if(P===L||N&&l(P)||m(L)&&m(P))return P}var Q=new Na(O);if(N)Q=Q.toKeyedSeq();else if(!m(L))Q=Q.toSetSeq();Q=Q.flatten(true);Q.size=O.reduce(function(R,S){if(R!==undefined){var T=S.size;if(T!==undefined)return R+T}},0);return Q}function Mb(L,M,N){var O=Wb(L);O.__iterateUncached=function(P,Q){var R=0,S=false;function T(U,V){var W=this;U.__iterate(function(X,Y){if((!M||V<M)&&k(X))T(X,V+1);else if(P(X,N?Y:R++,W)===false)S=true;return!S},Q)}T(L,0);return R};O.__iteratorUncached=function(P,Q){var R=L.__iterator(P,Q),S=[],T=0;return new o(function(){while(R){var U=R.next();if(U.done!==false){R=S.pop();continue}var V=U.value;if(P===Ca)V=V[1];if((!M||S.length<M)&&k(V)){S.push(R);R=V.__iterator(P,Q)}else return N?U:p(P,T++,V,U)}return q()})};return O}function Nb(L,M,N){var O=Vb(L);return L.toSeq().map(function(P,Q){return O(M.call(N,P,Q,L))}).flatten(true)}function Ob(L,M){var N=Wb(L);N.size=L.size&&L.size*2-1;N.__iterateUncached=function(O,P){var Q=this,R=0;L.__iterate(function(S,T){return(!R||O(M,R++,Q)!==false)&&O(S,R++,Q)!==false},P);return R};N.__iteratorUncached=function(O,P){var Q=L.__iterator(n,P),R=0,S;return new o(function(){if(!S||R%2){S=Q.next();if(S.done)return S}return R%2?p(O,R++,M):p(O,R++,S.value,S)})};return N}function Pb(L,M,N){if(!M)M=Yb;var O=l(L),P=0,Q=L.toSeq().map(function(R,S){return[S,R,P++,N?N(R,S,L):R]}).toArray();Q.sort(function(R,S){return M(R[3],S[3])||R[2]-S[2]}).forEach(O?function(R,S){Q[S].length=2}:function(R,S){Q[S]=R[1]});return O?s(Q):m(L)?t(Q):La(Q)}function Qb(L,M,N){if(!M)M=Yb;if(N){var O=L.toSeq().map(function(P,Q){return[P,N(P,Q,L)]}).reduce(function(P,Q){return Rb(M,P[1],Q[1])?Q:P});return O&&O[0]}else return L.reduce(function(P,Q){return Rb(M,P,Q)?Q:P})}function Rb(L,M,N){var O=L(N,M);return O===0&&N!==M&&(N===undefined||N===null||N!==N)||O>0}function Sb(L,M,N){var O=Wb(L);O.size=new Na(N).map(function(P){return P.size}).min();O.__iterate=function(P,Q){var R=this.__iterator(n,Q),S,T=0;while(!(S=R.next()).done)if(P(S.value,T++,this)===false)break;return T};O.__iteratorUncached=function(P,Q){var R=N.map(function(U){return U=h(U),Ia(Q?U.reverse():U)}),S=0,T=false;return new o(function(){var U;if(!T){U=R.map(function(V){return V.next()});T=U.some(function(V){return V.done})}if(T)return q();return p(P,S++,M.apply(null,U.map(function(V){return V.value})))})};return O}function x(L,M){return Ra(L)?M:L.constructor(M)}function Tb(L){if(L!==Object(L))throw new TypeError("Expected [K, V] tuple: "+L)}function Ub(L){w(L.size);return na(L)}function Vb(L){return l(L)?i:m(L)?ua:j}function Wb(L){return Object.create((l(L)?s:m(L)?t:La).prototype)}function Xb(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}else return r.prototype.cacheResult.call(this)}function Yb(L,M){return L>M?1:L<M?-1:0}function Zb(L){var M=Ia(L);if(!M){if(!Ka(L))throw new TypeError("Expected iterable or array-like: "+L);M=Ia(h(L))}return M}b(y,ab);function y(L){return L===null||L===undefined?lc():$b(L)?L:lc().withMutations(function(M){var N=i(L);w(N.size);N.forEach(function(O,P){return M.set(P,O)})})}y.prototype.toString=function(){return this.__toString("Map {","}")};y.prototype.get=function(L,M){return this._root?this._root.get(0,undefined,L,M):M};y.prototype.set=function(L,M){return mc(this,L,M)};y.prototype.setIn=function(L,M){return this.updateIn(L,f,function(){return M})};y.prototype.remove=function(L){return mc(this,L,f)};y.prototype.deleteIn=function(L){return this.updateIn(L,function(){return f})};y.prototype.update=function(L,M,N){return arguments.length===1?L(this):this.updateIn([L],M,N)};y.prototype.updateIn=function(L,M,N){if(!N){N=M;M=undefined}var O=wc(this,Zb(L),M,N);return O===f?undefined:O};y.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=undefined;this.__altered=true;return this}return lc()};y.prototype.merge=function(){return tc(this,undefined,arguments)};y.prototype.mergeWith=function(L){var M=a.call(arguments,1);return tc(this,L,M)};y.prototype.mergeIn=function(L){var M=a.call(arguments,1);return this.updateIn(L,lc(),function(N){return typeof N.merge==="function"?N.merge.apply(N,M):M[M.length-1]})};y.prototype.mergeDeep=function(){return tc(this,uc(undefined),arguments)};y.prototype.mergeDeepWith=function(L){var M=a.call(arguments,1);return tc(this,uc(L),M)};y.prototype.mergeDeepIn=function(L){var M=a.call(arguments,1);return this.updateIn(L,lc(),function(N){return typeof N.mergeDeep==="function"?N.mergeDeep.apply(N,M):M[M.length-1]})};y.prototype.sort=function(L){return C(Pb(this,L))};y.prototype.sortBy=function(L,M){return C(Pb(this,M,L))};y.prototype.withMutations=function(L){var M=this.asMutable();L(M);return M.wasAltered()?M.__ensureOwner(this.__ownerID):this};y.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new la())};y.prototype.asImmutable=function(){return this.__ensureOwner()};y.prototype.wasAltered=function(){return this.__altered};y.prototype.__iterator=function(L,M){return new gc(this,L,M)};y.prototype.__iterate=function(L,M){var N=this,O=0;this._root&&this._root.iterate(function(P){O++;return L(P[1],P[0],N)},M);return O};y.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;if(!L){this.__ownerID=L;this.__altered=false;return this}return jc(this.size,this._root,L,this.__hash)};function $b(L){return!!(L&&L[ac])}y.isMap=$b;var ac="@@__IMMUTABLE_MAP__@@",z=y.prototype;z[ac]=true;z[ha]=z.remove;z.removeIn=z.deleteIn;function bc(L,M){this.ownerID=L;this.entries=M}bc.prototype.get=function(L,M,N,O){var P=this.entries;for(var Q=0,R=P.length;Q<R;Q++)if(u(N,P[Q][0]))return P[Q][1];return O};bc.prototype.update=function(L,M,N,O,P,Q,R){var S=P===f,T=this.entries,U=0;for(var V=T.length;U<V;U++)if(u(O,T[U][0]))break;var W=U<V;if(W?T[U][1]===P:S)return this;g(R);(S||!W)&&g(Q);if(S&&T.length===1)return;if(!W&&!S&&T.length>=Bc)return qc(L,T,O,P);var X=L&&L===this.ownerID,Y=X?T:ma(T);if(W)if(S)U===V-1?Y.pop():Y[U]=Y.pop();else Y[U]=[O,P];else Y.push([O,P]);if(X){this.entries=Y;return this}return new bc(L,Y)};function cc(L,M,N){this.ownerID=L;this.bitmap=M;this.nodes=N}cc.prototype.get=function(L,M,N,O){if(M===undefined)M=v(N);var P=1<<((L===0?M:M>>>L)&e),Q=this.bitmap;return(Q&P)===0?O:this.nodes[xc(Q&P-1)].get(L+c,M,N,O)};cc.prototype.update=function(L,M,N,O,P,Q,R){if(N===undefined)N=v(O);var S=(M===0?N:N>>>M)&e,T=1<<S,U=this.bitmap,V=(U&T)!==0;if(!V&&P===f)return this;var W=xc(U&T-1),X=this.nodes,Y=V?X[W]:undefined,Z=nc(Y,L,M+c,N,O,P,Q,R);if(Z===Y)return this;if(!V&&Z&&X.length>=Cc)return sc(L,X,U,S,Z);if(V&&!Z&&X.length===2&&oc(X[W^1]))return X[W^1];if(V&&Z&&X.length===1&&oc(Z))return Z;var $=L&&L===this.ownerID,Jd=V?Z?U:U^T:U|T,Kd=V?Z?yc(X,W,Z,$):Ac(X,W,$):zc(X,W,Z,$);if($){this.bitmap=Jd;this.nodes=Kd;return this}return new cc(L,Jd,Kd)};function dc(L,M,N){this.ownerID=L;this.count=M;this.nodes=N}dc.prototype.get=function(L,M,N,O){if(M===undefined)M=v(N);var P=(L===0?M:M>>>L)&e,Q=this.nodes[P];return Q?Q.get(L+c,M,N,O):O};dc.prototype.update=function(L,M,N,O,P,Q,R){if(N===undefined)N=v(O);var S=(M===0?N:N>>>M)&e,T=P===f,U=this.nodes,V=U[S];if(T&&!V)return this;var W=nc(V,L,M+c,N,O,P,Q,R);if(W===V)return this;var X=this.count;if(!V)X++;else if(!W){X--;if(X<Dc)return rc(L,U,X,S)}var Y=L&&L===this.ownerID,Z=yc(U,S,W,Y);if(Y){this.count=X;this.nodes=Z;return this}return new dc(L,X,Z)};function ec(L,M,N){this.ownerID=L;this.keyHash=M;this.entries=N}ec.prototype.get=function(L,M,N,O){var P=this.entries;for(var Q=0,R=P.length;Q<R;Q++)if(u(N,P[Q][0]))return P[Q][1];return O};ec.prototype.update=function(L,M,N,O,P,Q,R){if(N===undefined)N=v(O);var S=P===f;if(N!==this.keyHash){if(S)return this;g(R);g(Q);return pc(this,L,M,N,[O,P])}var T=this.entries,U=0;for(var V=T.length;U<V;U++)if(u(O,T[U][0]))break;var W=U<V;if(W?T[U][1]===P:S)return this;g(R);(S||!W)&&g(Q);if(S&&V===2)return new fc(L,this.keyHash,T[U^1]);var X=L&&L===this.ownerID,Y=X?T:ma(T);if(W)if(S)U===V-1?Y.pop():Y[U]=Y.pop();else Y[U]=[O,P];else Y.push([O,P]);if(X){this.entries=Y;return this}return new ec(L,this.keyHash,Y)};function fc(L,M,N){this.ownerID=L;this.keyHash=M;this.entry=N}fc.prototype.get=function(L,M,N,O){return u(N,this.entry[0])?this.entry[1]:O};fc.prototype.update=function(L,M,N,O,P,Q,R){var S=P===f,T=u(O,this.entry[0]);if(T?P===this.entry[1]:S)return this;g(R);if(S){g(Q);return}if(T){if(L&&L===this.ownerID){this.entry[1]=P;return this}return new fc(L,this.keyHash,[O,P])}g(Q);return pc(this,L,M,v(O),[O,P])};bc.prototype.iterate=ec.prototype.iterate=function(L,M){var N=this.entries;for(var O=0,P=N.length-1;O<=P;O++)if(L(N[M?P-O:O])===false)return false};cc.prototype.iterate=dc.prototype.iterate=function(L,M){var N=this.nodes;for(var O=0,P=N.length-1;O<=P;O++){var Q=N[M?P-O:O];if(Q&&Q.iterate(L,M)===false)return false}};fc.prototype.iterate=function(L,M){return L(this.entry)};b(gc,o);function gc(L,M,N){this._type=M;this._reverse=N;this._stack=L._root&&ic(L._root)}gc.prototype.next=function(){var L=this._type,M=this._stack;while(M){var N=M.node,O=M.index++,P;if(N.entry){if(O===0)return hc(L,N.entry)}else if(N.entries){P=N.entries.length-1;if(O<=P)return hc(L,N.entries[this._reverse?P-O:O])}else{P=N.nodes.length-1;if(O<=P){var Q=N.nodes[this._reverse?P-O:O];if(Q){if(Q.entry)return hc(L,Q.entry);M=this._stack=ic(Q,M)}continue}}M=this._stack=this._stack.__prev}return q()};function hc(L,M){return p(L,M[0],M[1])}function ic(L,M){return{node:L,index:0,__prev:M}}function jc(L,M,N,v){var O=Object.create(z);O.size=L;O._root=M;O.__ownerID=N;O.__hash=v;O.__altered=false;return O}var kc;function lc(){return kc||(kc=jc(0))}function mc(L,M,N){var O,P;if(!L._root){if(N===f)return L;P=1;O=new bc(L.__ownerID,[[M,N]])}else{var Q=ka(ia),R=ka(ja);O=nc(L._root,L.__ownerID,0,undefined,M,N,Q,R);if(!R.value)return L;P=L.size+(Q.value?N===f?-1:1:0)}if(L.__ownerID){L.size=P;L._root=O;L.__hash=undefined;L.__altered=true;return L}return O?jc(P,O):lc()}function nc(L,M,N,O,P,Q,R,S){if(!L){if(Q===f)return L;g(S);g(R);return new fc(M,O,[P,Q])}return L.update(M,N,O,P,Q,R,S)}function oc(L){return L.constructor===fc||L.constructor===ec}function pc(L,M,N,O,P){if(L.keyHash===O)return new ec(M,O,[L.entry,P]);var Q=(N===0?L.keyHash:L.keyHash>>>N)&e,R=(N===0?O:O>>>N)&e,S,T=Q===R?[pc(L,M,N+c,O,P)]:(S=new fc(M,O,P),Q<R?[L,S]:[S,L]);return new cc(M,1<<Q|1<<R,T)}function qc(L,M,N,O){if(!L)L=new la();var P=new fc(L,v(N),[N,O]);for(var Q=0;Q<M.length;Q++){var R=M[Q];P=P.update(L,0,undefined,R[0],R[1])}return P}function rc(L,M,N,O){var P=0,Q=0,R=new Array(N);for(var S=0,T=1,U=M.length;S<U;S++,T<<=1){var V=M[S];if(V!==undefined&&S!==O){P|=T;R[Q++]=V}}return new cc(L,P,R)}function sc(L,M,N,O,P){var Q=0,R=new Array(d);for(var S=0;N!==0;S++,N>>>=1)R[S]=N&1?M[Q++]:undefined;R[O]=P;return new dc(L,Q+1,R)}function tc(L,M,N){var O=[];for(var P=0;P<N.length;P++){var Q=N[P],R=i(Q);if(!k(Q))R=R.map(function(S){return db(S)});O.push(R)}return vc(L,M,O)}function uc(L){return function(M,N,O){return M&&M.mergeDeepWith&&k(N)?M.mergeDeepWith(L,N):L?L(M,N,O):N}}function vc(L,M,N){N=N.filter(function(O){return O.size!==0});if(N.length===0)return L;if(L.size===0&&!L.__ownerID&&N.length===1)return L.constructor(N[0]);return L.withMutations(function(L){var O=M?function(Q,R){L.update(R,f,function(S){return S===f?Q:M(S,Q,R)})}:function(Q,R){L.set(R,Q)};for(var P=0;P<N.length;P++)N[P].forEach(O)})}function wc(L,M,N,O){var P=L===f,Q=M.next();if(Q.done){var R=P?N:L,S=O(R);return S===R?L:S}xb(P||L&&L.set,"invalid keyPath");var T=Q.value,U=P?f:L.get(T,f),V=wc(U,M,N,O);return V===U?L:V===f?L.remove(T):(P?lc():L).set(T,V)}function xc(L){L=L-(L>>1&1431655765);L=(L&858993459)+(L>>2&858993459);L=L+(L>>4)&252645135;L=L+(L>>8);L=L+(L>>16);return L&127}function yc(L,M,N,O){var P=O?L:ma(L);P[M]=N;return P}function zc(L,M,N,O){var P=L.length+1;if(O&&M+1===P){L[M]=N;return L}var Q=new Array(P),R=0;for(var S=0;S<P;S++)if(S===M){Q[S]=N;R=-1}else Q[S]=L[S+R];return Q}function Ac(L,M,N){var O=L.length-1;if(N&&M===O){L.pop();return L}var P=new Array(O),Q=0;for(var R=0;R<O;R++){if(R===M)Q=1;P[R]=L[R+Q]}return P}var Bc=d/4,Cc=d/2,Dc=d/4;b(A,bb);function A(L){var M=Lc();if(L===null||L===undefined)return M;if(Ec(L))return L;var N=ua(L),O=N.size;if(O===0)return M;w(O);if(O>0&&O<d)return Jc(0,O,c,null,new Gc(N.toArray()));return M.withMutations(function(P){P.setSize(O);N.forEach(function(Q,R){return P.set(R,Q)})})}A.of=function(){return this(arguments)};A.prototype.toString=function(){return this.__toString("List [","]")};A.prototype.get=function(L,M){L=oa(this,L);if(L<0||L>=this.size)return M;L+=this._origin;var N=Pc(this,L);return N&&N.array[L&e]};A.prototype.set=function(L,M){return Mc(this,L,M)};A.prototype.remove=function(L){return!this.has(L)?this:L===0?this.shift():L===this.size-1?this.pop():this.splice(L,1)};A.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=c;this._root=this._tail=null;this.__hash=undefined;this.__altered=true;return this}return Lc()};A.prototype.push=function(){var L=arguments,M=this.size;return this.withMutations(function(N){Qc(N,0,M+L.length);for(var O=0;O<L.length;O++)N.set(M+O,L[O])})};A.prototype.pop=function(){return Qc(this,0,-1)};A.prototype.unshift=function(){var L=arguments;return this.withMutations(function(M){Qc(M,-L.length);for(var N=0;N<L.length;N++)M.set(N,L[N])})};A.prototype.shift=function(){return Qc(this,1)};A.prototype.merge=function(){return Rc(this,undefined,arguments)};A.prototype.mergeWith=function(L){var M=a.call(arguments,1);return Rc(this,L,M)};A.prototype.mergeDeep=function(){return Rc(this,uc(undefined),arguments)};A.prototype.mergeDeepWith=function(L){var M=a.call(arguments,1);return Rc(this,uc(L),M)};A.prototype.setSize=function(L){return Qc(this,0,L)};A.prototype.slice=function(L,M){var N=this.size;if(qa(L,M,N))return this;return Qc(this,ra(L,N),sa(M,N))};A.prototype.__iterator=function(L,M){var N=0,O=Ic(this,M);return new o(function(){var P=O();return P===Hc?q():p(L,N++,P)})};A.prototype.__iterate=function(L,M){var N=0,O=Ic(this,M),P;while((P=O())!==Hc)if(L(P,N++,this)===false)break;return N};A.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;if(!L){this.__ownerID=L;return this}return Jc(this._origin,this._capacity,this._level,this._root,this._tail,L,this.__hash)};function Ec(L){return!!(L&&L[Fc])}A.isList=Ec;var Fc="@@__IMMUTABLE_LIST__@@",B=A.prototype;B[Fc]=true;B[ha]=B.remove;B.setIn=z.setIn;B.deleteIn=B.removeIn=z.removeIn;B.update=z.update;B.updateIn=z.updateIn;B.mergeIn=z.mergeIn;B.mergeDeepIn=z.mergeDeepIn;B.withMutations=z.withMutations;B.asMutable=z.asMutable;B.asImmutable=z.asImmutable;B.wasAltered=z.wasAltered;function Gc(L,M){this.array=L;this.ownerID=M}Gc.prototype.removeBefore=function(L,M,N){if(N===M?1<<M:this.array.length===0)return this;var O=N>>>M&e;if(O>=this.array.length)return new Gc([],L);var P=O===0,Q;if(M>0){var R=this.array[O];Q=R&&R.removeBefore(L,M-c,N);if(Q===R&&P)return this}if(P&&!Q)return this;var S=Oc(this,L);if(!P)for(var T=0;T<O;T++)S.array[T]=undefined;if(Q)S.array[O]=Q;return S};Gc.prototype.removeAfter=function(L,M,N){if(N===M?1<<M:this.array.length===0)return this;var O=N-1>>>M&e;if(O>=this.array.length)return this;var P=O===this.array.length-1,Q;if(M>0){var R=this.array[O];Q=R&&R.removeAfter(L,M-c,N);if(Q===R&&P)return this}if(P&&!Q)return this;var S=Oc(this,L);if(!P)S.array.pop();if(Q)S.array[O]=Q;return S};var Hc={};function Ic(L,M){var N=L._origin,O=L._capacity,P=Sc(O),Q=L._tail;return R(L._root,L._level,0);function R(U,V,W){return V===0?S(U,W):T(U,V,W)}function S(U,V){var W=V===P?Q&&Q.array:U&&U.array,X=V>N?0:N-V,Y=O-V;if(Y>d)Y=d;return function(){if(X===Y)return Hc;var Z=M?--Y:X++;return W&&W[Z]}}function T(U,V,W){var X,Y=U&&U.array,Z=W>N?0:N-W>>V,$=(O-W>>V)+1;if($>d)$=d;return function(){do{if(X){var Jd=X();if(Jd!==Hc)return Jd;X=null}if(Z===$)return Hc;var Kd=M?--$:Z++;X=R(Y&&Y[Kd],V-c,W+(Kd<<V))}while(true)}}}function Jc(L,M,N,O,P,Q,v){var R=Object.create(B);R.size=M-L;R._origin=L;R._capacity=M;R._level=N;R._root=O;R._tail=P;R.__ownerID=Q;R.__hash=v;R.__altered=false;return R}var Kc;function Lc(){return Kc||(Kc=Jc(0,0,c))}function Mc(L,M,N){M=oa(L,M);if(M>=L.size||M<0)return L.withMutations(function(L){M<0?Qc(L,M).set(0,N):Qc(L,0,M+1).set(M,N)});M+=L._origin;var O=L._tail,P=L._root,Q=ka(ja);if(M>=Sc(L._capacity))O=Nc(O,L.__ownerID,0,M,N,Q);else P=Nc(P,L.__ownerID,L._level,M,N,Q);if(!Q.value)return L;if(L.__ownerID){L._root=P;L._tail=O;L.__hash=undefined;L.__altered=true;return L}return Jc(L._origin,L._capacity,L._level,P,O)}function Nc(L,M,N,O,P,Q){var R=O>>>N&e,S=L&&R<L.array.length;if(!S&&P===undefined)return L;var T;if(N>0){var U=L&&L.array[R],V=Nc(U,M,N-c,O,P,Q);if(V===U)return L;T=Oc(L,M);T.array[R]=V;return T}if(S&&L.array[R]===P)return L;g(Q);T=Oc(L,M);if(P===undefined&&R===T.array.length-1)T.array.pop();else T.array[R]=P;return T}function Oc(L,M){if(M&&L&&M===L.ownerID)return L;return new Gc(L?L.array.slice():[],M)}function Pc(L,M){if(M>=Sc(L._capacity))return L._tail;if(M<1<<L._level+c){var N=L._root,O=L._level;while(N&&O>0){N=N.array[M>>>O&e];O-=c}return N}}function Qc(L,M,N){var O=L.__ownerID||new la(),P=L._origin,Q=L._capacity,R=P+M,S=N===undefined?Q:N<0?Q+N:P+N;if(R===P&&S===Q)return L;if(R>=S)return L.clear();var T=L._level,U=L._root,V=0;while(R+V<0){U=new Gc(U&&U.array.length?[undefined,U]:[],O);T+=c;V+=1<<T}if(V){R+=V;P+=V;S+=V;Q+=V}var W=Sc(Q),X=Sc(S);while(X>=1<<T+c){U=new Gc(U&&U.array.length?[U]:[],O);T+=c}var Y=L._tail,Z=X<W?Pc(L,S-1):X>W?new Gc([],O):Y;if(Y&&X>W&&R<Q&&Y.array.length){U=Oc(U,O);var $=U;for(var Jd=T;Jd>c;Jd-=c){var Kd=W>>>Jd&e;$=$.array[Kd]=Oc($.array[Kd],O)}$.array[W>>>c&e]=Y}if(S<Q)Z=Z&&Z.removeAfter(O,0,S);if(R>=X){R-=X;S-=X;T=c;U=null;Z=Z&&Z.removeBefore(O,0,R)}else if(R>P||X<W){V=0;while(U){var Ld=R>>>T&e;if(Ld!==X>>>T&e)break;if(Ld)V+=(1<<T)*Ld;T-=c;U=U.array[Ld]}if(U&&R>P)U=U.removeBefore(O,T,R-V);if(U&&X<W)U=U.removeAfter(O,T,X-V);if(V){R-=V;S-=V}}if(L.__ownerID){L.size=S-R;L._origin=R;L._capacity=S;L._level=T;L._root=U;L._tail=Z;L.__hash=undefined;L.__altered=true;return L}return Jc(R,S,T,U,Z)}function Rc(L,M,N){var O=[],P=0;for(var Q=0;Q<N.length;Q++){var R=N[Q],S=ua(R);if(S.size>P)P=S.size;if(!k(R))S=S.map(function(T){return db(T)});O.push(S)}if(P>L.size)L=L.setSize(P);return vc(L,M,O)}function Sc(L){return L<d?0:L-1>>>c<<c}b(C,y);function C(L){return L===null||L===undefined?Wc():Tc(L)?L:Wc().withMutations(function(M){var N=i(L);w(N.size);N.forEach(function(O,P){return M.set(P,O)})})}C.of=function(){return this(arguments)};C.prototype.toString=function(){return this.__toString("OrderedMap {","}")};C.prototype.get=function(L,M){var N=this._map.get(L);return N!==undefined?this._list.get(N)[1]:M};C.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return Wc()};C.prototype.set=function(L,M){return Xc(this,L,M)};C.prototype.remove=function(L){return Xc(this,L,f)};C.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};C.prototype.__iterate=function(L,M){var N=this;return this._list.__iterate(function(O){return O&&L(O[1],O[0],N)},M)};C.prototype.__iterator=function(L,M){return this._list.fromEntrySeq().__iterator(L,M)};C.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;var M=this._map.__ensureOwner(L),N=this._list.__ensureOwner(L);if(!L){this.__ownerID=L;this._map=M;this._list=N;return this}return Uc(M,N,L,this.__hash)};function Tc(L){return $b(L)&&wa(L)}C.isOrderedMap=Tc;C.prototype[Aa]=true;C.prototype[ha]=C.prototype.remove;function Uc(L,M,N,v){var O=Object.create(C.prototype);O.size=L?L.size:0;O._map=L;O._list=M;O.__ownerID=N;O.__hash=v;return O}var Vc;function Wc(){return Vc||(Vc=Uc(lc(),Lc()))}function Xc(L,M,N){var O=L._map,P=L._list,Q=O.get(M),R=Q!==undefined,S,T;if(N===f){if(!R)return L;if(P.size>=d&&P.size>=O.size*2){T=P.filter(function(U,V){return U!==undefined&&Q!==V});S=T.toKeyedSeq().map(function(U){return U[0]}).flip().toMap();if(L.__ownerID)S.__ownerID=T.__ownerID=L.__ownerID}else{S=O.remove(M);T=Q===P.size-1?P.pop():P.set(Q,undefined)}}else if(R){if(N===P.get(Q)[1])return L;S=O;T=P.set(Q,[M,N])}else{S=O.set(M,P.size);T=P.set(P.size,[M,N])}if(L.__ownerID){L.size=S.size;L._map=S;L._list=T;L.__hash=undefined;return L}return Uc(S,T)}b(D,bb);function D(L){return L===null||L===undefined?cd():Yc(L)?L:cd().unshiftAll(L)}D.of=function(){return this(arguments)};D.prototype.toString=function(){return this.__toString("Stack [","]")};D.prototype.get=function(L,M){var N=this._head;L=oa(this,L);while(N&&L--)N=N.next;return N?N.value:M};D.prototype.peek=function(){return this._head&&this._head.value};D.prototype.push=function(){if(arguments.length===0)return this;var L=this.size+arguments.length,M=this._head;for(var N=arguments.length-1;N>=0;N--)M={value:arguments[N],next:M};if(this.__ownerID){this.size=L;this._head=M;this.__hash=undefined;this.__altered=true;return this}return ad(L,M)};D.prototype.pushAll=function(L){L=ua(L);if(L.size===0)return this;w(L.size);var M=this.size,N=this._head;L.reverse().forEach(function(O){M++;N={value:O,next:N}});if(this.__ownerID){this.size=M;this._head=N;this.__hash=undefined;this.__altered=true;return this}return ad(M,N)};D.prototype.pop=function(){return this.slice(1)};D.prototype.unshift=function(){return this.push.apply(this,arguments)};D.prototype.unshiftAll=function(L){return this.pushAll(L)};D.prototype.shift=function(){return this.pop.apply(this,arguments)};D.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=undefined;this.__hash=undefined;this.__altered=true;return this}return cd()};D.prototype.slice=function(L,M){if(qa(L,M,this.size))return this;var N=ra(L,this.size),O=sa(M,this.size);if(O!==this.size)return bb.prototype.slice.call(this,L,M);var P=this.size-N,Q=this._head;while(N--)Q=Q.next;if(this.__ownerID){this.size=P;this._head=Q;this.__hash=undefined;this.__altered=true;return this}return ad(P,Q)};D.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;if(!L){this.__ownerID=L;this.__altered=false;return this}return ad(this.size,this._head,L,this.__hash)};D.prototype.__iterate=function(L,M){if(M)return this.reverse().__iterate(L);var N=0,O=this._head;while(O){if(L(O.value,N++,this)===false)break;O=O.next}return N};D.prototype.__iterator=function(L,M){if(M)return this.reverse().__iterator(L);var N=0,O=this._head;return new o(function(){if(O){var P=O.value;O=O.next;return p(L,N++,P)}return q()})};function Yc(L){return!!(L&&L[Zc])}D.isStack=Yc;var Zc="@@__IMMUTABLE_STACK__@@",$c=D.prototype;$c[Zc]=true;$c.withMutations=z.withMutations;$c.asMutable=z.asMutable;$c.asImmutable=z.asImmutable;$c.wasAltered=z.wasAltered;function ad(L,M,N,v){var O=Object.create($c);O.size=L;O._head=M;O.__ownerID=N;O.__hash=v;O.__altered=false;return O}var bd;function cd(){return bd||(bd=ad(0))}b(E,cb);function E(L){return L===null||L===undefined?id():dd(L)?L:id().withMutations(function(M){var N=j(L);w(N.size);N.forEach(function(O){return M.add(O)})})}E.of=function(){return this(arguments)};E.fromKeys=function(L){return this(i(L).keySeq())};E.prototype.toString=function(){return this.__toString("Set {","}")};E.prototype.has=function(L){return this._map.has(L)};E.prototype.add=function(L){return fd(this,this._map.set(L,true))};E.prototype.remove=function(L){return fd(this,this._map.remove(L))};E.prototype.clear=function(){return fd(this,this._map.clear())};E.prototype.union=function(){var L=a.call(arguments,0);L=L.filter(function(M){return M.size!==0});if(L.length===0)return this;if(this.size===0&&!this.__ownerID&&L.length===1)return this.constructor(L[0]);return this.withMutations(function(M){for(var N=0;N<L.length;N++)j(L[N]).forEach(function(O){return M.add(O)})})};E.prototype.intersect=function(){var L=a.call(arguments,0);if(L.length===0)return this;L=L.map(function(N){return j(N)});var M=this;return this.withMutations(function(N){M.forEach(function(O){if(!L.every(function(P){return P.includes(O)}))N.remove(O)})})};E.prototype.subtract=function(){var L=a.call(arguments,0);if(L.length===0)return this;L=L.map(function(N){return j(N)});var M=this;return this.withMutations(function(N){M.forEach(function(O){if(L.some(function(P){return P.includes(O)}))N.remove(O)})})};E.prototype.merge=function(){return this.union.apply(this,arguments)};E.prototype.mergeWith=function(L){var M=a.call(arguments,1);return this.union.apply(this,M)};E.prototype.sort=function(L){return jd(Pb(this,L))};E.prototype.sortBy=function(L,M){return jd(Pb(this,M,L))};E.prototype.wasAltered=function(){return this._map.wasAltered()};E.prototype.__iterate=function(L,M){var N=this;return this._map.__iterate(function(O,P){return L(P,P,N)},M)};E.prototype.__iterator=function(L,M){return this._map.map(function(N,O){return O}).__iterator(L,M)};E.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;var M=this._map.__ensureOwner(L);if(!L){this.__ownerID=L;this._map=M;return this}return this.__make(M,L)};function dd(L){return!!(L&&L[ed])}E.isSet=dd;var ed="@@__IMMUTABLE_SET__@@",F=E.prototype;F[ed]=true;F[ha]=F.remove;F.mergeDeep=F.merge;F.mergeDeepWith=F.mergeWith;F.withMutations=z.withMutations;F.asMutable=z.asMutable;F.asImmutable=z.asImmutable;F.__empty=id;F.__make=gd;function fd(L,M){if(L.__ownerID){L.size=M.size;L._map=M;return L}return M===L._map?L:M.size===0?L.__empty():L.__make(M)}function gd(L,M){var N=Object.create(F);N.size=L?L.size:0;N._map=L;N.__ownerID=M;return N}var hd;function id(){return hd||(hd=gd(lc()))}b(jd,E);function jd(L){return L===null||L===undefined?od():kd(L)?L:od().withMutations(function(M){var N=j(L);w(N.size);N.forEach(function(O){return M.add(O)})})}jd.of=function(){return this(arguments)};jd.fromKeys=function(L){return this(i(L).keySeq())};jd.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function kd(L){return dd(L)&&wa(L)}jd.isOrderedSet=kd;var ld=jd.prototype;ld[Aa]=true;ld.__empty=od;ld.__make=md;function md(L,M){var N=Object.create(ld);N.size=L?L.size:0;N._map=L;N.__ownerID=M;return N}var nd;function od(){return nd||(nd=md(Wc()))}b(G,ab);function G(L,M){var N,O=function G(Q){if(Q instanceof O)return Q;if(!(this instanceof O))return new O(Q);if(!N){N=true;var R=Object.keys(L);rd(P,R);P.size=R.length;P._name=M;P._keys=R;P._defaultValues=L}this._map=y(Q)},P=O.prototype=Object.create(H);P.constructor=O;return O}G.prototype.toString=function(){return this.__toString(qd(this)+" {","}")};G.prototype.has=function(L){return this._defaultValues.hasOwnProperty(L)};G.prototype.get=function(L,M){if(!this.has(L))return M;var N=this._defaultValues[L];return this._map?this._map.get(L,N):N};G.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var L=this.constructor;return L._empty||(L._empty=pd(this,lc()))};G.prototype.set=function(L,M){if(!this.has(L))throw new Error('Cannot set unknown key "'+L+'" on '+qd(this));var N=this._map&&this._map.set(L,M);if(this.__ownerID||N===this._map)return this;return pd(this,N)};G.prototype.remove=function(L){if(!this.has(L))return this;var M=this._map&&this._map.remove(L);if(this.__ownerID||M===this._map)return this;return pd(this,M)};G.prototype.wasAltered=function(){return this._map.wasAltered()};G.prototype.__iterator=function(L,M){var N=this;return i(this._defaultValues).map(function(O,P){return N.get(P)}).__iterator(L,M)};G.prototype.__iterate=function(L,M){var N=this;return i(this._defaultValues).map(function(O,P){return N.get(P)}).__iterate(L,M)};G.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;var M=this._map&&this._map.__ensureOwner(L);if(!L){this.__ownerID=L;this._map=M;return this}return pd(this,M,L)};var H=G.prototype;H[ha]=H.remove;H.deleteIn=H.removeIn=z.removeIn;H.merge=z.merge;H.mergeWith=z.mergeWith;H.mergeIn=z.mergeIn;H.mergeDeep=z.mergeDeep;H.mergeDeepWith=z.mergeDeepWith;H.mergeDeepIn=z.mergeDeepIn;H.setIn=z.setIn;H.update=z.update;H.updateIn=z.updateIn;H.withMutations=z.withMutations;H.asMutable=z.asMutable;H.asImmutable=z.asImmutable;function pd(L,M,N){var O=Object.create(Object.getPrototypeOf(L));O._map=M;O.__ownerID=N;return O}function qd(L){return L._name||L.constructor.name||"Record"}function rd(L,M){try{M.forEach(sd.bind(undefined,L))}catch(N){}}function sd(L,M){Object.defineProperty(L,M,{get:function(){return this.get(M)},set:function(N){xb(this.__ownerID,"Cannot set on an immutable record.");this.set(M,N)}})}function td(L,M){if(L===M)return true;if(!k(M)||L.size!==undefined&&M.size!==undefined&&L.size!==M.size||L.__hash!==undefined&&M.__hash!==undefined&&L.__hash!==M.__hash||l(L)!==l(M)||m(L)!==m(M)||wa(L)!==wa(M))return false;if(L.size===0&&M.size===0)return true;var N=!va(L);if(wa(L)){var O=L.entries();return M.every(function(T,U){var V=O.next().value;return V&&u(V[1],T)&&(N||u(V[0],U))})&&O.next().done}var P=false;if(L.size===undefined)if(M.size===undefined){if(typeof L.cacheResult==="function")L.cacheResult()}else{P=true;var Q=L;L=M;M=Q}var R=true,S=M.__iterate(function(T,U){if(N?!L.has(T):P?!u(T,L.get(U,f)):!u(L.get(U,f),T)){R=false;return false}});return R&&L.size===S}b(I,t);function I(L,M,N){if(!(this instanceof I))return new I(L,M,N);xb(N!==0,"Cannot step a Range by 0");L=L||0;if(M===undefined)M=Infinity;N=N===undefined?1:Math.abs(N);if(M<L)N=-N;this._start=L;this._end=M;this._step=N;this.size=Math.max(0,Math.ceil((M-L)/N-1)+1);if(this.size===0){if(ud)return ud;ud=this}}I.prototype.toString=function(){if(this.size===0)return"Range []";return"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"};I.prototype.get=function(L,M){return this.has(L)?this._start+oa(this,L)*this._step:M};I.prototype.includes=function(L){var M=(L-this._start)/this._step;return M>=0&&M<this.size&&M===Math.floor(M)};I.prototype.slice=function(L,M){if(qa(L,M,this.size))return this;L=ra(L,this.size);M=sa(M,this.size);if(M<=L)return new I(0,0);return new I(this.get(L,this._end),this.get(M,this._end),this._step)};I.prototype.indexOf=function(L){var M=L-this._start;if(M%this._step===0){var N=M/this._step;if(N>=0&&N<this.size)return N}return-1};I.prototype.lastIndexOf=function(L){return this.indexOf(L)};I.prototype.__iterate=function(L,M){var N=this.size-1,O=this._step,P=M?this._start+N*O:this._start;for(var Q=0;Q<=N;Q++){if(L(P,Q,this)===false)return Q+1;P+=M?-O:O}return Q};I.prototype.__iterator=function(L,M){var N=this.size-1,O=this._step,P=M?this._start+N*O:this._start,Q=0;return new o(function(){var R=P;P+=M?-O:O;return Q>N?q():p(L,Q++,R)})};I.prototype.equals=function(L){return L instanceof I?this._start===L._start&&this._end===L._end&&this._step===L._step:td(this,L)};var ud;b(J,t);function J(L,M){if(!(this instanceof J))return new J(L,M);this._value=L;this.size=M===undefined?Infinity:Math.max(0,M);if(this.size===0){if(vd)return vd;vd=this}}J.prototype.toString=function(){if(this.size===0)return"Repeat []";return"Repeat [ "+this._value+" "+this.size+" times ]"};J.prototype.get=function(L,M){return this.has(L)?this._value:M};J.prototype.includes=function(L){return u(this._value,L)};J.prototype.slice=function(L,M){var N=this.size;return qa(L,M,N)?this:new J(this._value,sa(M,N)-ra(L,N))};J.prototype.reverse=function(){return this};J.prototype.indexOf=function(L){if(u(this._value,L))return 0;return-1};J.prototype.lastIndexOf=function(L){if(u(this._value,L))return this.size;return-1};J.prototype.__iterate=function(L,M){for(var N=0;N<this.size;N++)if(L(this._value,N,this)===false)return N+1;return N};J.prototype.__iterator=function(L,M){var N=this,O=0;return new o(function(){return O<N.size?p(L,O++,N._value):q()})};J.prototype.equals=function(L){return L instanceof J?u(this._value,L._value):td(L)};var vd;function wd(L,M){var N=function(O){L.prototype[O]=M[O]};Object.keys(M).forEach(N);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(M).forEach(N);return L}h.Iterator=o;wd(h,{toArray:function(){w(this.size);var L=new Array(this.size||0);this.valueSeq().__iterate(function(M,N){L[N]=M});return L},toIndexedSeq:function(){return new zb(this)},toJS:function(){return this.toSeq().map(function(L){return L&&typeof L.toJS==="function"?L.toJS():L}).__toJS()},toJSON:function(){return this.toSeq().map(function(L){return L&&typeof L.toJSON==="function"?L.toJSON():L}).__toJS()},toKeyedSeq:function(){return new yb(this,true)},toMap:function(){return y(this.toKeyedSeq())},toObject:function(){w(this.size);var L={};this.__iterate(function(M,N){L[N]=M});return L},toOrderedMap:function(){return C(this.toKeyedSeq())},toOrderedSet:function(){return jd(l(this)?this.valueSeq():this)},toSet:function(){return E(l(this)?this.valueSeq():this)},toSetSeq:function(){return new Ab(this)},toSeq:function(){return m(this)?this.toIndexedSeq():l(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return D(l(this)?this.valueSeq():this)},toList:function(){return A(l(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(L,M){if(this.size===0)return L+M;return L+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+M},concat:function(){var L=a.call(arguments,0);return x(this,Lb(this,L))},contains:function(L){return this.includes(L)},includes:function(L){return this.some(function(M){return u(M,L)})},entries:function(){return this.__iterator(Ca)},every:function(L,M){w(this.size);var N=true;this.__iterate(function(O,P,Q){if(!L.call(M,O,P,Q)){N=false;return false}});return N},filter:function(L,M){return x(this,Fb(this,L,M,true))},find:function(L,M,N){var O=this.findEntry(L,M);return O?O[1]:N},findEntry:function(L,M){var N;this.__iterate(function(O,P,Q){if(L.call(M,O,P,Q)){N=[P,O];return false}});return N},findLastEntry:function(L,M){return this.toSeq().reverse().findEntry(L,M)},forEach:function(L,M){w(this.size);return this.__iterate(M?L.bind(M):L)},join:function(L){w(this.size);L=L!==undefined?""+L:",";var M="",N=true;this.__iterate(function(O){N?N=false:M+=L;M+=O!==null&&O!==undefined?O.toString():""});return M},keys:function(){return this.__iterator(Ba)},map:function(L,M){return x(this,Db(this,L,M))},reduce:function(L,M,N){w(this.size);var O,P;if(arguments.length<2)P=true;else O=M;this.__iterate(function(Q,R,S){if(P){P=false;O=Q}else O=L.call(N,O,Q,R,S)});return O},reduceRight:function(L,M,N){var O=this.toKeyedSeq().reverse();return O.reduce.apply(O,arguments)},reverse:function(){return x(this,Eb(this,true))},slice:function(L,M){return x(this,Ib(this,L,M,true))},some:function(L,M){return!this.every(Ad(L),M)},sort:function(L){return x(this,Pb(this,L))},values:function(){return this.__iterator(n)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==undefined?this.size===0:!this.some(function(){return true})},count:function(L,M){return na(L?this.toSeq().filter(L,M):this)},countBy:function(L,M){return Gb(this,L,M)},equals:function(L){return td(this,L)},entrySeq:function(){var L=this;if(L._cache)return new Na(L._cache);var M=L.toSeq().map(zd).toIndexedSeq();M.fromEntrySeq=function(){return L.toSeq()};return M},filterNot:function(L,M){return this.filter(Ad(L),M)},findLast:function(L,M,N){return this.toKeyedSeq().reverse().find(L,M,N)},first:function(){return this.find(pa)},flatMap:function(L,M){return x(this,Nb(this,L,M))},flatten:function(L){return x(this,Mb(this,L,true))},fromEntrySeq:function(){return new Bb(this)},get:function(L,M){return this.find(function(N,O){return u(O,L)},undefined,M)},getIn:function(L,M){var N=this,O=Zb(L),P;while(!(P=O.next()).done){var Q=P.value;N=N&&N.get?N.get(Q,f):f;if(N===f)return M}return N},groupBy:function(L,M){return Hb(this,L,M)},has:function(L){return this.get(L,f)!==f},hasIn:function(L){return this.getIn(L,f)!==f},isSubset:function(L){L=typeof L.includes==="function"?L:h(L);return this.every(function(M){return L.includes(M)})},isSuperset:function(L){return L.isSubset(this)},keySeq:function(){return this.toSeq().map(yd).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(L){return Qb(this,L)},maxBy:function(L,M){return Qb(this,M,L)},min:function(L){return Qb(this,L?Bd(L):Ed)},minBy:function(L,M){return Qb(this,M?Bd(M):Ed,L)},rest:function(){return this.slice(1)},skip:function(L){return this.slice(Math.max(0,L))},skipLast:function(L){return x(this,this.toSeq().reverse().skip(L).reverse())},skipWhile:function(L,M){return x(this,Kb(this,L,M,true))},skipUntil:function(L,M){return this.skipWhile(Ad(L),M)},sortBy:function(L,M){return x(this,Pb(this,M,L))},take:function(L){return this.slice(0,Math.max(0,L))},takeLast:function(L){return x(this,this.toSeq().reverse().take(L).reverse())},takeWhile:function(L,M){return x(this,Jb(this,L,M))},takeUntil:function(L,M){return this.takeWhile(Ad(L),M)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Fd(this))}});var K=h.prototype;K[xa]=true;K[Fa]=K.values;K.__toJS=K.toArray;K.__toStringMapper=Cd;K.inspect=K.toSource=function(){return this.toString()};K.chain=K.flatMap;(function(){try{Object.defineProperty(K,"length",{get:function(){if(!h.noLengthWarning){var M;try{throw new Error()}catch(N){M=N.stack}if(M.indexOf("_wrapObject")===-1){console&&emptyFunction&&false;return this.size}}}})}catch(L){}})();wd(i,{flip:function(){return x(this,Cb(this))},findKey:function(L,M){var N=this.findEntry(L,M);return N&&N[0]},findLastKey:function(L,M){return this.toSeq().reverse().findKey(L,M)},keyOf:function(L){return this.findKey(function(M){return u(M,L)})},lastKeyOf:function(L){return this.findLastKey(function(M){return u(M,L)})},mapEntries:function(L,M){var N=this,O=0;return x(this,this.toSeq().map(function(P,Q){return L.call(M,[Q,P],O++,N)}).fromEntrySeq())},mapKeys:function(L,M){var N=this;return x(this,this.toSeq().flip().map(function(O,P){return L.call(M,O,P,N)}).flip())}});var xd=i.prototype;xd[ya]=true;xd[Fa]=K.entries;xd.__toJS=K.toObject;xd.__toStringMapper=function(L,M){return JSON.stringify(M)+": "+Cd(L)};wd(ua,{toKeyedSeq:function(){return new yb(this,false)},filter:function(L,M){return x(this,Fb(this,L,M,false))},findIndex:function(L,M){var N=this.findEntry(L,M);return N?N[0]:-1},indexOf:function(L){var M=this.toKeyedSeq().keyOf(L);return M===undefined?-1:M},lastIndexOf:function(L){return this.toSeq().reverse().indexOf(L)},reverse:function(){return x(this,Eb(this,false))},slice:function(L,M){return x(this,Ib(this,L,M,false))},splice:function(L,M){var N=arguments.length;M=Math.max(M|0,0);if(N===0||N===2&&!M)return this;L=ra(L,this.size);var O=this.slice(0,L);return x(this,N===1?O:O.concat(ma(arguments,2),this.slice(L+M)))},findLastIndex:function(L,M){var N=this.toKeyedSeq().findLastKey(L,M);return N===undefined?-1:N},first:function(){return this.get(0)},flatten:function(L){return x(this,Mb(this,L,false))},get:function(L,M){L=oa(this,L);return L<0||this.size===Infinity||this.size!==undefined&&L>this.size?M:this.find(function(N,O){return O===L},undefined,M)},has:function(L){L=oa(this,L);return L>=0&&(this.size!==undefined?this.size===Infinity||L<this.size:this.indexOf(L)!==-1)},interpose:function(L){return x(this,Ob(this,L))},interleave:function(){var L=[this].concat(ma(arguments)),M=Sb(this.toSeq(),t.of,L),N=M.flatten(true);if(M.size)N.size=M.size*L.length;return x(this,N)},last:function(){return this.get(-1)},skipWhile:function(L,M){return x(this,Kb(this,L,M,false))},zip:function(){var L=[this].concat(ma(arguments));return x(this,Sb(this,Dd,L))},zipWith:function(L){var M=ma(arguments);M[0]=this;return x(this,Sb(this,L,M))}});ua.prototype[za]=true;ua.prototype[Aa]=true;wd(j,{get:function(L,M){return this.has(L)?L:M},includes:function(L){return this.has(L)},keySeq:function(){return this.valueSeq()}});j.prototype.has=K.includes;wd(s,i.prototype);wd(t,ua.prototype);wd(La,j.prototype);wd(ab,i.prototype);wd(bb,ua.prototype);wd(cb,j.prototype);function yd(L,M){return M}function zd(L,M){return[M,L]}function Ad(L){return function(){return!L.apply(this,arguments)}}function Bd(L){return function(){return-L.apply(this,arguments)}}function Cd(L){return typeof L==="string"?JSON.stringify(L):L}function Dd(){return ma(arguments)}function Ed(L,M){return L<M?1:L>M?-1:0}function Fd(L){if(L.size===Infinity)return 0;var M=wa(L),N=l(L),O=M?1:0,P=L.__iterate(N?M?function(Q,R){O=31*O+Hd(v(Q),v(R))|0}:function(Q,R){O=O+Hd(v(Q),v(R))|0}:M?function(Q){O=31*O+v(Q)|0}:function(Q){O=O+v(Q)|0});return Gd(P,O)}function Gd(L,M){M=hb(M,3432918353);M=hb(M<<15|M>>>-15,461845907);M=hb(M<<13|M>>>-13,5);M=(M+3864292196|0)^L;M=hb(M^M>>>16,2246822507);M=hb(M^M>>>13,3266489909);M=ib(M^M>>>16);return M}function Hd(L,M){return L^M+2654435769+(L<<6)+(L>>2)|0}var Id={Iterable:h,Seq:r,Collection:$a,Map:y,OrderedMap:C,List:A,Stack:D,Set:E,OrderedSet:jd,Record:G,Range:I,Repeat:J,is:u,fromJS:db};return Id})}),null);
__d("MSearchBootstrapEntityModule",["BrowseWebSLRPELoggerClickType","CSS","DOM","immutable","MGraphSearchTypeaheadTouchSource","MPageFetcher","MRequest","MRequestTypes","MSearchBootstrapEntityModuleLoggingUtils","MSearchBootstrapEntityModuleSettings","MSearchEntityResult","MSearchSimplificationUtils","MViewport","SearchEntityModuleServerConstants","Stratcom","Style","SubscriptionsHandler","URI","XTrackableImpressionController","csx","cx","fbt","generateBrowseSessionID"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D){"use strict";function E(F){this.$MSearchBootstrapEntityModule2=function(){var G=this.state.query,H=k.List(this.source.getMatchedResults(G));if(H.size===0){this.setState({results:k.List(),resultType:null,isVisible:false,sessionID:D({appName:"mtouch",edge:"keywords_search"})});return}H.forEach(function(O){if(O.type==="app")O.type="application";if(O.render_type==="place")O.type="place"});var I=H.first(),J=I.type;if(J==null){this.setState({results:k.List(),isVisible:false,sessionID:D({appName:"mtouch",edge:"keywords_search"})});return}H=H.filter(function(O){return O.render_type===J||O.type===J});var K=D({appName:"mtouch",edge:"keywords_search"}),L=s.isCurrentPathTopTabPath(),M=s.isTypeaheadOpen();this.setState({results:H,isVisible:H.size>0&&(this.state.serpIsLoading||L&&!M),sessionID:K});p.logUnitData(this.state.sessionID,this.state.results,this.state.query);p.initVPVDLogging();this.resultsElement=j.create("div",p.getModuleTrackingData(this.state.sessionID,h.VIEW_PORT_VIEWS_ON_SEARCH_RESULTS));var N=H.map(function(O,P){O.uri=new y(O.uri).addQueryData({refid:u.MTOUCH_SEARCH_REFID,ref:u.BROWSE_NAV_SOURCE_CONTENT_FILTERS,__xt__:p.getSerializedResultTrackingData(K,O,H,h.ITEM_IN_MODULE_TAPPED)}).toString();return[this.$MSearchBootstrapEntityModule7(O),r({result:O})]}.bind(this)).toArray();this.footer=this.$MSearchBootstrapEntityModule8(J,G);j.setContent(this.resultsElement,[this.$MSearchBootstrapEntityModule9(J),j.create("div",{},N),this.footer]);j.setContent(this.root,this.resultsElement)}.bind(this);this.$MSearchBootstrapEntityModule3=function(){var G=s.isCurrentPathSERPPath(),H=s.isCurrentPathTopTabPath(),I=s.isTypeaheadOpen(),J=s.getQueryFromCurrentPath(),K=this.state.query;if(J!=null)K=J;this.setState({query:K,isVisible:H&&!I&&this.state.results.size>0,spinnerIsVisible:G&&!I&&this.state.serpIsLoading});if(H)t.scrollToHeader()}.bind(this);this.$MSearchBootstrapEntityModule4=function(){var G=s.isCurrentPathSERPPath();this.setState({footerIsVisible:false,spinnerIsVisible:G,serpIsLoading:G})}.bind(this);this.$MSearchBootstrapEntityModule5=function(){this.setState({spinnerIsVisible:false,serpIsLoading:false});var G=s.isCurrentPathTopTabPath();if(!G)return;var H=this.state.results;if(H.size===0)return;var I=H.first(),J=I.render_type!=null?I.render_type:I.type,K=document.querySelector("._45fx [data-module-result-type]");if(K==null||K.getAttribute("data-module-result-type")!==J)this.setState({footerIsVisible:true});else if(K!=null)w.set(K,"margin-top",0)}.bind(this);this.$MSearchBootstrapEntityModule6=function(G,H,I){var J,K=this.state.results;if(!s.isTopTabURI(H)||K.size===0)return null;var L=K.first(),M=L.render_type!=null?L.render_type:L.type;return new n(H.toString()).setType(o.TRANSITION).setFullPage(true).setMethod(G).addData((J={preloaded_entity_ids:K.map(function(N){return N.id}).toArray(),preloaded_entity_type:M},J[u.SERP_SESSION_ID]=this.state.sessionID,J))}.bind(this);this.typeahead=F}E.prototype.enable=function(){this.state={query:this.typeahead.getValue(),isVisible:false,spinnerIsVisible:false,footerIsVisible:false,serpIsLoading:false,results:k.List(),sessionID:D({appName:"mtouch",edge:"keywords_search"})};this.$MSearchBootstrapEntityModule1();this.source=new l(q.bootstrapSource,q.bootstrapKey);this.source.clientRendered=true;this.source.setMaximumResultCount(q.maxBootstrapResults);this.subscriptions=new x();this.subscriptions.addSubscriptions(this.source.listen("resultsready",this.$MSearchBootstrapEntityModule2),v.listen("m:history:change",null,this.$MSearchBootstrapEntityModule3),v.listen("m:page:request-sent",null,this.$MSearchBootstrapEntityModule4),v.listen("m:page:render:complete",null,this.$MSearchBootstrapEntityModule5));this.source.didStart();this.source.didChange(this.state.query);m.addHandler(this.$MSearchBootstrapEntityModule6)};E.prototype.disable=function(){this.subscriptions.release();j.remove(this.root)};E.prototype.$MSearchBootstrapEntityModule1=function(){this.root=j.create("div",{className:"_234-"});if(this.state.isVisible)j.show(this.root);else j.hide(this.root);j.appendContent(this.typeahead.getRoot(),this.root);this.spinner=j.create("div",{className:"_5_ee"},j.create("div",{className:"_55ym _55yq"}));if(this.state.spinnerIsVisible)j.show(this.spinner);else j.hide(this.spinner);j.appendContent(this.typeahead.getRoot(),this.spinner)};E.prototype.$MSearchBootstrapEntityModule10=function(F){var G=null;switch(F){case"user":G=C._("\u7528\u6236");break;case"page":G=C._("\u7c89\u7d72\u5c08\u9801");break;case"group":G=C._("\u793e\u5718");break;case"application":G=C._("\u61c9\u7528\u7a0b\u5f0f");break;case"place":G=C._("\u5730\u6a19");break;case"event":G=C._("\u6d3b\u52d5");break}return G};E.prototype.$MSearchBootstrapEntityModule9=function(F){return j.create("div",{className:"_5_50"+(F==="user"?" _5_51":"")+(F==="page"?" _234_":"")+(F==="group"?" _2350":"")+(F==="application"?" _2351":"")+(F==="place"?" _2352":"")+(F==="event"?" _2353":"")},this.$MSearchBootstrapEntityModule10(F))};E.prototype.$MSearchBootstrapEntityModule8=function(F,G){var H=new y(u.TYPE_TO_SERP_PATH[F]).setQueryData({q:G,source:"pivot",tsid:this.typeahead.getSessionID()});if(this.footer!=null)this.footer.setAttribute("href",H);else this.footer=j.create("a",{href:H,className:"_235a"},C._("\u67e5\u770b\u5168\u90e8"));if(this.state.footerIsVisible)j.show(this.footer);else j.hide(this.footer);return this.footer};E.prototype.$MSearchBootstrapEntityModule7=function(F){var G=z.getURIBuilder().setString("xt",p.getSerializedResultTrackingData(this.state.sessionID,F,this.state.results)).getURI(),H=j.create("iframe",{src:new y(G),width:0,height:0,frameborder:0,scrolling:"no",className:"fbEmuTracking"});H.setAttribute("aria-hidden","true");return H};E.prototype.setState=function(F){var G=babelHelpers["extends"]({},this.state);this.state=babelHelpers["extends"]({},this.state,F);if(G.query!==this.state.query)this.source.didChange(this.state.query);if(G.isVisible!==this.state.isVisible)if(this.state.isVisible){j.show(this.root);i.addClass(this.spinner,"_5_ef")}else{j.hide(this.root);i.removeClass(this.spinner,"_5_ef")}if(G.serpIsLoading!==this.state.serpIsLoading||G.footerIsVisible!==this.state.footerIsVisible)if(this.state.serpIsLoading)i.removeClass(this.root,"_5_eg");else if(!this.state.footerIsVisible)i.addClass(this.root,"_5_eg");else if(this.state.footerIsVisible)i.removeClass(this.root,"_5_eg");if(this.footer!=null&&G.footerIsVisible!==this.state.footerIsVisible)if(this.state.footerIsVisible)j.show(this.footer);else j.hide(this.footer);if(G.spinnerIsVisible!==this.state.spinnerIsVisible)if(this.state.spinnerIsVisible)j.show(this.spinner);else j.hide(this.spinner)};f.exports=E}),null);
__d("MGraphSearchTypeaheadBucketizer",[],(function a(b,c,d,e,f,g){"use strict";var h=20;function i(k){if(k.isTrending&&k.isNullStateSuggestion)return"trending";else if(k.isRecentSearch)return"recent";else if(k.isPYMK)return"pymk";else if(k.isScoped)return k.isNullStateSuggestion?"group_popular":"group_search";else if(k.isSeeMore)return"see_more";else if(k.type==="keyword")return"suggested";else return"top_matches"}function j(k){k=k||{};this.maxResults=k.maxResults||h}j.prototype.bucketize=function(k,l){var m={},n=[],o=Math.min(k.length,this.maxResults);for(var p=0;p<o;p++){var q=k[p],r=i(q);if(!m[r]){var s=[];m[r]=s;n.push({headerType:r,results:s})}m[r].push(q)}if(m.suggested!=null&&l!=null)m.suggested.splice(l-1,m.suggested.length-l);return n};f.exports=j}),null);
__d("MGraphSearchTypeaheadHeaders",["fbt"],(function a(b,c,d,e,f,g,h){"use strict";var i={pymk:h._("\u4f60\u53ef\u80fd\u8a8d\u8b58\u7684\u670b\u53cb"),recent:h._("\u6700\u8fd1\u7684\u641c\u5c0b"),suggested:h._("\u641c\u5c0b"),top_matches:h._("\u7b26\u5408\u7a0b\u5ea6\u6700\u9ad8\u7684\u9805\u76ee"),trending:h._("\u8da8\u52e2\u8a71\u984c"),group_popular:h._("\u9019\u500b\u793e\u5718\u7684\u71b1\u9580\u95dc\u9375\u5b57"),group_search:h._("\u641c\u5c0b\u9019\u500b\u793e\u5718"),suggested_global:h._("\u641c\u5c0b Facebook \u7684\u6240\u6709\u5167\u5bb9")},j={pymk:h._("\u4f60\u53ef\u80fd\u8a8d\u8b58\u7684\u670b\u53cb"),recent:h._("\u6700\u8fd1\u641c\u5c0b\u7d00\u9304"),suggested:h._("\u641c\u5c0b"),top_matches:h._("\u7b26\u5408\u7a0b\u5ea6\u6700\u9ad8\u7684\u9805\u76ee"),trending:h._("\u8da8\u52e2\u8a71\u984c"),group_popular:h._("\u9019\u500b\u793e\u5718\u7684\u71b1\u9580\u95dc\u9375\u5b57"),group_search:h._("\u641c\u5c0b\u9019\u500b\u793e\u5718"),suggested_global:h._("\u641c\u5c0b FACEBOOK \u7684\u6240\u6709\u5167\u5bb9")};f.exports={Labels:i,CapitalizedLabels:j}}),null);
__d("MSearchSimplificationHeader",["DOM","MGraphSearchTypeaheadHeaders","cx","fbt","joinClasses"],(function a(b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=i.CapitalizedLabels;function n(p){var q=p.activityLogURI,r=h.create("a",{href:q,className:l("touchable","_z-v")},k._("\u7de8\u8f2f"));r.setAttribute("data-edit-recent-searches",true);return h.create("div",{className:"_z-w"},[h.create("div",{className:"_z-z"},m.recent),r])}function o(p){var q=p.type,r=p.query,s=p.searchMode,t=p.isFirst;if(q==="recent")return n(p);if(r===""||s==="group")return h.create("div",{className:"_z-w"},h.create("div",{className:"_z-z"},m[q]));else if(!t)return h.create("div",{className:"_z--"});return null}f.exports=o}),null);
__d("MSearchSimplificationNullstateResult",["DOM","MSearchKeywordsConst","cx","fbt"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";var l=" \xb7 ";function m(p){var q=p.result.id;if(q==null||String(q).match(/^[0-9]+$/)==null)return null;var r=p.result.photo;if(r==null)return null;return h.create("img",{className:"_1e86",src:r})}function n(p){var q=p.result,r=q.isSeeMore,s=q.subtext,t=q.boldedSubtext,u=q.isVerified,v=q.showGrayCheck,w=p.result.display;if(r)w=k._("\u67e5\u770b\u8207\u300c{query}\u300d\u6709\u95dc\u7684\u66f4\u591a\u7d50\u679c",[k.param("query",w)]);var x=void 0;if(u)x=h.create("i",{className:"_1e87"});var y=void 0;if(v)y=h.create("i",{className:"_1e88"});return h.create("div",{className:"_1e89"},[h.create("div",{className:"_1e8a"},h.create("div",{className:"_1e8b"},w),[x,y]),h.create("div",{className:"_1e8d"},[t,t&&s?l:null,s])])}function o(p){var q=p.result,r=q.id,s=q.isSeeMore,t=q.uriWithSession,u=q.type,v=q.isTrending,w=u===i.keywordType,x=void 0;if(v||w)x=h.create("i",{className:"_1e8e"+(v?" _1e8f":"")+(w?" _1e8g":"")});return h.create("a",{className:"touchable _1e8h"+(s?" _1e8i":""),href:t,rel:r},[m(p),x,n(p)])}f.exports=o}),null);
__d("hasNonLatinCharacters",[],(function a(b,c,d,e,f,g){"use strict";function h(i){return i.match(/[^\u0000-\u024F]/)!=null}f.exports=h}),null);
__d("MSearchSimplificationTypedResult",["DOM","cx","fbt","hasNonLatinCharacters"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";function l(n){var o=n.result.display;if(n.result.isSeeMore)o=j._("\u67e5\u770b\u8207\u300c{query}\u300d\u6709\u95dc\u7684\u66f4\u591a\u7d50\u679c",[j.param("query",o)]);else{var p=n.query;if(!k(o)&&o.indexOf(p)===0)o=[p,h.create("strong",{},o.slice(p.length,o.length))]}return h.create("div",{className:"_io1"},o)}function m(n){var o=n.result,p=o.id,q=o.isSeeMore,r=o.uriWithSession;return h.create("a",{className:"touchable _io2"+(q?" _iop":""),href:r,rel:p},[l(n)])}f.exports=m}),null);
__d("MGraphSearchCompositeSource",["SearchMTouchGlobalOptions","TypeaheadCompositeSource"],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,i);k=j&&j.prototype;l.prototype.mergeResults=function(m,n){"use strict";var o=k.mergeResults.call(this,m,n);if(!o||!this.$MGraphSearchCompositeSource1||o.some(function(D){return D.type==="trending"})||o.some(function(D){return D.isRecentSearch}))return o;o.length=Math.min(o.length,this.$MGraphSearchCompositeSource1.maxResults);if(h.keywordsOnlyEnabled){var p=[],q={};for(var r=o,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u;if(!q[v.id]){q[v.id]=true;p.push(v)}}return p}if(this.$MGraphSearchCompositeSource1.enableLegacyStyleBucketization)return this.bucketResults(o);var w=false,x=o[0];if(x&&(x.bootstrapped||x.bootstrap||x.type==="user"&&x.cost<this.$MGraphSearchCompositeSource1.minCostForUserToSurfaceAtTop))w=true;var y=false;for(var z=0;z<this.$MGraphSearchCompositeSource1.maxPositionOfEntityToDivideKeywords;z++)if(o[z]&&o[z].type!=="keyword")y=true;var A=[],B=[],C=[],D=null;for(var E=0;E<o.length;E++){D=o[E];if(!(D.bootstrapped&&this.$MGraphSearchCompositeSource1.keepBootstrapped)&&D.type in this.$MGraphSearchCompositeSource1.filterOutTypes)continue;if(D.type==="keyword")if(!w&&(!y||B.length<this.$MGraphSearchCompositeSource1.maxKeywordAboveEntities))B.push(D);else C.push(D);else A.push(D)}if(this.$MGraphSearchCompositeSource1.overrideKWRankingBehavior){var F,G=B;G.push.apply(G,C);var H=G.slice(0,this.$MGraphSearchCompositeSource1.numKeywordsAboveEntities),I=G.slice(this.$MGraphSearchCompositeSource1.numKeywordsAboveEntities);o=H;(F=o).push.apply(F,A);if(this.$MGraphSearchCompositeSource1.hasKeywordsBelowEntities){var J;(J=o).push.apply(J,I)}}else{var K,L;o=B;(K=o).push.apply(K,A);(L=o).push.apply(L,C)}return o};l.prototype.bucketResults=function(m){"use strict";if(!m.length)return m;var n,o,p=[],q={};for(var r=0,s=m.length;r<s;r++){n=m[r];o=this.getBucketType(n);if(!q[o]){p.push(o);q[o]=[n]}else q[o].push(n)}return p.reduce(function(m,t){return m.concat(q[t])},[])};l.prototype.getBucketType=function(m){"use strict";if(m.type==="keyword"||m.is_grammar)return"keyword";return"entity"};l.prototype.setConfig=function(m){"use strict";this.$MGraphSearchCompositeSource1=m};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("TokenizeUtil",["nullthrows"],(function a(b,c,d,e,f,g,h){var i=/[ ]+/g,j=/[^ ]+/g,k=new RegExp("[^ "+m()+"]+|"+n(),"g"),l=new RegExp(n(),"g");function m(){return".,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf"}function n(){return"["+m()+"]"}var o={},p={a:"\u0430 \xe0 \xe1 \xe2 \xe3 \xe4 \xe5 \u0101",b:"\u0431",c:"\u0446 \xe7 \u010d",d:"\u0434 \xf0 \u010f \u0111",e:"\u044d \u0435 \xe8 \xe9 \xea \xeb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \xec \xed \xee \xef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \xf1 \u0148 \u0149 \u014b \u0146",o:"\u043e \xf8 \xf6 \xf5 \xf4 \xf3 \xf2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \xfe",u:"\u0443 \u044e \xfc \xfb \xfa \xf9 \u016f \u016b",v:"\u0432",y:"\u044b \xff \xfd",z:"\u0437 \u017e",ae:"\xe6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\xdf",ya:"\u044f"};for(var q in p){var r=p[q].split(" ");for(var s=0;s<r.length;s++)o[r[s]]=q}function t(B){return B?B.replace(l," "):""}function u(B){B=B.toLowerCase();var C="",D="";for(var E=B.length;E--;){D=B.charAt(E);C=(o[D]||D)+C}return C.replace(i," ")}function v(B){var C=arguments.length<=1||arguments[1]===undefined?j:arguments[1],D=[],E=C.exec(B);while(E){E=E[0];D.push(E);E=C.exec(B)}return D}function w(t){var B=arguments.length<=1||arguments[1]===undefined?j:arguments[1],C={};return function x(D,E){if(!Object.prototype.hasOwnProperty.call(C,D)){var F=u(D),G=t(F);C[D]={value:D,flatValue:F,tokens:v(G,B),isPrefixQuery:!!G&&G[G.length-1]!=" "}}if(E&&C[D].sortedTokens===undefined){C[D].sortedTokens=C[D].tokens.slice();C[D].sortedTokens.sort(function(H,I){return I.length-H.length})}return C[D]}}var x=w(t),y=w(function(B){return B},k);function z(B,C,D){var E=B=="query"||B=="query_punc",F=B=="query_punc"?y:x,G=F(C,B=="prefix"),H=B=="prefix"?h(G.sortedTokens):G.tokens,I=F(D).tokens,J={},K=G.isPrefixQuery&&E?H.length-1:null,L=function L(M,N){for(var O=0;O<I.length;++O){var P=I[O];if(!J[O]&&(P==M||(E&&N===K||B=="prefix")&&P.indexOf(M)===0))return J[O]=true}return false};return Boolean(H.length&&H.every(L))}var A={flatten:u,parse:x,parseIncludingPunctuations:y,getPunctuation:n,makeParse:w,isExactMatch:z.bind(null,"exact"),isQueryMatch:z.bind(null,"query"),isQueryMatchIncludingPunctuations:z.bind(null,"query_punc"),isPrefixMatch:z.bind(null,"prefix"),tokenize:v};f.exports=A}),null);
__d("MGraphSearchTypeaheadOnDemandSource",["MSearchKeywordsConst","MTypeaheadOnDemandSource","SearchMTouchGlobalOptions","Stratcom","TokenizeUtil","createArrayFromMixed","mSearchSimplificationResultTransformer"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){var o,p,q="graph-search-entry-point";o=babelHelpers.inherits(r,i);p=o&&o.prototype;function r(s,t){"use strict";t=t||{};p.constructor.call(this,s,t);this.enableImmediateReturnOfCachedResults=true;this.setNormalizer(function(u){return u.toLowerCase()});this.setSanitizer(function(u){return u});this.queryCache={};this.groupID=null;this.isScoped=false;this.numResultsToFetch=t.numResultsToFetch;k.listen("setCurrentProfileID",q,function(event){if(event.getData().profileID!==this.groupID){this.groupID=event.getData().profileID;this.clearCache()}}.bind(this))}r.prototype.getMatchedResults=function(s){"use strict";var t=s.toLowerCase();while(t.length>0&&!(t in this.queryCache))t=t.substr(0,t.length-1);if(!t)return[];var u=[];if(t===s){u=this.queryCache[s];return this.renderNodes(s,u)}for(var v=0;v<this.queryCache[t].length;v++){var w=this.queryCache[t][v];if(l.isQueryMatch(s,this._raw[w].display))u.push(w)}return this.renderNodes(s,u)};r.prototype.addToLookup=function(s,t){"use strict";this.addToQueryCache(s,t)};r.prototype.addResult=function(s,t){"use strict";var u=s.uid;if(!(u in this._raw)){s=(this.getTransformer()||this._defaultTransformer)(s);this._raw[u]=s}this._raw[u].idx=s.idx;this.addToQueryCache(u,t)};r.prototype.addToQueryCache=function(s,t){"use strict";if(!this.queryCache[t])this.queryCache[t]=[];if(this.queryCache[t].indexOf(s)===-1)this.queryCache[t].push(s)};r.prototype.setGroupID=function(s){"use strict";this.groupID=s};r.prototype.setIsScoped=function(s){"use strict";this.isScoped=s};r.prototype.setSelectedIntent=function(s){"use strict";this.selectedIntent=s};r.prototype.getAuxiliaryData=function(){"use strict";var s={};if(this.isScoped&&this.groupID!=null)s.group_id=this.groupID;return babelHelpers["extends"]({max_results:this.numResultsToFetch},s)};r.prototype.tokenize=function(s){"use strict";var t=p.tokenize.call(this,s);if(t[t.length-1]==="")t.pop();return t};r.prototype.ondata=function(s,t,u){"use strict";if(u.payload.results){if(t)t=t.toLowerCase();p.ondata.call(this,s,t,m(u.payload.results))}else{this.invoke("req_recv",0);this.invoke("complete")}};r.prototype.getTransformer=function(){"use strict";if(j.keywordsOnlyEnabled)return n;return function(s){if(s.type==="keyword"){var t={cost:s.cost,idx:s.idx,display:s.text,name:s.text,type:s.untranslated_type||s.type,id:s.uid,uri:s.path,logInfo:s.logInfo,subtext:s.subtext,is_grammar:s.grammar_type!=null,isScoped:s.is_scoped,boldedSubtext:s.boldedSubtext,keywordBoldedSubtext:s.keywordBoldedSubtext,keywordRenderType:s.keywordRenderType,keyword_type:s.keyword_type},u=h.keywordTypes;Object.keys(h.keywordTypes).map(function(v){var w="is"+v.charAt(0).toUpperCase()+v.slice(1);t[w]=s.keyword_type===u[v]});h.intentKeys.map(function(v){t.isSpecialIntent=t.isSpecialIntent||t[v]});return t}return{name:s.text,uri:s.path,id:s.uid,display:s.display||s.text,photo:s.photo,category:s.category,cost:s.cost,idx:s.idx,tokens:s.tokens,type:s.untranslated_type||s.type,verticalType:s.vertical_type,subtext:s.subtext,isVerified:s.is_verified,showGrayCheck:s.show_gray_check,logInfo:s.logInfo}}};r.prototype.clearCache=function(){"use strict";p.clearCache.call(this);this.queryCache={}};f.exports=r}),null);
__d("XWarmUserRequestArgsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/browse/warm/requestargs/",{query:{type:"String"},csid:{type:"String"}})}),null);
__d("MSearchTypeaheadNeue",["BehaviorsMixin","CancelableEventListener","CSS","DOM","EventEmitter","immutable","MGraphSearchCompositeSource","MGraphSearchTypeaheadBucketizer","MGraphSearchTypeaheadOnDemandSource","MGraphSearchTypeaheadTouchSource","MHistory","MJewel","MJewels","MPageController","MRecentSearchesUpdater","MRequest","MSearchConst","MSearchSimplificationUtils","MSearchTrendingLogger","MSearchTypeaheadLogger","MSearchTypeaheadPerfLoggerUtil","MTouchClick","MTypeaheadNullstateSource","MViewport","Parent","SearchMTouchGlobalOptions","Stratcom","Style","SubscriptionsHandler","URI","XWarmUserRequestArgsController","csx","cx","fbt","ge","joinClasses","mixin","throttle"],(function aa(ba,ca,da,ea,a,fa,b,c,d,e,f,g,h,i,j,k,l,m,n,ga,ha,ia,o,p,q,ja,ka,r,la,ma,s,t,u,v,w,x,na,oa,pa,y,qa,ra,sa,z){"use strict";var A,B,C=g.List,ta="/search/metrics.php",D="result",E=false,ua=new RegExp("^/(search|graphsearch|topic/trending|groups/search)");A=babelHelpers.inherits(F,sa(b));B=A&&A.prototype;function F(G){B.constructor.call(this);this.$MSearchTypeaheadNeue6={};this.$MSearchTypeaheadNeue44=function(event){var I=event.getTarget(),J=I.getAttribute("data-ft"),K=I.getAttribute("data-name");if(!J||!K)return;this.setState({searchMode:"group",groupID:J,groupName:K,isVisible:true,isOpen:true,results:C()},function(){this.$MSearchTypeaheadNeue20.focus()}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue28=function(){var I=this.state.query;this.$MSearchTypeaheadNeue51("update",[I]);this.$MSearchTypeaheadNeue51("change",[I])}.bind(this);this.onInputChange=function(){this.setState({query:this.$MSearchTypeaheadNeue20.value.trimLeft()});this.$MSearchTypeaheadNeue65();this.$MSearchTypeaheadNeue8()}.bind(this);this.onInputBlur=function(){this.setState({isInputFocused:false})}.bind(this);this.onInputFocus=function(){var I=this.$MSearchTypeaheadNeue20.value;this.setState({isInputFocused:true,query:I});l.pushSoftState(n.SEARCH);var J=new x(window.location),K=new x(this.props.activityLogURI);if(this.$MSearchTypeaheadNeue13||J.getPath()===K.getPath()){this.$MSearchTypeaheadNeue13=false;this.$MSearchTypeaheadNeue51("refreshRecent",[I])}if(this.$MSearchTypeaheadNeue11){var L=r.hasTouchEvents()?"touchend":"click";u.invoke(L,"graph-search-activator")}this.$MSearchTypeaheadNeue51("focus");this.$MSearchTypeaheadNeue51("change",[I]);if(!E){var M=new ia(na.getURIBuilder().getURI());M.send();E=true}}.bind(this);this.onClearButtonEvent=function(event){event.prevent();var I="";this.setState({query:I},function(){this.$MSearchTypeaheadNeue20.focus()}.bind(this));this.$MSearchTypeaheadNeue51("change",[I]);this.$MSearchTypeaheadNeue51("update",[I])}.bind(this);this.onScopeIndicatorClickEvent=function(event){event.prevent();this.setState({searchMode:"global"},function(){this.$MSearchTypeaheadNeue20.focus()}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue39=function(event){var I=s.byTag(event.getTarget(),"a");if(I==null)return;var J=s.bySelector(I,"[data-edit-recent-searches]");if(J){this.$MSearchTypeaheadNeue52();return}event.prevent();var K=this.state.results.filter(function(K){return K.id==I.getAttribute("rel")}).first()||{},L={isOpen:false,isVisible:K.type==="keyword",prefilledValue:"",query:""};L.query=K.type==="keyword"?K.display:"";L.prefilledValue=L.query;this.setState(L);this.$MSearchTypeaheadNeue51("select",[I]);this.$MSearchTypeaheadNeue51("result-selected",[K]);this.$MSearchTypeaheadNeue66(new x(K.uriWithSession))}.bind(this);this.$MSearchTypeaheadNeue41=function(event){event.prevent();var I=this.$MSearchTypeaheadNeue20.value,J="";if(I==="")return;J=this.$MSearchTypeaheadNeue48(I).addQueryData("ref","content_filter").addQueryData("tsid",this.$MSearchTypeaheadNeue12).addQueryData("source","typeahead");this.$MSearchTypeaheadNeue51("on-enter-pressed",[J.toString()]);this.$MSearchTypeaheadNeue66(new x(J));this.$MSearchTypeaheadNeue20.blur();this.setState({query:I,prefilledValue:I,isOpen:false,isVisible:I!==""});this.$MSearchTypeaheadNeue51("query",[this.state.results])}.bind(this);this.$MSearchTypeaheadNeue40=function(){this.$MSearchTypeaheadNeue20.blur()}.bind(this);this.$MSearchTypeaheadNeue35=function(){this.setState({isWaiting:true})}.bind(this);this.$MSearchTypeaheadNeue36=function(I){if(this.state.isOpen)this.$MSearchTypeaheadNeue51("render_start");var J=C(I);J.forEach(function(O){O.uri=new x(O.uri).addQueryData("refid",o.refid)});var K=this.state,L=K.query,M=K.searchMode;if(L!==""&&M==="global")J=this.$MSearchTypeaheadNeue47(J);this.setState({results:C(J)});var N=this.$MSearchTypeaheadNeue49();e.empty(this.$MSearchTypeaheadNeue22);e.appendContent(this.$MSearchTypeaheadNeue22,N);if(this.state.isOpen){this.$MSearchTypeaheadNeue9();this.$MSearchTypeaheadNeue51("rendered")}}.bind(this);this.$MSearchTypeaheadNeue37=function(){this.setState({isWaiting:false})}.bind(this);this.$MSearchTypeaheadNeue43=function(event){var I=event.getData().title||"";if(!this.state.isOpen)this.$MSearchTypeaheadNeue51("change",[I,{preventSessionStart:true}]);var J={prefilledValue:I};if(!this.state.isOpen)J=babelHelpers["extends"]({},J,{query:I,searchMode:this.$MSearchTypeaheadNeue26(),isVisible:I!==""});this.setState(J,function(){if(!this.state.isOpen)this.$MSearchTypeaheadNeue20.value=I}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue62=function(event){var I=this.$MSearchTypeaheadNeue21;if(I==null)return;var J=e.scry(I,"input","search-typeahead-session-id")[0];if(!J){J=document.createElement("input");J.type="hidden";J.name="tsid";I.appendChild(J);u.addSigil(J,"search-typeahead-session-id")}var K=event.getData().sessionID;J.value=K;this.$MSearchTypeaheadNeue12=K}.bind(this);this.$MSearchTypeaheadNeue29=function(){var I=this.props.root.offsetHeight+this.props.root.offsetTop,J=ma.getHeight();v.set(document.getElementById("page"),"height",Math.max(I,J)+"px")}.bind(this);this.$MSearchTypeaheadNeue33=function(){var I=l.getPath(),J=l.getParam(l.SOFT_STATE_KEY),K=J==="search",L=new x(I).getPath(),M=L.match(ua)!=null,N=K||M&&(J==null||K),O=N?this.state.prefilledValue:"";this.setState({query:O,isOpen:K,isVisible:N},function(){if(this.state.isOpen)this.$MSearchTypeaheadNeue20.focus()}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue45=function(){u.invoke("log-m-search-session-end",null,{reason:"navigated_away"});this.setState({searchMode:"global"})}.bind(this);this.props=G;var H=this.props.prefilledValue||"";this.state={query:H,prefilledValue:H,results:C(),isWaiting:false,searchMode:this.$MSearchTypeaheadNeue26(),isInputFocused:false,groupID:this.$MSearchTypeaheadNeue27(),groupName:this.props.groupName};this.$MSearchTypeaheadNeue5=new f();this.$MSearchTypeaheadNeue2=new w();this.$MSearchTypeaheadNeue3=new i({maxResults:this.props.typeaheadConfig.compositeSourceConfig.maxResults});this.$MSearchTypeaheadNeue4=null;this.$MSearchTypeaheadNeue6={};this.$MSearchTypeaheadNeue7={};this.$MSearchTypeaheadNeue8=z(this.$MSearchTypeaheadNeue28,200);this.$MSearchTypeaheadNeue9=z(this.$MSearchTypeaheadNeue29,500);this.$MSearchTypeaheadNeue30();this.$MSearchTypeaheadNeue31();this.$MSearchTypeaheadNeue32();this.$MSearchTypeaheadNeue33();this.initBehaviors(this.props.behaviors);u.invoke("m:graph-search:ready")}F.prototype.getTypeaheadType=function(){var G=this.props.typeaheadConfig.keywordsOnlyEnabled;return G?"m_simplification":"m_graph_search"};F.prototype.getValue=function(){return this.$MSearchTypeaheadNeue20.value};F.prototype.getSessionID=function(){return this.$MSearchTypeaheadNeue12};F.prototype.$MSearchTypeaheadNeue34=function(G){this.$MSearchTypeaheadNeue4=G;this.$MSearchTypeaheadNeue10=new w();this.$MSearchTypeaheadNeue10.addSubscriptions(G.listen("req_dispatch",this.$MSearchTypeaheadNeue35),G.listen("resultsready",this.$MSearchTypeaheadNeue36),G.listen("after_complete",this.$MSearchTypeaheadNeue37));G.bindToTypeahead(this)};F.prototype.$MSearchTypeaheadNeue30=function(){var G=this.props.root;this.$MSearchTypeaheadNeue21=this.$MSearchTypeaheadNeue38();e.appendContent(G,this.$MSearchTypeaheadNeue21);this.$MSearchTypeaheadNeue25=this.props.scopeIndicator;e.appendContent(G,this.$MSearchTypeaheadNeue25);this.$MSearchTypeaheadNeue22=e.create("div",{className:"_5-lw"});e.appendContent(G,this.$MSearchTypeaheadNeue22)};F.prototype.$MSearchTypeaheadNeue31=function(){this.$MSearchTypeaheadNeue2.addSubscriptions(e.listen(this.$MSearchTypeaheadNeue22,"click",null,this.$MSearchTypeaheadNeue39),c.listen(this.$MSearchTypeaheadNeue22,"touchmove",null,this.$MSearchTypeaheadNeue40),c.listen(this.$MSearchTypeaheadNeue22,"touchstart",null,this.$MSearchTypeaheadNeue40),e.listen(this.$MSearchTypeaheadNeue20,"keyup",null,this.onInputChange),e.listen(this.$MSearchTypeaheadNeue20,"focus",null,this.onInputFocus),e.listen(this.$MSearchTypeaheadNeue20,"blur",null,this.onInputBlur),e.listen(this.$MSearchTypeaheadNeue23,"mousedown",null,this.onClearButtonEvent),c.listen(this.$MSearchTypeaheadNeue23,"touchstart",null,this.onClearButtonEvent),e.listen(this.$MSearchTypeaheadNeue21,"submit",null,this.$MSearchTypeaheadNeue41));if(this.$MSearchTypeaheadNeue24!=null)this.$MSearchTypeaheadNeue2.addSubscriptions(e.listen(this.$MSearchTypeaheadNeue24,"click",null,this.$MSearchTypeaheadNeue42));if(this.$MSearchTypeaheadNeue25!=null)this.$MSearchTypeaheadNeue2.addSubscriptions(e.listen(this.$MSearchTypeaheadNeue25,"click",null,this.onScopeIndicatorClickEvent))};F.prototype.$MSearchTypeaheadNeue32=function(){this.$MSearchTypeaheadNeue2.addSubscriptions(u.listen("setSearchText","graph-search-entry-point",this.$MSearchTypeaheadNeue43),u.listen(r.hasTouchEvents()?"touchend":"click","m-groups-scoped-search-button",this.$MSearchTypeaheadNeue44),u.listen("m:history:change",null,this.$MSearchTypeaheadNeue33),u.listen("m:chrome:tab:hide",n.SEARCH,this.$MSearchTypeaheadNeue45))};F.prototype.$MSearchTypeaheadNeue38=function(){this.$MSearchTypeaheadNeue20=e.create("input",{id:"main-search-input","data-sigil":"search-small-box",className:"_5-lx",type:"search",name:"query",placeholder:this.$MSearchTypeaheadNeue46(),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",value:this.state.query});this.$MSearchTypeaheadNeue23=e.create("a",{href:"#",className:"_5-ly",role:"button"},y._("\u6e05\u9664"));if(!this.props.typeaheadConfig.keywordsOnlyEnabled)this.$MSearchTypeaheadNeue24=null;else this.$MSearchTypeaheadNeue24=e.create("a",{href:"#",className:ra("_3k_n")},y._("\u53d6\u6d88"));return e.create("form",{className:"_13e_",action:"/search/top/"},[e.create("div",{className:"_13fn"},[this.$MSearchTypeaheadNeue20,e.create("label",{htmlFor:"main-search-input",className:"_13fo"},y._("\u641c\u5c0b")),this.$MSearchTypeaheadNeue23]),this.$MSearchTypeaheadNeue24])};F.prototype.$MSearchTypeaheadNeue47=function(G){var H=this.state.query,I={id:p.getKeywordSemantic(H),type:"keyword",isSeeMore:true,display:H,uri:this.$MSearchTypeaheadNeue48(H).toString(),keyword_type:"escape"};G=G.push(I);return G};F.prototype.$MSearchTypeaheadNeue49=function(){var G=this.props.typeaheadConfig,H=G.keywordsOnlyEnabled,I=G.keywordBucketSize,J=G.defaultNumTopResultsToShow,K=this.state.results,L=this.state,M=L.query,N=L.searchMode,O=this.$MSearchTypeaheadNeue3.bucketize(K.toArray(),H?I:J),P=[],Q=[],R=-1,S=[],T=0,U=[];O.forEach(function(W,X){var Y=W.headerType,K=W.results;if(Y==="suggested"&&"group_search"in O)Y="suggested_global";if(M.length===0||X<O.length-1){var Z=this.props.renderers.Header({activityLogURI:this.props.activityLogURI,isFirst:X===0,query:M,searchMode:N,type:Y});if(Z!=null)S.push(Z)}var va=K.map(function($,X){U.push($);if(this.state.isVisible&&$.isTrending&&$.isNullStateSuggestion){P[T]=$.topicID;Q[T]=T+1;R=$.trendingQueryID}return this.$MSearchTypeaheadNeue50($)}.bind(this));S.push.apply(S,va)}.bind(this));this.$MSearchTypeaheadNeue51("show",[U,{preventSessionStart:true}]);if(P.length>0&&!this.$MSearchTypeaheadNeue1){var V;this.$MSearchTypeaheadNeue1=new w();(V=this.$MSearchTypeaheadNeue1).addSubscriptions.apply(V,q.registerTrendingTopicListeners(P,o.msite_news_null_state,Q,R));q.logTrendingTopicImpressions(P,o.msite_news_null_state,Q,R)}else if(this.$MSearchTypeaheadNeue1!=null){this.$MSearchTypeaheadNeue1.release();this.$MSearchTypeaheadNeue1=null}return S};F.prototype.$MSearchTypeaheadNeue50=function(G){var H=this.state.results.indexOf(G);if(G.uri)if(this.$MSearchTypeaheadNeue16&&G.type=="page")G.uriWithSession=new x("/search/").addQueryData({query:G.name,tsid:this.$MSearchTypeaheadNeue12,source:D}).toString();else G.uriWithSession=new x(G.uri).addQueryData({tsid:this.$MSearchTypeaheadNeue12,source:D}).toString();if(G.isTrending)G.uriWithSession=new x(G.uriWithSession).addQueryData("position",H+1).toString();var I=G.isNullStateSuggestion?this.props.renderers.NullstateResult:this.props.renderers.TypedResult;return I({query:this.state.query,result:G})};F.prototype.$MSearchTypeaheadNeue52=function(){this.$MSearchTypeaheadNeue13=true};F.prototype.$MSearchTypeaheadNeue53=function(){return this.props.typeaheadConfig};F.prototype.$MSearchTypeaheadNeue54=function(){return this.state.searchMode};F.prototype.$MSearchTypeaheadNeue55=function(G){var H=t.queryThrottleTime,I=t.enableQueryThrottle,J=t.enableEagerSendRequest,K=t.queryWaitTime,L=t.redirectPages;if(this.$MSearchTypeaheadNeue4!=null&&!G)return;var M=this.$MSearchTypeaheadNeue4;if(M!=null){this.$MSearchTypeaheadNeue10.release();M.unbindFromTypeahead()}var N=this.$MSearchTypeaheadNeue54(),O=void 0;if(N!=null)O=this.$MSearchTypeaheadNeue6[N];if(O){this.$MSearchTypeaheadNeue34(O);this.$MSearchTypeaheadNeue51("refresh");return}var P=this.$MSearchTypeaheadNeue53().sources,Q=[],R=void 0;if(P.bootstrapped&&this.state.searchMode!=="group"){R=this.$MSearchTypeaheadNeue56(P.bootstrapped.src,P.bootstrapped.source_key);R.setConvertEntityToKeyword(t.keywordsOnlyEnabled);if(P.bootstrapped.max_results!=null)R.setMaximumResultCount(P.bootstrapped.max_results);R.setShowSecondaryAction(true);R.clientRendered=true;this.$MSearchTypeaheadNeue14=R;Q.push(R)}if(P.nullstate){this.$MSearchTypeaheadNeue15=this.$MSearchTypeaheadNeue57(P.nullstate.src);this.$MSearchTypeaheadNeue15.setMaximumResultCount(P.nullstate.max_results);this.$MSearchTypeaheadNeue15.setShowSecondaryAction(true);this.$MSearchTypeaheadNeue15.clientRendered=true;this.$MSearchTypeaheadNeue15.setCurrentProfileID(this.props.currentProfileID);if(this.state.searchMode==="group"){this.$MSearchTypeaheadNeue15.setEnableScoped(true);this.$MSearchTypeaheadNeue15.setCurrentProfileID(this.state.groupID)}Q.push(this.$MSearchTypeaheadNeue15)}var S=P.online;if(S){R=this.$MSearchTypeaheadNeue58(S.src);R.setMaximumResultCount(S.max_results);R.setEnableImmediateReturnOfCachedResults(S.enable_caching);R.setMaxResults(this.props.typeaheadConfig.numResultsToFetch);if(I)R.setThrottleSendRequest(H);R.setEnableEagerSendRequest(J);R.setQueryDelay(K);this.$MSearchTypeaheadNeue16=L;R.setShowSecondaryAction(true);R.clientRendered=true;Q.push(R)}M=this.$MSearchTypeaheadNeue59(Q);M.clientRendered=true;M.mergeKey="id";this.$MSearchTypeaheadNeue34(M);this.$MSearchTypeaheadNeue51("start");this.$MSearchTypeaheadNeue6[N]=this.$MSearchTypeaheadNeue4};F.prototype.$MSearchTypeaheadNeue59=function(G){var H=new h(G);H.setConfig(this.props.typeaheadConfig.compositeSourceConfig);return H};F.prototype.$MSearchTypeaheadNeue58=function(G){var H=this.props.typeaheadConfig,I=H.disableLongerQueryCacheHit,J=H.numResultsToFetch;G=new j(G,{disableLongerQueryCacheHit:I,numResultsToFetch:J});if(this.state.searchMode==="group"){G.setIsScoped(true);G.setGroupID(this.state.groupID)}return G};F.prototype.$MSearchTypeaheadNeue56=function(G,H){return new k(G,H)};F.prototype.$MSearchTypeaheadNeue57=function(G){return new la(G)};F.prototype.$MSearchTypeaheadNeue60=function(){if(!this.props.typeaheadConfig.mSideNavMarauderLogger||this.$MSearchTypeaheadNeue17)return;this.$MSearchTypeaheadNeue2.addSubscriptions(this.props.typeaheadConfig.mSideNavMarauderLogger.setupTypeaheadListener(this));this.$MSearchTypeaheadNeue17=true};F.prototype.$MSearchTypeaheadNeue61=function(){if(this.$MSearchTypeaheadNeue18)return;var G=new ja(this,ta);this.$MSearchTypeaheadNeue2.addSubscriptions({remove:function H(){return G.destroy()}});this.$MSearchTypeaheadNeue2.addSubscriptions(u.listen("m-typeahead-logger:new-session-id",null,this.$MSearchTypeaheadNeue62));this.$MSearchTypeaheadNeue18=true;this.$MSearchTypeaheadNeue2.addSubscriptions(u.listen("log-m-search-session-end",null,function(H){G.blur(H.getData().reason)}))};F.prototype.$MSearchTypeaheadNeue63=function(){var G,H=this;if(this.props.typeaheadConfig.hasRecentSearches)(function(){var I=new ha(H);H.$MSearchTypeaheadNeue2.addSubscriptions({remove:function J(){return I.destroy()}})})()};F.prototype.$MSearchTypeaheadNeue64=function(){var G=this.$MSearchTypeaheadNeue54();if(G!=null&&(!this.props.typeaheadConfig.typeaheadScubaInfo||this.$MSearchTypeaheadNeue7[G]))return;var H=ka.getNewMSearchTypeaheadPerfLogger,I=H(this,this.props.typeaheadConfig.typeaheadScubaInfo,this.props.typeaheadConfig.sources.online.enable_caching);this.$MSearchTypeaheadNeue2.addSubscriptions({remove:function J(){return I.destroy()}});this.$MSearchTypeaheadNeue19=I;this.$MSearchTypeaheadNeue7[G]=true};F.prototype.$MSearchTypeaheadNeue65=function(){var G=this.$MSearchTypeaheadNeue20.value;this.$MSearchTypeaheadNeue51("keypress",[G])};F.prototype.listen=function(G,H){var I=this.$MSearchTypeaheadNeue5.addListener(G,H);return{type:G,callback:H,remove:function J(){I.remove()}}};F.prototype.$MSearchTypeaheadNeue51=function(G){var H,I=arguments.length<=1||arguments[1]===undefined?[]:arguments[1];(H=this.$MSearchTypeaheadNeue5).emit.apply(H,[G].concat(I))};F.prototype.$MSearchTypeaheadNeue42=function(event){event.prevent();l.popSoftState(n.SEARCH)};F.prototype.$MSearchTypeaheadNeue48=function(G){G=G.trim();var H=this.state.groupID;if(H&&this.state.searchMode==="group")return p.getGroupSearchURI(H,G);return p.getKeywordURI(G)};F.prototype.$MSearchTypeaheadNeue27=function(){var G=new x(window.location);return G.getQueryData().groupID};F.prototype.$MSearchTypeaheadNeue67=function(G){if(G.getQueryData().groupID)return"group";return null};F.prototype.$MSearchTypeaheadNeue26=function(){var G=new x(window.location),H=this.$MSearchTypeaheadNeue67(G);if(H!=null)return H;return"global"};F.prototype.$MSearchTypeaheadNeue46=function(){if(this.state.searchMode==="group"&&this.$MSearchTypeaheadNeue25===null)return y._("\u5728{groupName}\u4e2d\u641c\u5c0b",[y.param("groupName",this.state.groupName)]);else return y._("\u641c\u5c0b")};F.prototype.$MSearchTypeaheadNeue66=function(G){ga.load(G)};F.prototype.setState=function(G,H){var I=babelHelpers["extends"]({},this.state);this.state=babelHelpers["extends"]({},this.state,G);if(this.state.query!==I.query&&this.$MSearchTypeaheadNeue20.value!==this.state.query)this.$MSearchTypeaheadNeue20.value=this.state.query;if(!this.$MSearchTypeaheadNeue11&&!I.isVisible&&this.state.isVisible){this.$MSearchTypeaheadNeue55();this.$MSearchTypeaheadNeue60();this.$MSearchTypeaheadNeue61();this.$MSearchTypeaheadNeue64();this.$MSearchTypeaheadNeue63();var J=r.hasTouchEvents()?"touchend":"click";u.invoke(J,"graph-search-activator");this.$MSearchTypeaheadNeue51("change",[this.$MSearchTypeaheadNeue20.value]);this.$MSearchTypeaheadNeue11=true}else if(this.state.searchMode!==I.searchMode){this.$MSearchTypeaheadNeue55(true);this.$MSearchTypeaheadNeue64();this.$MSearchTypeaheadNeue28()}if(this.state.searchMode!==I.searchMode)this.$MSearchTypeaheadNeue20.setAttribute("placeholder",String(this.$MSearchTypeaheadNeue46()));if(this.$MSearchTypeaheadNeue25!=null&&this.state.isOpen)if(this.state.searchMode!=="group")d.hide(this.$MSearchTypeaheadNeue25);else{if(this.state.groupName!==I.groupName){var K=e.find(this.$MSearchTypeaheadNeue25,"span"),L=e.create("span",this.state.groupName);e.replace(K,L)}d.show(this.$MSearchTypeaheadNeue25)}if(this.state.isOpen!==I.isOpen||this.state.isVisible!==I.isVisible)if(l.getParam(l.SOFT_STATE_KEY)!==n.SEARCH){var M=qa(m.JEWEL_NAV_NODE_ID);if(M!=null){var N=e.find(M,"*","search");if(N)d.conditionClass(N,"isActive",!!this.state.isVisible)}}var O=this.props.root;if(this.state.isOpen!==I.isOpen){d.conditionClass(O,"_h3o",!!this.state.isOpen);d.conditionClass(O,"_13gr",!this.state.isOpen)}if(this.state.isVisible!==I.isVisible){d.conditionClass(O,"_1vty",!!this.state.isVisible);d.conditionClass(O,"_1vtz",!this.state.isVisible)}if(!this.state.isOpen&&I.isOpen){this.$MSearchTypeaheadNeue20.blur();v.set(document.getElementById("page"),"height",null)}if(this.state.isWaiting&&!I.isWaiting)d.addClass(this.props.root,"_13gv");else if(!this.state.isWaiting&&I.isWaiting)d.removeClass(this.props.root,"_13gv");if(this.state.query&&this.state.isInputFocused)e.show(this.$MSearchTypeaheadNeue23);else e.hide(this.$MSearchTypeaheadNeue23);if(H!=null)H()};F.prototype.initBehaviors=function(G){G.forEach(function(H){this.enableBehavior(H)}.bind(this))};F.prototype.getRoot=function(){return this.props.root};F.init=function(G){return new F(G)};a.exports=F}),null);