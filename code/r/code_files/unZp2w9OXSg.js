if (self.CavalryLogger) { CavalryLogger.start_js(["nD\/O2"]); }

__d("MSiteDiodeSourceGroup",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MESSENGER:"messenger",MLITE:"mlite"})}),null);
__d("MSiteMessengerDiodeLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FAST_APP_SWITCH_ATTEMPT:"fast_app_switch_attempt",FAST_APP_SWITCH_FAIL:"fast_app_switch_fail",DIODE_ROADBLOCK_QP_LOAD_FAIL:"diode_roadblock_qp_load_fail"})}),null);
__d("MSiteMessengerDiodeTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g,h,i,j){"use strict";function k(){this.clear()}k.prototype.log=function(){i.log("logger:MSiteMessengerDiodeLoggerConfig",this.$MSiteMessengerDiodeTypedLogger1,h.BASIC)};k.prototype.logVital=function(){i.log("logger:MSiteMessengerDiodeLoggerConfig",this.$MSiteMessengerDiodeTypedLogger1,h.VITAL)};k.prototype.clear=function(){this.$MSiteMessengerDiodeTypedLogger1={};return this};k.prototype.updateData=function(m){this.$MSiteMessengerDiodeTypedLogger1=babelHelpers["extends"]({},this.$MSiteMessengerDiodeTypedLogger1,m);return this};k.prototype.setEvent=function(m){this.$MSiteMessengerDiodeTypedLogger1.event=m;return this};k.prototype.setMessagingEntryPoint=function(m){this.$MSiteMessengerDiodeTypedLogger1.messaging_entry_point=m;return this};k.prototype.setMsiteDiodeStateFromClient=function(m){this.$MSiteMessengerDiodeTypedLogger1.msite_diode_state_from_client=m;return this};k.prototype.setVC=function(m){this.$MSiteMessengerDiodeTypedLogger1.vc=m;return this};var l={event:true,messaging_entry_point:true,msite_diode_state_from_client:true,vc:true};f.exports=k}),null);
__d("MessengerLiteDiodeEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PLAY_STORE_INSTALL_CLICK:"play_click",SIDELOAD_INSTALL_CLICK:"sideload_click",FAST_SWITCH_ATTEMPT:"fastswitch_attempt",FAST_SWITCH_FAIL:"fastswitch_fail"})}),null);
__d("MessengerLiteDiodeTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g,h,i,j){"use strict";function k(){this.clear()}k.prototype.log=function(){i.log("logger:MessengerLiteDiodeLoggerConfig",this.$MessengerLiteDiodeTypedLogger1,h.BASIC)};k.prototype.logVital=function(){i.log("logger:MessengerLiteDiodeLoggerConfig",this.$MessengerLiteDiodeTypedLogger1,h.VITAL)};k.prototype.clear=function(){this.$MessengerLiteDiodeTypedLogger1={};return this};k.prototype.updateData=function(m){this.$MessengerLiteDiodeTypedLogger1=babelHelpers["extends"]({},this.$MessengerLiteDiodeTypedLogger1,m);return this};k.prototype.setEvent=function(m){this.$MessengerLiteDiodeTypedLogger1.event=m;return this};k.prototype.setMsiteDiodePromotableApp=function(m){this.$MessengerLiteDiodeTypedLogger1.msite_diode_promotable_app=m;return this};k.prototype.setMsiteDiodeStateFromClient=function(m){this.$MessengerLiteDiodeTypedLogger1.msite_diode_state_from_client=m;return this};k.prototype.setSource=function(m){this.$MessengerLiteDiodeTypedLogger1.source=m;return this};k.prototype.setVC=function(m){this.$MessengerLiteDiodeTypedLogger1.vc=m;return this};var l={event:true,msite_diode_promotable_app:true,msite_diode_state_from_client:true,source:true,vc:true};f.exports=k}),null);
__d("XMSiteDiodeMessengerLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messenger/log/",{log:{type:"Bool",defaultValue:false}})}),null);
__d("MessagesJewelNativeAppRedirect",["Stratcom","URI","MRequest","XMSiteDiodeMessengerLoggingController","MSiteMessengerDiodeTypedLogger","MSiteMessengerDiodeLoggerEvent","MessengerLiteDiodeTypedLogger","MessengerLiteDiodeEvent","MSiteDiodeSourceGroup","MHistory","MJewels"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s={registerOpenURIStringForIOS:function t(u,v){function w(event){if(event.getData().jewel==="messages"){var x=k.getURIBuilder().setBool("log",true).getURI(),y=new j(x);y.listen("done",function(z){if(v){var A=new i(u);A.go()}});y.listen("error",function(z){if(v){var A=new i(u);A.go()}});y.send()}}h.listen("m:jewel:flyout:open",null,w)},registerRedirect:function t(u,v,w,x,y,z,A){function B(event){if(event.getData().jewel==="messages"){var C=k.getURIBuilder().setBool("log",true).getURI();new j(C).send();if(w){if(A===p.MLITE)new n().setEvent(o.FAST_SWITCH_ATTEMPT).setMsiteDiodeStateFromClient(x).setMsiteDiodePromotableApp(z).log();else new l().setEvent(m.FAST_APP_SWITCH_ATTEMPT).setMessagingEntryPoint(v).setMsiteDiodeStateFromClient(x).log();var D=new i(u);D.go();if(y)q.popSoftState(r.MESSAGES)}}}h.listen("m:jewel:flyout:open",null,B)}};f.exports=s}),null);
__d("MessengerRedirectOnClick",["URI","MRequest","XMSiteDiodeMessengerLoggingController","MSiteMessengerDiodeTypedLogger","MSiteMessengerDiodeLoggerEvent","MessengerLiteDiodeTypedLogger","MessengerLiteDiodeEvent","MSiteDiodeSourceGroup"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p={register:function q(r,s,t,u,v,w,x){s.onclick=function(){var y=j.getURIBuilder().setBool("log",true).getURI();new i(y).send();if(u&&x===o.MLITE){new m().setEvent(n.FAST_SWITCH_ATTEMPT).setMsiteDiodeStateFromClient(v).setMsiteDiodePromotableApp(w).log();var z=new h(r);z.go()}else if(u){new k().setEvent(l.FAST_APP_SWITCH_ATTEMPT).setMessagingEntryPoint(t).setMsiteDiodeStateFromClient(v).log();var A=new h(r);A.go()}}}};f.exports=p}),null);
__d("XQuickPromotionSimpleLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/qp/action/log/",{qp_id:{type:"Int",required:true},qp_action:{type:"Enum",enumType:1},qp_instance_log_data:{type:"StringToStringMap",defaultValue:{}},qp_event:{type:"String"}})}),null);
__d("MQuickPromotionEmbeddedInterstitial",["DOM","MRequest","Stratcom","XQuickPromotionSimpleLoggingController"],(function a(b,c,d,e,f,g,h,i,j,k){var l=false,m=function m(n,o,p){if(l)return;l=true;function q(event){j.removeCurrentListener();var s=event.getNode(n.promo);h.hide(s);var t=h.find(event.getNode(n.jewel),"div",n.sibling);h.show(t);j.invoke("m:qp:embedded-interstitial:close")}function r(event){if(event.getData().jewel==n.jewel){j.removeCurrentListener();var s=k.getURIBuilder().setInt("qp_id",o).setStringToStringMap("qp_instance_log_data",p).setString("qp_event","view").getURI(),t=new i(s);t.send()}}j.listen("click",n.close,q);j.listen("m:jewel:flyout:open",null,r)};g.main=m}),null);
__d("MQuickPromotionMMessengerBanner",["DOM","MRequest","Stratcom","XQuickPromotionSimpleLoggingController"],(function a(b,c,d,e,f,g,h,i,j,k){var l=false,m=null,n=function n(o,p,q,r){if(l)return;l=true;function s(){var w=k.getURIBuilder().setInt("qp_id",q).setStringToStringMap("qp_instance_log_data",r).setString("qp_event","view").getURI(),x=new i(w);x.send()}function t(event){j.removeCurrentListener();var w=event.getNode(o.promo);h.hide(w);m.remove()}function u(event){if(event.getData().jewel==o.jewel)s()}function v(event){j.removeCurrentListener();s();m=j.listen("m:jewel:flyout:open",null,u)}j.listen("click",o.close,t);if(p)j.listen("m:qp:embedded-interstitial:close",null,v);else m=j.listen("m:jewel:flyout:open",null,u)};g.main=n}),null);