if (self.CavalryLogger) { CavalryLogger.start_js(["YeXzN"]); }

__d("TypeaheadNormalizer",[],(function a(b,c,d,e,f,g){var h={normalize:function i(j){return(""+j).toLocaleLowerCase().replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/ +/g," ").replace(/^\s*|\s*$/g,"")}};f.exports=h}),null);
__d("TypeaheadInternationalNormalizer",["TypeaheadNormalizer"],(function a(b,c,d,e,f,g,h){var i={normalize:function j(k){var l=i._charmap;return h.normalize(k).replace(/[\u00e0-\u0450]/g,function(m){return m in l?l[m]:m})},_charmap:{"\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"ae","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0153":"oe","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u044b":"y","\u044d":"e","\u044e":"u","\u044f":"ya"}};f.exports=i}),null);
__d("TypeaheadSource",["DOM","TypeaheadNormalizer","createDeprecatedProperties","eventsMixinDeprecated","ex"],(function a(b,c,d,e,f,g,h,i,j,k,l){function m(n){"use strict";n=n||{};this.disableLongerQueryCacheHit=n.disableLongerQueryCacheHit;this._raw={};this._lookup={};this._firstSeenOnValue={};this.setNormalizer(i.normalize);this._excludeIDs={}}m.prototype.bindToTypeahead=function(n){"use strict";this._changeListener=n.listen("change",this.didChange.bind(this));this._startListener=n.listen("start",this.didStart.bind(this));this._clearListener=n.listen("clear",this.didClear.bind(this))};m.prototype.unbindFromTypeahead=function(){"use strict";this._changeListener.remove();this._startListener.remove();this._clearListener.remove();this._clearListener=null};m.prototype.didChange=function(n){"use strict";return};m.prototype.didStart=function(){"use strict";return};m.prototype.didClear=function(){"use strict";return};m.prototype.clearCache=function(){"use strict";this._raw={};this._lookup={}};m.prototype.addExcludeID=function(n){"use strict";if(n)this._excludeIDs[n]=true};m.prototype.removeExcludeID=function(n){"use strict";if(n)delete this._excludeIDs[n]};m.prototype.addResult=function(n,o){"use strict";n=(this.getTransformer()||this._defaultTransformer)(n);if(n.id in this._raw)return;this._raw[n.id]=n;this._firstSeenOnValue[n.id]=this._firstSeenOnValue[n.id]||o;var p=this.tokenize(n.tokenizable||n.name);for(var q=0;q<p.length;++q){this._lookup[p[q]]=this._lookup[p[q]]||[];if(Object.prototype.toString.call(this._lookup[p[q]])!=="[object Array]")throw new Error(l("Lookup entry was not an array. key: %s. value: %s",p[q],this._lookup[p[q]]));this._lookup[p[q]].push(n.id)}};m.prototype.waitForResults=function(){"use strict";this.invoke("waiting");return this};m.prototype.getResult=function(n){"use strict";return this._raw[n]};m.prototype.emptyResults=function(){"use strict";return[]};m.prototype.getMatchedResults=function(n){"use strict";var o=[];if(n==="")o=this.emptyResults();else{var p=n,q={},r={},s={},t={},u=this.getQueryExtractor();if(u)n=u(n);var v=this.tokenize(n),w=v[v.length-1];v.sort(function(F,G){return G.length-F.length});for(var x=0;x<v.length;++x){if(v[x]in t){v.splice(x--,1);continue}t[v[x]]=true;var y=v[x];for(var z in this._lookup){var A=this.checkFragmentMatches(z,y,p,w);if(A){if(!(z in s))s[z]=true;else continue;var B=this._lookup[z];for(var C=0;C<B.length;++C){var D=B[C];if(!r[D])r[D]={};if(!(y in r[D])){r[D][y]=true;q[D]=(q[D]||0)+1}}}}}for(var E in q)if(q[E]==v.length&&!this._excludeIDs[E]&&(!this.disableLongerQueryCacheHit||!this._firstSeenOnValue[E]||this._firstSeenOnValue[E].length<=n.length))o.push(E)}this.sortHits(n,o);return this.renderNodes(n,o)};m.prototype.checkFragmentMatches=function(n,o,p,q){"use strict";return n.substr(0,o.length)===o};m.prototype.matchResults=function(n){"use strict";var o=this.getMatchedResults(n);this.invoke("resultsready",o);this.invoke("complete")};m.prototype.sortHits=function(n,o){"use strict";var p=[],q;for(q=0;q<o.length;q++)p.push(this._raw[o[q]]);var r=function r(t,u){var v=t.sort||t.name,w=u.sort||u.name;return v.localeCompare(w)},s=this.getSortHandler()||function(n,t,u){t.sort(u)};s.call(this,n,p,r);o.splice(0,o.length);for(q=0;q<p.length;q++)o.push(p[q].id)};m.prototype.renderNodes=function(n,o){"use strict";var p=Math.min(this.getMaximumResultCount(),o.length),q=[];for(var r=0;r<p;r++)if(o[r]in this._raw){var s=this._raw[o[r]];if(!this.clientRendered)s=this.createNode(s);q.push(s)}return q};m.prototype.createNode=function(n){"use strict";return h.create("a",{sigil:"typeahead-result",href:n.uri,name:n.name,rel:n.id,className:"jx-result"},n.display)};m.prototype.normalize=function(n){"use strict";return this.getNormalizer()(n)};m.prototype.tokenize=function(n){"use strict";n=this.normalize(n);if(!n.length)return[];return n.split(/\s/g)};m.prototype._defaultTransformer=function(n){"use strict";return{name:n[0],display:n[0],uri:n[1],id:n[2]}};k(m,["waiting","resultsready","complete","after_complete","initial_render","initial_results_ready","req_dispatch","req_sent","req_recv","unlock_render"]);j(m,{normalizer:null,queryExtractor:null,transformer:null,maximumResultCount:5,sortHandler:null});Object.assign(m.prototype,{_raw:null,_lookup:null,_firstOnValue:null,_excludeIDs:null,_changeListener:null,_startListener:null,_clearListener:null,clientRendered:false});f.exports=m}),null);
__d("TypeaheadOnDemandSource",["setTimeoutAcrossTransitions","TypeaheadSource","createDeprecatedProperties"],(function a(b,c,d,e,f,g,h,i,j){var k,l;k=babelHelpers.inherits(m,i);l=k&&k.prototype;function m(n,o){"use strict";l.constructor.call(this,o);this.uri=n;this.haveData={"":true}}m.prototype.didChange=function(n){"use strict";this.lastChange=Date.now();n=this.normalize(n);if(this.haveData[n])this.matchResults(n);else{this.waitForResults();h(this.sendRequest.bind(this,this.lastChange,n),this.getQueryDelay())}};m.prototype.sendRequest=function(){"use strict";throw new Error("Use MTypeaheadOnDemandSource!")};m.prototype.ondata=function(n,o,p){"use strict";if(p)for(var q=0;q<p.length;q++)this.addResult(p[q],o);this.haveData[o]=true;if(n!=this.lastChange)return;this.matchResults(o)};m.prototype.clearCache=function(){"use strict";l.clearCache.call(this);this.haveData={"":true}};j(m,{queryDelay:125,auxiliaryData:{}});Object.assign(m.prototype,{uri:null,lastChange:null,haveData:null});f.exports=m}),null);
__d("TypeaheadCompositeSource",["TypeaheadSource","TypeaheadOnDemandSource","isElementNode"],(function a(b,c,d,e,f,g,h,i,j){var k,l;k=babelHelpers.inherits(m,h);l=k&&k.prototype;function m(n,o){"use strict";l.constructor.call(this);o=o||{};this.sources=n;this.cacheSourceCount=n.length;this.isWorkUser=o.isWorkUser;this.delayRender=false;this.allowEmptyMergeKey=true;this.shouldMergeResults=true;for(var p=0;p<this.sources.length;++p){var q=this.sources[p];q.listen("waiting",this.childWaiting.bind(this));q.listen("resultsready",this.childResultsReady.bind(this));q.listen("complete",this.childComplete.bind(this));if(q instanceof i){q.listen("req_dispatch",this.childRequestDispatch.bind(this));q.listen("req_sent",this.childRequestSent.bind(this));q.listen("req_recv",this.childRequestReceived.bind(this));q.listen("unlock_render",this.startRender.bind(this));if(q.enableImmediateReturnOfCachedResults===false)--this.cacheSourceCount;if(q.enableEagerSendRequest)this.delayRender=true;this.listen("initial_results_ready",q.setCacheResultsLength.bind(q))}}}m.prototype.didChange=function(n){"use strict";this.results=[];this.completeCount=0;this.readyCount=0;this.lockRender=true;for(var o=0;o<this.sources.length;++o)this.sources[o].didChange(n)};m.prototype.didStart=function(){"use strict";for(var n=0;n<this.sources.length;++n)this.sources[n].didStart()};m.prototype.didClear=function(){"use strict";this.results=[]};m.prototype.addExcludeID=function(n){"use strict";for(var o=0;o<this.sources.length;++o)this.sources[o].addExcludeID(n)};m.prototype.removeExcludeID=function(n){"use strict";for(var o=0;o<this.sources.length;++o)this.sources[o].removeExcludeID(n)};m.prototype.childWaiting=function(){"use strict";if(!this.results||!this.results.length)this.invoke("waiting")};m.prototype.childResultsReady=function(n){"use strict";if(this.shouldMergeResults)this.results=this.mergeResults(this.results||[],n);else this.results=n;++this.readyCount;if(this.readyCount==this.cacheSourceCount){if(this.results!==null)this.results.forEach(function(o){o.isFromCache=true});this.invoke("initial_results_ready",this.countValidResults(this.results))}if(!this.delayRender||!this.lockRender){this.invoke("resultsready",this.results);if(this.readyCount==this.cacheSourceCount)this.invoke("initial_render")}};m.prototype.childComplete=function(){"use strict";this.completeCount++;if(this.completeCount==this.sources.length){this.invoke("complete");this.invoke("after_complete")}};m.prototype.childRequestDispatch=function(n){"use strict";this.invoke("req_dispatch",n)};m.prototype.childRequestSent=function(){"use strict";this.invoke("req_sent")};m.prototype.childRequestReceived=function(n){"use strict";this.invoke("req_recv",n)};m.prototype.startRender=function(){"use strict";this.lockRender=false;this.invoke("resultsready",this.results);this.invoke("initial_render")};m.prototype.countValidResults=function(n){"use strict";var o=0;n.forEach(function(p){var q=j(p)?p.getAttribute(this.mergeKey):p[this.mergeKey];if(q!=null)++o},this);return o};m.prototype.getResult=function(n){"use strict";var o;for(var p=0;p<this.sources.length;++p){o=this.sources[p].getResult(n);if(o!==undefined)break}return o};m.prototype.disableEmptyMergeKey=function(){"use strict";this.allowEmptyMergeKey=false};m.prototype.mergeResults=function(n,o){"use strict";var p=[].concat(n);if(o.length===0)return p;var q={},r;for(r=0;r<n.length;++r){var s=n[r],t=j(s)?s.getAttribute(this.mergeKey):s[this.mergeKey];q[t]=true}for(r=0;r<o.length;++r){var u=o[r],v=j(u)?u.getAttribute(this.mergeKey):u[this.mergeKey];if((this.allowEmptyMergeKey||v!=null)&&!(v in q))p.push(u)}return p};m.prototype.setShouldMergeResults=function(n){"use strict";this.shouldMergeResults=n};Object.assign(m.prototype,{sources:null,results:null,completeCount:0,mergeKey:"rel",isWorkUser:false});f.exports=m}),null);
__d("TypeaheadPreloadedSource",["TypeaheadSource"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,h);j=i&&i.prototype;function k(l){"use strict";j.constructor.call(this);this.uri=l}k.prototype.didChange=function(l){"use strict";if(this.ready)this.matchResults(l);else{this.lastValue=l;this.waitForResults()}};k.prototype.didStart=function(){"use strict";throw new Error("Use MTypeaheadPreloadedSource!")};k.prototype.ondata=function(l){"use strict";for(var m=0;m<l.length;++m)this.addResult(l[m]);if(this.lastValue!==null)this.matchResults(this.lastValue);this.ready=true};Object.assign(k.prototype,{ready:false,uri:null,lastValue:null});f.exports=k}),null);
__d("MDynaTemplate",["HTML","ex"],(function a(b,c,d,e,f,g,h,i){var j={_otag:"[[",_regexOtag:"\\[\\[",_regexCtag:"\\]\\]",_regexTag:0,_regexNewTag:0,_templates:{},_alias:{},_contains:function k(l,m){return m.indexOf(j._otag+l)!=-1},_escapeChar:function k(l){switch(l){case"&":return"&amp;";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return l}},_escape:function k(l){l=l===null?"":""+l;return l.replace(/&(?!\w+;)|[\"\'<>]/g,j._escapeChar)},registerTemplates:function k(l){for(var m in l){var n=l[m];j._alias[n[0]]=n[1];j._templates[m]=n[1]}},renderToHtml:function k(l,m){if(l.charAt(0)=="@")return j.renderToHtml(j._alias[l.substring(1)],m);if(j._contains("#",l)||j._contains("^",l))l=l.replace(j._regexTag,function(n,o,p,q){var r=m[p];r=r&&r.__html!==undefined?r.__html:r;if(o=="^")if(!r||Array.isArray(r)&&r.length===0)return j.renderToHtml(q,m);else return"";else if(o=="#"){if(Array.isArray(r)){var s=[];for(var t=0;t<r.length;t++)s.push(j.renderToHtml(q,r[t]));return s.join("")}else if(r&&typeof r=="object")return j.renderToHtml(q,r);else if(!(typeof r=="function"))if(r)return j.renderToHtml(q,m);return""}});if(!j._contains("",l))return l;return l.replace(j._regexNewTag,function(n,o,p){p=p.replace(/^\s*|\s*$/g,"");var q=m[p];if(!q||Array.isArray(q)&&q.length===0)return"";switch(o){case">":if(q[0].charAt(0)=="@")return j.renderToHtml(q[0],q[1]);else if(!(q[0]in j._templates))return"";return j.renderToHtml(j._templates[q[0]],q[1]);case"%":break;default:if(window.HTML&&q instanceof h)return q.toString();return q.__html!==undefined?q.__html:j._escape(q)}})}};(function(){j._regexTag=new RegExp(j._regexOtag+"(\\^|\\#)\\s*(.+)\\s*"+j._regexCtag+"\n*([\\s\\S]+?)"+j._regexOtag+"\\/\\s*\\2\\s*"+j._regexCtag+"\\s*","mg");j._regexNewTag=new RegExp(j._regexOtag+"(>|\\[|%)?([^\\/#\\^]+?)\\1?"+j._regexCtag+"+","g")})();f.exports=j}),null);
__d("MTypeaheadCache",["MCache","URI"],(function a(b,c,d,e,f,g,h,i){var j="1",k=12096e5;function l(p){var q=h.getItem(p);if(!q||q.cacheVersion!==j){q={cacheVersion:j,cachedKeys:{}};h.setItem(p,q)}var r=q.cachedKeys,s=false,t=Date.now()-k;for(var u in r)if(r[u].time<t){s=true;delete r[u]}if(s)h.setItem(p,q);return q}function m(p){return"typeahead_"+p}function n(p){var q=new i(p),r=q.getQueryData(),s=r.cacheBust;if(!s)q.addQueryData("noBust","");q.removeQueryData("cacheBust");var t=q.toString();return{cacheKey:t,busterToken:s}}var o={get:function p(q,r){var s=n(r),t=s.cacheKey,u=s.busterToken,v=l(m(q)).cachedKeys[t];if(v&&v.cacheBusterToken===u)return v.data;return null},set:function p(q,r,s){var t=m(q),u=l(t),v=n(r),w=v.cacheKey,x=v.busterToken;u.cachedKeys[w]={cacheBusterToken:x,time:Date.now(),data:s};h.setItem(t,u)}};f.exports=o}),null);
__d("MTypeaheadCachableSource",["MRequest","MTypeaheadCache","TypeaheadPreloadedSource","createDeprecatedProperties","eventsMixinDeprecated"],(function a(b,c,d,e,f,g,h,i,j,k,l){var m,n;m=babelHelpers.inherits(o,j);n=m&&m.prototype;function o(p,q){"use strict";n.constructor.call(this,p);this.sourceKey=q||null}o.prototype.didStart=function(){"use strict";var p=this.ondata,q=o._bootstrapping;if(this.sourceKey){if(q[this.sourceKey]===true){o.listen("bootstrapped",function(s){s.source_key===this.sourceKey&&this.didStart()}.bind(this));return}var r=i.get(this.sourceKey,this.uri);if(r){this.invoke("rawresultsready",r);p.call(this,r);return}}if(this.uri)this.sendRequest()};o.prototype.sendRequest=function(){"use strict";var p=o._bootstrapping;p[this.sourceKey]=true;var q=new h(this.uri).setMethod("GET").setIgnoreErrors(true);q.listen("done",function(r){r=r.payload||r;for(var s=0;s<r.length;++s)r[s].bootstrap=1;if(this.sourceKey)i.set(this.sourceKey,this.uri,r);this.invoke("rawresultsready",r);this.ondata.call(this,r);delete p[this.sourceKey];this.invoke("bootstrapped",{source_key:this.sourceKey})}.bind(this));q.listen("finally",function(){delete p[this.sourceKey]}.bind(this));q.listen("open",function(){var r=q.getTransport();r.withCredentials=true;if(window.FW_ENABLED&&!this.getNofwheaders()){r.setRequestHeader("FB_FW","1");if(window.FB_FW_VERSION)r.setRequestHeader("FB_FW_VERSION",window.FB_FW_VERSION);if(window.FB_FW_DEVICE)r.setRequestHeader("FB_FW_DEVICE",window.FB_FW_DEVICE)}}.bind(this));if(this.getAuxiliaryData())q.setData(this.getAuxiliaryData());q.send()};l(o,["bootstrapped","rawresultsready"]);k(o,{nofwheaders:false,showSecondaryAction:false,auxiliaryData:{}});Object.assign(o,{_bootstrapping:{}});Object.assign(o.prototype,{sourceKey:null});f.exports=o}),null);
__d("MTypeaheadHelpers",["cx","CSS","DOM","MLegacyDataStore","fbt","HTML","MDynaTemplate","FWLoader"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){var o=c("FWLoader").FW,p=43,q=65536,r={getSecondaryAction:function s(t){if(t.action=="phone")return this.getPhoneAction(t);else if(t.action=="add_friend")return this.getAddAction(t);else if(t.action=="add_contact")return this.getAddContactAction(t);else if(t.action=="message")return this.getMessageAction(t);return null},getPhoneAction:function s(t){if(!t.paths||!(t.paths.mobile||t.paths.sms))return null;var u=n.renderToHtml("@CallButtonTemplate",{call_uri:t.paths.mobile,call_style:t.paths.mobile?"":"display:none;",sms_uri:t.paths.sms,sms_style:t.paths.sms?"":"display:none;"});return new m(u)},getAddAction:function s(t){if(!t.paths||!t.paths[t.action])return null;return new m(t.paths[t.action])},getAddContactAction:function s(t){if(!t.paths||!t.paths[t.action])return null;return t.paths[t.action]},getMessageAction:function s(t){var u=n.renderToHtml("@MessageButtonTemplate",{message_uri:t.paths.message});return new m(u)},determineIconSize:function s(t,u){var v=u.photoSize||p,w=u.photo,x=new Image(),y=function y(z){var x=this;if(z.type==="load"){var A=document.getElementById(x.targetID);if(A){if(x.naturalWidth>v||x.naturalHeight>v){var B=window.devicePixelRatio,C=Math.round(x.naturalHeight/B),D=Math.round(x.naturalWidth/B);C=Math.min(C,v);D=Math.min(D,v);A.style.backgroundSize=D<C?D+"px auto":"auto "+C+"px"}A.style.backgroundImage="url("+x.src+")"}}x.onload=null;x.onerror=null;x.targetID=null};x.targetID=t;x.onload=y;x.onerror=y;x.src=w},getI18NTypeMap:function s(t){var u={App:l._("\u61c9\u7528\u7a0b\u5f0f"),Event:l._("\u6d3b\u52d5"),Group:l._("\u793e\u5718"),Page:l._("\u7c89\u7d72\u5c08\u9801"),page:l._("\u7c89\u7d72\u5c08\u9801"),Place:l._("\u5730\u6a19"),User:l._("\u7528\u6236")};if(u[t])return u[t];return t},createNode:function s(t,u){if(t instanceof HTMLElement)return t;var v=[];if(t.photo){var w=j.create("div",{className:"profile-icon"});v.push(w);this.determineIconSize(j.uniqID(w),t)}var x=[t.display];if(t.verified)x.push(t.verified);else if(t.is_verified){var y=j.create("span",{className:"_56_f _5dzy _5dz_ _3twv badge"});x.push(y)}var z=j.create("i",{className:"img presence",sigil:"presence"},"");j.hide(z);x.push(z);var A=j.create("span",{className:"mfsl"},x);v.push(A);if(!t.photo)i.conditionClass(A,"noimage",true);var B=t.subtext;i.conditionClass(A,"name",true);if(B)v.push(j.create("span",{className:"subtext mfss fcg"},B));var C={href:t.uri,name:t.name||t.display,className:"primary touchable",sigil:"touchable typeahead-result",rel:t.id};if(t.meta)C.meta=t.meta;var D=j.create("a",C,v),E=JSON.stringify(t);if(!(E.length>q))D.setAttribute("data-extra",E);D.setAttribute("data-testid",t.id);if(t.weak_reference)D.setAttribute("weak_reference",true);if(t.renderType)D.setAttribute("renderType",t.renderType);if(window.FW_ENABLED&&o.isIOS())k.set(D,{nativeClick:true});if(t.bootstrap)k.set(D,{bootstrap:1});if(t.gender)k.set(D,{gender:t.gender});if(t.untranslatedType)k.set(D,{type:t.untranslatedType});if(t.openinnewtab)D.setAttribute("target","_blank");if(t.isNullStateSuggestion)k.set(D,{isNullStateSuggestion:t.isNullStateSuggestion});var F=[D];if(u){var G=this.getSecondaryAction(t);if(G)F.push(G)}if(t.nativethirdpartyappicon)F.push(new m(n.renderToHtml("@NativeThirdPartyAppIconTemplate")));var H="jx-result";if(t.nativethirdpartyappicon||u&&this.getSecondaryAction(t))H+=" hasSecondaryAction";if(t.action=="add_friend"&&t.addfriendtemplate)n.renderToHtml("@AddFriendLoadResourcesTemplate");var I=j.create("div",{className:H,sigil:"jx-result"+(t.action=="add_friend"?" undoable-action":""),rel:t.id},F);if(t.renderType!=null)I.setAttribute("renderType",t.renderType);if(t.untranslatedType!=null)I.setAttribute("type",t.untranslatedType);if(t.category!=null)I.setAttribute("category",t.category);return I}};f.exports=r}),null);
__d("MTypeaheadOnDemandSource",["setTimeoutAcrossTransitions","MRequest","MTypeaheadHelpers","Stratcom","TypeaheadInternationalNormalizer","TypeaheadNormalizer","TypeaheadOnDemandSource","createDeprecatedProperties","throttle"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q,r;q=babelHelpers.inherits(s,n);r=q&&q.prototype;function s(t,u){"use strict";r.constructor.call(this,t,u);this.previousResults=null;this.setNormalizer(l.normalize);this.setSanitizer(m.normalize);this._allowFreeformEntry=false;this._cacheResultsLength=0;this._maxResults=1e6;k.listen("m-typeahead-logger:new-session-id",null,function(v){this._sessionID=v.getData().sessionID}.bind(this))}s.prototype.setAllowFreeformEntry=function(t){"use strict";this._allowFreeformEntry=t};s.prototype.createNode=function(t){"use strict";return j.createNode(t,this.getShowSecondaryAction())};s.prototype.didChange=function(t){"use strict";this.lastChange=Date.now();var u=this.getSanitizer()(t);if(this.haveData[u]){var v=this.normalize(u),w=this.getMatchedResults(v);this.invoke("resultsready",w);if(this.enableEagerSendRequest)this.invoke("unlock_render");this.invoke("complete")}else{if(this.enableImmediateReturnOfCachedResults===true){this.previousResults=this.getMatchedResults(t);this.invoke("resultsready",this.previousResults)}else this.previousResults=null;if(this._cacheResultsLength>=this._maxResults){if(this.enableEagerSendRequest)this.invoke("unlock_render");this.invoke("complete");return}if(!this.enableEagerSendRequest)this.waitForResults();this.invoke("req_dispatch",this._sessionID);if(this.throttleSendRequest)this.throttleSendRequest(this.lastChange,t);else h(this.sendRequest.bind(this,this.lastChange,t),this.getQueryDelay());if(this.enableEagerSendRequest){this.invoke("unlock_render");this.waitForResults()}}};s.prototype.setEnableImmediateReturnOfCachedResults=function(t){"use strict";this.enableImmediateReturnOfCachedResults=t};s.prototype.setEnableEagerSendRequest=function(t){"use strict";this.enableEagerSendRequest=t};s.prototype.setThrottleSendRequest=function(t){"use strict";this.throttleSendRequest=p.acrossTransitionsWithBlocking(this.sendRequest.bind(this),t)};s.prototype.setCacheResultsLength=function(t){"use strict";this._cacheResultsLength=t};s.prototype.setMaxResults=function(t){"use strict";this._maxResults=t};s.prototype.sendRequest=function(t,u){"use strict";if(t!=this.lastChange)return;if(!this.uri)return;var v=new i(this.uri);v.setData(Object.assign(this.getAuxiliaryData()||{},{q:u,session_id:this._sessionID}));v.setMethod("GET");v.listen("done",function(w,x,y){this.ondata(w,x,y)}.bind(this,this.lastChange,u));v.send();this.invoke("req_sent")};s.prototype.ondata=function(t,u,v){"use strict";v=v.payload||v;this.invoke("req_recv",v?v.length:0);var w=0,x=0,y={};if(this.previousResults!=null){x=this.previousResults.length;for(w=0;w<this.previousResults.length;w++){var z=this.previousResults[w];z.idx=w;this._raw[z.id]=z;this.addToLookup(z.id,u);y[z.id]=z.id}}if(v){if(v.length!==0){var A;for(A=0;A<v.length;++A)v[A].idx=A+x;for(A=0;A<v.length;A++)if(!(v[A].uid in y))this.addResult(v[A],u)}else if(this._allowFreeformEntry)this.addResult({text:u,uid:0,path:"#"},u);this.haveData[u]=true;if(t!=this.lastChange)return;this.matchResults(u)}};s.prototype.addResult=function(t,u){"use strict";var v=this.addToLookup.bind(this);if(t.uid in this._raw)this._raw[t.uid].idx=t.idx;t=(this.getTransformer()||this._defaultTransformer)(t);this._firstSeenOnValue[t.id]=this._firstSeenOnValue[t.id]||u;if(!(t.id in this._raw)){this._raw[t.id]=t;v(t.id,t.name);v(t.id,u)}else{this._raw[t.id]=t;v(t.id,u)}};s.prototype.addToLookup=function(t,u){"use strict";var v=this.tokenize(u);for(var w=0;w<v.length;++w){this._lookup[v[w]]=this._lookup[v[w]]||[];this._lookup[v[w]].push(t)}};s.prototype.sortHits=function(t,u){"use strict";var v=function(w,x){var y=this._raw[w],z=isNaN(y.idx)?Number.MAX_VALUE:y.idx,A=this._raw[x],B=isNaN(A.idx)?Number.MAX_VALUE:A.idx;return z-B}.bind(this);u.sort(v)};s.prototype.renderNodes=function(t,u){"use strict";return n.prototype.renderNodes.apply(this,arguments)};s.prototype.clearCache=function(){"use strict";r.clearCache.call(this);this.previousResults=null};o(s,{sanitizer:null,transformer:function t(u){return{name:u.text,uri:u.path,id:u.uid,photo:u.photo,display:u.display||u.text,action:u.action,paths:u.paths,permissions:u.permissions,photoSize:u.photo_size,type:u.type,openinnewtab:u.openinnewtab,subtext:u.text_only_subtext||u.subtext,nativethirdpartyappicon:u.nativethirdpartyappicon,idx:u.idx,renderType:u.render_type,untranslatedType:u.untranslated_type,verified:u.verified,weak_reference:u.weak_reference,geo_location_type:u.geo_location_type,city_id:u.city_id,city_text:u.city_text,isScoped:u.is_scoped,categoryID:u.cid,tagID:u.tid,category:u.category,location:u.location,street_address:u.street_address,postal_code:u.postal_code}},showSecondaryAction:true});f.exports=s}),null);
__d("MTypeaheadTouchSource",["MTypeaheadCachableSource","MTypeaheadHelpers","TypeaheadInternationalNormalizer","createDeprecatedProperties"],(function a(b,c,d,e,f,g,h,i,j,k){var l,m;l=babelHelpers.inherits(n,h);m=l&&l.prototype;function n(o,p){"use strict";m.constructor.call(this,o,p);this.setNormalizer(j.normalize)}n.prototype.createNode=function(o){"use strict";return i.createNode(o,this.getShowSecondaryAction())};n.prototype.matchResults=function(o){"use strict";var p=this.normalize(o);h.prototype.matchResults.call(this,p)};n.prototype.ondata=function(o){"use strict";for(var p=0;p<o.length;++p)o[p].idx=p;h.prototype.ondata.apply(this,[o])};k(n,{transformer:function o(p){var q=p.openinnewtab!=null?p.openinnewtab:p.type==="App";return{name:p.text,uri:p.path,id:p.uid,photo:p.photo,photoSize:p.photo_size,gender:p.gender,display:p.display||p.text,action:p.action,paths:p.paths,permissions:p.permissions,type:p.type,openinnewtab:q,subtext:p.subtext,nativethirdpartyappicon:p.nativethirdpartyappicon,bootstrap:p.bootstrap,idx:p.idx,tokenType:p.tokenType,renderType:p.render_type,untranslatedType:p.untranslated_type,weak_reference:p.weak_reference,is_verified:p.is_verified}},sortHandler:function o(p,q,r){var s=function s(t,u){var v=isNaN(t.idx)?Number.MAX_VALUE:t.idx,w=isNaN(u.idx)?Number.MAX_VALUE:u.idx;return v-w};q.sort(s)}});f.exports=n}),null);